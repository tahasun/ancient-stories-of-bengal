function xy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YC={exports:{}},Qh={},ZC={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=Symbol.for("react.element"),tR=Symbol.for("react.portal"),nR=Symbol.for("react.fragment"),rR=Symbol.for("react.strict_mode"),iR=Symbol.for("react.profiler"),oR=Symbol.for("react.provider"),sR=Symbol.for("react.context"),aR=Symbol.for("react.forward_ref"),lR=Symbol.for("react.suspense"),cR=Symbol.for("react.memo"),uR=Symbol.for("react.lazy"),Jb=Symbol.iterator;function fR(t){return t===null||typeof t!="object"?null:(t=Jb&&t[Jb]||t["@@iterator"],typeof t=="function"?t:null)}var QC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JC=Object.assign,eT={};function Ml(t,e,n){this.props=t,this.context=e,this.refs=eT,this.updater=n||QC}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tT(){}tT.prototype=Ml.prototype;function Cy(t,e,n){this.props=t,this.context=e,this.refs=eT,this.updater=n||QC}var Ty=Cy.prototype=new tT;Ty.constructor=Cy;JC(Ty,Ml.prototype);Ty.isPureReactComponent=!0;var e_=Array.isArray,nT=Object.prototype.hasOwnProperty,Py={current:null},rT={key:!0,ref:!0,__self:!0,__source:!0};function iT(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)nT.call(e,r)&&!rT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ru,type:t,key:o,ref:s,props:i,_owner:Py.current}}function dR(t,e){return{$$typeof:Ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ay(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ru}function hR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var t_=/\/+/g;function cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hR(""+t.key):e.toString(36)}function ud(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ru:case tR:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+cp(s,0):r,e_(i)?(n="",t!=null&&(n=t.replace(t_,"$&/")+"/"),ud(i,e,n,"",function(c){return c})):i!=null&&(Ay(i)&&(i=dR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(t_,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",e_(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+cp(o,a);s+=ud(o,e,n,l,i)}else if(l=fR(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+cp(o,a++),s+=ud(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function cf(t,e,n){if(t==null)return t;var r=[],i=0;return ud(t,r,"","",function(o){return e.call(n,o,i++)}),r}function gR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},fd={transition:null},pR={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:fd,ReactCurrentOwner:Py};lt.Children={map:cf,forEach:function(t,e,n){cf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cf(t,function(){e++}),e},toArray:function(t){return cf(t,function(e){return e})||[]},only:function(t){if(!Ay(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Ml;lt.Fragment=nR;lt.Profiler=iR;lt.PureComponent=Cy;lt.StrictMode=rR;lt.Suspense=lR;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pR;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JC({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Py.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nT.call(e,l)&&!rT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ru,type:t.type,key:i,ref:o,props:r,_owner:s}};lt.createContext=function(t){return t={$$typeof:sR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oR,_context:t},t.Consumer=t};lt.createElement=iT;lt.createFactory=function(t){var e=iT.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:aR,render:t}};lt.isValidElement=Ay;lt.lazy=function(t){return{$$typeof:uR,_payload:{_status:-1,_result:t},_init:gR}};lt.memo=function(t,e){return{$$typeof:cR,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=fd.transition;fd.transition={};try{t()}finally{fd.transition=e}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(t,e){return hr.current.useCallback(t,e)};lt.useContext=function(t){return hr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return hr.current.useEffect(t,e)};lt.useId=function(){return hr.current.useId()};lt.useImperativeHandle=function(t,e,n){return hr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return hr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return hr.current.useReducer(t,e,n)};lt.useRef=function(t){return hr.current.useRef(t)};lt.useState=function(t){return hr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return hr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return hr.current.useTransition()};lt.version="18.2.0";ZC.exports=lt;var g=ZC.exports;const de=Lu(g),Nu=xy({__proto__:null,default:de},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=g,vR=Symbol.for("react.element"),yR=Symbol.for("react.fragment"),bR=Object.prototype.hasOwnProperty,_R=mR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wR={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)bR.call(e,r)&&!wR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vR,type:t,key:o,ref:s,props:i,_owner:_R.current}}Qh.Fragment=yR;Qh.jsx=oT;Qh.jsxs=oT;YC.exports=Qh;var Ge=YC.exports,Xm={},sT={exports:{}},Xr={},aT={exports:{}},lT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,z){var B=A.length;A.push(z);e:for(;0<B;){var U=B-1>>>1,W=A[U];if(0<i(W,z))A[U]=z,A[B]=W,B=U;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var z=A[0],B=A.pop();if(B!==z){A[0]=B;e:for(var U=0,W=A.length,Y=W>>>1;U<Y;){var re=2*(U+1)-1,se=A[re],ge=re+1,ae=A[ge];if(0>i(se,B))ge<W&&0>i(ae,se)?(A[U]=ae,A[ge]=B,U=ge):(A[U]=se,A[re]=B,U=re);else if(ge<W&&0>i(ae,B))A[U]=ae,A[ge]=B,U=ge;else break e}}return z}function i(A,z){var B=A.sortIndex-z.sortIndex;return B!==0?B:A.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=A)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function w(A){if(v=!1,b(A),!p)if(n(l)!==null)p=!0,F(S);else{var z=n(c);z!==null&&N(w,z.startTime-A)}}function S(A,z){p=!1,v&&(v=!1,m(I),I=-1),h=!0;var B=d;try{for(b(z),f=n(l);f!==null&&(!(f.expirationTime>z)||A&&!R());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var W=U(f.expirationTime<=z);z=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(l)&&r(l),b(z)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var re=n(c);re!==null&&N(w,re.startTime-z),Y=!1}return Y}finally{f=null,d=B,h=!1}}var x=!1,E=null,I=-1,M=5,O=-1;function R(){return!(t.unstable_now()-O<M)}function D(){if(E!==null){var A=t.unstable_now();O=A;var z=!0;try{z=E(!0,A)}finally{z?k():(x=!1,E=null)}}else x=!1}var k;if(typeof y=="function")k=function(){y(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,G=j.port2;j.port1.onmessage=D,k=function(){G.postMessage(null)}}else k=function(){_(D,0)};function F(A){E=A,x||(x=!0,k())}function N(A,z){I=_(function(){A(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,F(S))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var B=d;d=z;try{return A()}finally{d=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,z){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var B=d;d=A;try{return z()}finally{d=B}},t.unstable_scheduleCallback=function(A,z,B){var U=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?U+B:U):B=U,A){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=B+W,A={id:u++,callback:z,priorityLevel:A,startTime:B,expirationTime:W,sortIndex:-1},B>U?(A.sortIndex=B,e(c,A),n(l)===null&&A===n(c)&&(v?(m(I),I=-1):v=!0,N(w,B-U))):(A.sortIndex=W,e(l,A),p||h||(p=!0,F(S))),A},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(A){var z=d;return function(){var B=d;d=z;try{return A.apply(this,arguments)}finally{d=B}}}})(lT);aT.exports=lT;var SR=aT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT=g,Wr=SR;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uT=new Set,Vc={};function Js(t,e){ol(t,e),ol(t+"Capture",e)}function ol(t,e){for(Vc[t]=e,t=0;t<e.length;t++)uT.add(e[t])}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=Object.prototype.hasOwnProperty,ER=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n_={},r_={};function xR(t){return Km.call(r_,t)?!0:Km.call(n_,t)?!1:ER.test(t)?r_[t]=!0:(n_[t]=!0,!1)}function CR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TR(t,e,n,r){if(e===null||typeof e>"u"||CR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Iy=/[\-:]([a-z])/g;function My(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Iy,My);Hn[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Iy,My);Hn[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Iy,My);Hn[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Oy(t,e,n,r){var i=Hn.hasOwnProperty(e)?Hn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TR(e,n,i,r)&&(n=null),r||i===null?xR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _o=cT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uf=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),Ly=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),dT=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),Qm=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),hT=Symbol.for("react.offscreen"),i_=Symbol.iterator;function Ul(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var rn=Object.assign,up;function fc(t){if(up===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);up=e&&e[1]||""}return`
`+up+t}var fp=!1;function dp(t,e){if(!t||fp)return"";fp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{fp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fc(t):""}function PR(t){switch(t.tag){case 5:return fc(t.type);case 16:return fc("Lazy");case 13:return fc("Suspense");case 19:return fc("SuspenseList");case 0:case 2:case 15:return t=dp(t.type,!1),t;case 11:return t=dp(t.type.render,!1),t;case 1:return t=dp(t.type,!0),t;default:return""}}function Jm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Aa:return"Fragment";case Pa:return"Portal";case Ym:return"Profiler";case Ly:return"StrictMode";case Zm:return"Suspense";case Qm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dT:return(t.displayName||"Context")+".Consumer";case fT:return(t._context.displayName||"Context")+".Provider";case Ry:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ny:return e=t.displayName||null,e!==null?e:Jm(t.type)||"Memo";case Ro:e=t._payload,t=t._init;try{return Jm(t(e))}catch{}}return null}function AR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jm(e);case 8:return e===Ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IR(t){var e=gT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ff(t){t._valueTracker||(t._valueTracker=IR(t))}function pT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ev(t,e){var n=e.checked;return rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mT(t,e){e=e.checked,e!=null&&Oy(t,"checked",e,!1)}function tv(t,e){mT(t,e);var n=ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nv(t,e.type,n):e.hasOwnProperty("defaultValue")&&nv(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nv(t,e,n){(e!=="number"||Xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dc=Array.isArray;function Ka(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(dc(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function vT(t,e){var n=ts(e.value),r=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function l_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var df,bT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=df.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MR=["Webkit","ms","Moz","O"];Object.keys(_c).forEach(function(t){MR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_c[e]=_c[t]})});function _T(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_c.hasOwnProperty(t)&&_c[t]?(""+e).trim():e+"px"}function wT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_T(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OR=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ov(t,e){if(e){if(OR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function sv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=null;function ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lv=null,Ya=null,Za=null;function c_(t){if(t=Du(t)){if(typeof lv!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=rg(e),lv(t.stateNode,t.type,e))}}function ST(t){Ya?Za?Za.push(t):Za=[t]:Ya=t}function ET(){if(Ya){var t=Ya,e=Za;if(Za=Ya=null,c_(t),e)for(t=0;t<e.length;t++)c_(e[t])}}function xT(t,e){return t(e)}function CT(){}var hp=!1;function TT(t,e,n){if(hp)return t(e,n);hp=!0;try{return xT(t,e,n)}finally{hp=!1,(Ya!==null||Za!==null)&&(CT(),ET())}}function Hc(t,e){var n=t.stateNode;if(n===null)return null;var r=rg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var cv=!1;if(co)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){cv=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{cv=!1}function LR(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var wc=!1,Kd=null,Yd=!1,uv=null,RR={onError:function(t){wc=!0,Kd=t}};function NR(t,e,n,r,i,o,s,a,l){wc=!1,Kd=null,LR.apply(RR,arguments)}function kR(t,e,n,r,i,o,s,a,l){if(NR.apply(this,arguments),wc){if(wc){var c=Kd;wc=!1,Kd=null}else throw Error(ne(198));Yd||(Yd=!0,uv=c)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function PT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u_(t){if(ea(t)!==t)throw Error(ne(188))}function FR(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u_(i),t;if(o===r)return u_(i),e;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function AT(t){return t=FR(t),t!==null?IT(t):null}function IT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IT(t);if(e!==null)return e;t=t.sibling}return null}var MT=Wr.unstable_scheduleCallback,f_=Wr.unstable_cancelCallback,DR=Wr.unstable_shouldYield,zR=Wr.unstable_requestPaint,mn=Wr.unstable_now,BR=Wr.unstable_getCurrentPriorityLevel,Fy=Wr.unstable_ImmediatePriority,OT=Wr.unstable_UserBlockingPriority,Zd=Wr.unstable_NormalPriority,jR=Wr.unstable_LowPriority,LT=Wr.unstable_IdlePriority,Jh=null,Wi=null;function $R(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(Jh,t,void 0,(t.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:HR,VR=Math.log,UR=Math.LN2;function HR(t){return t>>>=0,t===0?32:31-(VR(t)/UR|0)|0}var hf=64,gf=4194304;function hc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=hc(a):(o&=s,o!==0&&(r=hc(o)))}else s=n&~i,s!==0?r=hc(s):o!==0&&(r=hc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xi(e),i=1<<n,r|=t[n],e&=~i;return r}function WR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-xi(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=WR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function fv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RT(){var t=hf;return hf<<=1,!(hf&4194240)&&(hf=64),t}function gp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ku(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xi(e),t[e]=n}function qR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Dy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xt=0;function NT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kT,zy,FT,DT,zT,dv=!1,pf=[],Wo=null,Go=null,qo=null,Wc=new Map,Gc=new Map,ko=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d_(t,e){switch(t){case"focusin":case"focusout":Wo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":Wc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function Wl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Du(e),e!==null&&zy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KR(t,e,n,r,i){switch(e){case"focusin":return Wo=Wl(Wo,t,e,n,r,i),!0;case"dragenter":return Go=Wl(Go,t,e,n,r,i),!0;case"mouseover":return qo=Wl(qo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Wc.set(o,Wl(Wc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gc.set(o,Wl(Gc.get(o)||null,t,e,n,r,i)),!0}return!1}function BT(t){var e=_s(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=PT(n),e!==null){t.blockedOn=e,zT(t.priority,function(){FT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);av=r,n.target.dispatchEvent(r),av=null}else return e=Du(n),e!==null&&zy(e),t.blockedOn=n,!1;e.shift()}return!0}function h_(t,e,n){dd(t)&&n.delete(e)}function YR(){dv=!1,Wo!==null&&dd(Wo)&&(Wo=null),Go!==null&&dd(Go)&&(Go=null),qo!==null&&dd(qo)&&(qo=null),Wc.forEach(h_),Gc.forEach(h_)}function Gl(t,e){t.blockedOn===e&&(t.blockedOn=null,dv||(dv=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,YR)))}function qc(t){function e(i){return Gl(i,t)}if(0<pf.length){Gl(pf[0],t);for(var n=1;n<pf.length;n++){var r=pf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wo!==null&&Gl(Wo,t),Go!==null&&Gl(Go,t),qo!==null&&Gl(qo,t),Wc.forEach(e),Gc.forEach(e),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)BT(n),n.blockedOn===null&&ko.shift()}var Qa=_o.ReactCurrentBatchConfig,Jd=!0;function ZR(t,e,n,r){var i=xt,o=Qa.transition;Qa.transition=null;try{xt=1,By(t,e,n,r)}finally{xt=i,Qa.transition=o}}function QR(t,e,n,r){var i=xt,o=Qa.transition;Qa.transition=null;try{xt=4,By(t,e,n,r)}finally{xt=i,Qa.transition=o}}function By(t,e,n,r){if(Jd){var i=hv(t,e,n,r);if(i===null)xp(t,e,r,eh,n),d_(t,r);else if(KR(i,t,e,n,r))r.stopPropagation();else if(d_(t,r),e&4&&-1<XR.indexOf(t)){for(;i!==null;){var o=Du(i);if(o!==null&&kT(o),o=hv(t,e,n,r),o===null&&xp(t,e,r,eh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else xp(t,e,r,null,n)}}var eh=null;function hv(t,e,n,r){if(eh=null,t=ky(r),t=_s(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=PT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return eh=t,null}function jT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BR()){case Fy:return 1;case OT:return 4;case Zd:case jR:return 16;case LT:return 536870912;default:return 16}default:return 16}}var Do=null,jy=null,hd=null;function $T(){if(hd)return hd;var t,e=jy,n=e.length,r,i="value"in Do?Do.value:Do.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hd=i.slice(t,1<r?1-r:void 0)}function gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mf(){return!0}function g_(){return!1}function Kr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mf:g_,this.isPropagationStopped=g_,this}return rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=Kr(Ol),Fu=rn({},Ol,{view:0,detail:0}),JR=Kr(Fu),pp,mp,ql,eg=rn({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(pp=t.screenX-ql.screenX,mp=t.screenY-ql.screenY):mp=pp=0,ql=t),pp)},movementY:function(t){return"movementY"in t?t.movementY:mp}}),p_=Kr(eg),e3=rn({},eg,{dataTransfer:0}),t3=Kr(e3),n3=rn({},Fu,{relatedTarget:0}),vp=Kr(n3),r3=rn({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),i3=Kr(r3),o3=rn({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s3=Kr(o3),a3=rn({},Ol,{data:0}),m_=Kr(a3),l3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u3[t])?!!e[t]:!1}function Vy(){return f3}var d3=rn({},Fu,{key:function(t){if(t.key){var e=l3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?c3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vy,charCode:function(t){return t.type==="keypress"?gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h3=Kr(d3),g3=rn({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),v_=Kr(g3),p3=rn({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vy}),m3=Kr(p3),v3=rn({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),y3=Kr(v3),b3=rn({},eg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_3=Kr(b3),w3=[9,13,27,32],Uy=co&&"CompositionEvent"in window,Sc=null;co&&"documentMode"in document&&(Sc=document.documentMode);var S3=co&&"TextEvent"in window&&!Sc,VT=co&&(!Uy||Sc&&8<Sc&&11>=Sc),y_=String.fromCharCode(32),b_=!1;function UT(t,e){switch(t){case"keyup":return w3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function E3(t,e){switch(t){case"compositionend":return HT(e);case"keypress":return e.which!==32?null:(b_=!0,y_);case"textInput":return t=e.data,t===y_&&b_?null:t;default:return null}}function x3(t,e){if(Ia)return t==="compositionend"||!Uy&&UT(t,e)?(t=$T(),hd=jy=Do=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VT&&e.locale!=="ko"?null:e.data;default:return null}}var C3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function __(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!C3[t.type]:e==="textarea"}function WT(t,e,n,r){ST(r),e=th(e,"onChange"),0<e.length&&(n=new $y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,Xc=null;function T3(t){n2(t,0)}function tg(t){var e=La(t);if(pT(e))return t}function P3(t,e){if(t==="change")return e}var GT=!1;if(co){var yp;if(co){var bp="oninput"in document;if(!bp){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),bp=typeof w_.oninput=="function"}yp=bp}else yp=!1;GT=yp&&(!document.documentMode||9<document.documentMode)}function S_(){Ec&&(Ec.detachEvent("onpropertychange",qT),Xc=Ec=null)}function qT(t){if(t.propertyName==="value"&&tg(Xc)){var e=[];WT(e,Xc,t,ky(t)),TT(T3,e)}}function A3(t,e,n){t==="focusin"?(S_(),Ec=e,Xc=n,Ec.attachEvent("onpropertychange",qT)):t==="focusout"&&S_()}function I3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tg(Xc)}function M3(t,e){if(t==="click")return tg(e)}function O3(t,e){if(t==="input"||t==="change")return tg(e)}function L3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mi=typeof Object.is=="function"?Object.is:L3;function Kc(t,e){if(Mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Km.call(e,i)||!Mi(t[i],e[i]))return!1}return!0}function E_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x_(t,e){var n=E_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E_(n)}}function XT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KT(){for(var t=window,e=Xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xd(t.document)}return e}function Hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R3(t){var e=KT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&XT(n.ownerDocument.documentElement,n)){if(r!==null&&Hy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=x_(n,o);var s=x_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N3=co&&"documentMode"in document&&11>=document.documentMode,Ma=null,gv=null,xc=null,pv=!1;function C_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pv||Ma==null||Ma!==Xd(r)||(r=Ma,"selectionStart"in r&&Hy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xc&&Kc(xc,r)||(xc=r,r=th(gv,"onSelect"),0<r.length&&(e=new $y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ma)))}function vf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oa={animationend:vf("Animation","AnimationEnd"),animationiteration:vf("Animation","AnimationIteration"),animationstart:vf("Animation","AnimationStart"),transitionend:vf("Transition","TransitionEnd")},_p={},YT={};co&&(YT=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function ng(t){if(_p[t])return _p[t];if(!Oa[t])return t;var e=Oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YT)return _p[t]=e[n];return t}var ZT=ng("animationend"),QT=ng("animationiteration"),JT=ng("animationstart"),e2=ng("transitionend"),t2=new Map,T_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){t2.set(t,e),Js(e,[t])}for(var wp=0;wp<T_.length;wp++){var Sp=T_[wp],k3=Sp.toLowerCase(),F3=Sp[0].toUpperCase()+Sp.slice(1);ls(k3,"on"+F3)}ls(ZT,"onAnimationEnd");ls(QT,"onAnimationIteration");ls(JT,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(e2,"onTransitionEnd");ol("onMouseEnter",["mouseout","mouseover"]);ol("onMouseLeave",["mouseout","mouseover"]);ol("onPointerEnter",["pointerout","pointerover"]);ol("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D3=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function P_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kR(r,e,void 0,t),t.currentTarget=null}function n2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;P_(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;P_(i,a,c),o=l}}}if(Yd)throw t=uv,Yd=!1,uv=null,t}function Wt(t,e){var n=e[_v];n===void 0&&(n=e[_v]=new Set);var r=t+"__bubble";n.has(r)||(r2(e,t,2,!1),n.add(r))}function Ep(t,e,n){var r=0;e&&(r|=4),r2(n,t,r,e)}var yf="_reactListening"+Math.random().toString(36).slice(2);function Yc(t){if(!t[yf]){t[yf]=!0,uT.forEach(function(n){n!=="selectionchange"&&(D3.has(n)||Ep(n,!1,t),Ep(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yf]||(e[yf]=!0,Ep("selectionchange",!1,e))}}function r2(t,e,n,r){switch(jT(e)){case 1:var i=ZR;break;case 4:i=QR;break;default:i=By}n=i.bind(null,e,n,t),i=void 0,!cv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=_s(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}TT(function(){var c=o,u=ky(n),f=[];e:{var d=t2.get(t);if(d!==void 0){var h=$y,p=t;switch(t){case"keypress":if(gd(n)===0)break e;case"keydown":case"keyup":h=h3;break;case"focusin":p="focus",h=vp;break;case"focusout":p="blur",h=vp;break;case"beforeblur":case"afterblur":h=vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=p_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=t3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=m3;break;case ZT:case QT:case JT:h=i3;break;case e2:h=y3;break;case"scroll":h=JR;break;case"wheel":h=_3;break;case"copy":case"cut":case"paste":h=s3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=v_}var v=(e&4)!==0,_=!v&&t==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var y=c,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,m!==null&&(w=Hc(y,m),w!=null&&v.push(Zc(y,w,b)))),_)break;y=y.return}0<v.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==av&&(p=n.relatedTarget||n.fromElement)&&(_s(p)||p[uo]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?_s(p):null,p!==null&&(_=ea(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(v=p_,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=v_,w="onPointerLeave",m="onPointerEnter",y="pointer"),_=h==null?d:La(h),b=p==null?d:La(p),d=new v(w,y+"leave",h,n,u),d.target=_,d.relatedTarget=b,w=null,_s(u)===c&&(v=new v(m,y+"enter",p,n,u),v.target=b,v.relatedTarget=_,w=v),_=w,h&&p)t:{for(v=h,m=p,y=0,b=v;b;b=la(b))y++;for(b=0,w=m;w;w=la(w))b++;for(;0<y-b;)v=la(v),y--;for(;0<b-y;)m=la(m),b--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=la(v),m=la(m)}v=null}else v=null;h!==null&&A_(f,d,h,v,!1),p!==null&&_!==null&&A_(f,_,p,v,!0)}}e:{if(d=c?La(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=P3;else if(__(d))if(GT)S=O3;else{S=I3;var x=A3}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=M3);if(S&&(S=S(t,c))){WT(f,S,n,u);break e}x&&x(t,d,c),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&nv(d,"number",d.value)}switch(x=c?La(c):window,t){case"focusin":(__(x)||x.contentEditable==="true")&&(Ma=x,gv=c,xc=null);break;case"focusout":xc=gv=Ma=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,C_(f,n,u);break;case"selectionchange":if(N3)break;case"keydown":case"keyup":C_(f,n,u)}var E;if(Uy)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ia?UT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(VT&&n.locale!=="ko"&&(Ia||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ia&&(E=$T()):(Do=u,jy="value"in Do?Do.value:Do.textContent,Ia=!0)),x=th(c,I),0<x.length&&(I=new m_(I,t,null,n,u),f.push({event:I,listeners:x}),E?I.data=E:(E=HT(n),E!==null&&(I.data=E)))),(E=S3?E3(t,n):x3(t,n))&&(c=th(c,"onBeforeInput"),0<c.length&&(u=new m_("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}n2(f,e)})}function Zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function th(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hc(t,n),o!=null&&r.unshift(Zc(t,o,i)),o=Hc(t,e),o!=null&&r.push(Zc(t,o,i))),t=t.return}return r}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Hc(n,o),l!=null&&s.unshift(Zc(n,l,a))):i||(l=Hc(n,o),l!=null&&s.push(Zc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var z3=/\r\n?/g,B3=/\u0000|\uFFFD/g;function I_(t){return(typeof t=="string"?t:""+t).replace(z3,`
`).replace(B3,"")}function bf(t,e,n){if(e=I_(e),I_(t)!==e&&n)throw Error(ne(425))}function nh(){}var mv=null,vv=null;function yv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bv=typeof setTimeout=="function"?setTimeout:void 0,j3=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,$3=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(V3)}:bv;function V3(t){setTimeout(function(){throw t})}function Cp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qc(e)}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),$i="__reactFiber$"+Ll,Qc="__reactProps$"+Ll,uo="__reactContainer$"+Ll,_v="__reactEvents$"+Ll,U3="__reactListeners$"+Ll,H3="__reactHandles$"+Ll;function _s(t){var e=t[$i];if(e)return e;for(var n=t.parentNode;n;){if(e=n[uo]||n[$i]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O_(t);t!==null;){if(n=t[$i])return n;t=O_(t)}return e}t=n,n=t.parentNode}return null}function Du(t){return t=t[$i]||t[uo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function La(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function rg(t){return t[Qc]||null}var wv=[],Ra=-1;function cs(t){return{current:t}}function Xt(t){0>Ra||(t.current=wv[Ra],wv[Ra]=null,Ra--)}function Bt(t,e){Ra++,wv[Ra]=t.current,t.current=e}var ns={},ir=cs(ns),Er=cs(!1),Bs=ns;function sl(t,e){var n=t.type.contextTypes;if(!n)return ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xr(t){return t=t.childContextTypes,t!=null}function rh(){Xt(Er),Xt(ir)}function L_(t,e,n){if(ir.current!==ns)throw Error(ne(168));Bt(ir,e),Bt(Er,n)}function i2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,AR(t)||"Unknown",i));return rn({},n,r)}function ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Bs=ir.current,Bt(ir,t),Bt(Er,Er.current),!0}function R_(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=i2(t,e,Bs),r.__reactInternalMemoizedMergedChildContext=t,Xt(Er),Xt(ir),Bt(ir,t)):Xt(Er),Bt(Er,n)}var to=null,ig=!1,Tp=!1;function o2(t){to===null?to=[t]:to.push(t)}function W3(t){ig=!0,o2(t)}function us(){if(!Tp&&to!==null){Tp=!0;var t=0,e=xt;try{var n=to;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}to=null,ig=!1}catch(i){throw to!==null&&(to=to.slice(t+1)),MT(Fy,us),i}finally{xt=e,Tp=!1}}return null}var Na=[],ka=0,oh=null,sh=0,ni=[],ri=0,js=null,io=1,oo="";function gs(t,e){Na[ka++]=sh,Na[ka++]=oh,oh=t,sh=e}function s2(t,e,n){ni[ri++]=io,ni[ri++]=oo,ni[ri++]=js,js=t;var r=io;t=oo;var i=32-xi(r)-1;r&=~(1<<i),n+=1;var o=32-xi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,io=1<<32-xi(e)+i|n<<i|r,oo=o+t}else io=1<<o|n<<i|r,oo=t}function Wy(t){t.return!==null&&(gs(t,1),s2(t,1,0))}function Gy(t){for(;t===oh;)oh=Na[--ka],Na[ka]=null,sh=Na[--ka],Na[ka]=null;for(;t===js;)js=ni[--ri],ni[ri]=null,oo=ni[--ri],ni[ri]=null,io=ni[--ri],ni[ri]=null}var Ur=null,$r=null,Yt=!1,_i=null;function a2(t,e){var n=ii(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ur=t,$r=Xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ur=t,$r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:io,overflow:oo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ii(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ur=t,$r=null,!0):!1;default:return!1}}function Sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ev(t){if(Yt){var e=$r;if(e){var n=e;if(!N_(t,e)){if(Sv(t))throw Error(ne(418));e=Xo(n.nextSibling);var r=Ur;e&&N_(t,e)?a2(r,n):(t.flags=t.flags&-4097|2,Yt=!1,Ur=t)}}else{if(Sv(t))throw Error(ne(418));t.flags=t.flags&-4097|2,Yt=!1,Ur=t}}}function k_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ur=t}function _f(t){if(t!==Ur)return!1;if(!Yt)return k_(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yv(t.type,t.memoizedProps)),e&&(e=$r)){if(Sv(t))throw l2(),Error(ne(418));for(;e;)a2(t,e),e=Xo(e.nextSibling)}if(k_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$r=Xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$r=null}}else $r=Ur?Xo(t.stateNode.nextSibling):null;return!0}function l2(){for(var t=$r;t;)t=Xo(t.nextSibling)}function al(){$r=Ur=null,Yt=!1}function qy(t){_i===null?_i=[t]:_i.push(t)}var G3=_o.ReactCurrentBatchConfig;function pi(t,e){if(t&&t.defaultProps){e=rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ah=cs(null),lh=null,Fa=null,Xy=null;function Ky(){Xy=Fa=lh=null}function Yy(t){var e=ah.current;Xt(ah),t._currentValue=e}function xv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ja(t,e){lh=t,Xy=Fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_r=!0),t.firstContext=null)}function ai(t){var e=t._currentValue;if(Xy!==t)if(t={context:t,memoizedValue:e,next:null},Fa===null){if(lh===null)throw Error(ne(308));Fa=t,lh.dependencies={lanes:0,firstContext:t}}else Fa=Fa.next=t;return e}var ws=null;function Zy(t){ws===null?ws=[t]:ws.push(t)}function c2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Zy(e)):(n.next=i.next,i.next=n),e.interleaved=n,fo(t,r)}function fo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var No=!1;function Qy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ao(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fo(t,n)}return i=r.interleaved,i===null?(e.next=e,Zy(r)):(e.next=i.next,i.next=e),r.interleaved=e,fo(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dy(t,n)}}function F_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ch(t,e,n,r){var i=t.updateQueue;No=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,v=a;switch(d=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=rn({},f,d);break e;case 2:No=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Vs|=s,t.lanes=s,t.memoizedState=f}}function D_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var f2=new cT.Component().refs;function Cv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var og={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Zo(t),o=ao(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ko(t,o,i),e!==null&&(Ci(e,t,i,r),pd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ur(),i=Zo(t),o=ao(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ko(t,o,i),e!==null&&(Ci(e,t,i,r),pd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ur(),r=Zo(t),i=ao(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ko(t,i,r),e!==null&&(Ci(e,t,r,n),pd(e,t,r))}};function z_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Kc(n,r)||!Kc(i,o):!0}function d2(t,e,n){var r=!1,i=ns,o=e.contextType;return typeof o=="object"&&o!==null?o=ai(o):(i=xr(e)?Bs:ir.current,r=e.contextTypes,o=(r=r!=null)?sl(t,i):ns),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=og,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function B_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&og.enqueueReplaceState(e,e.state,null)}function Tv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=f2,Qy(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ai(o):(o=xr(e)?Bs:ir.current,i.context=sl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Cv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&og.enqueueReplaceState(i,i.state,null),ch(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===f2&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function wf(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j_(t){var e=t._init;return e(t._payload)}function h2(t){function e(m,y){if(t){var b=m.deletions;b===null?(m.deletions=[y],m.flags|=16):b.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Qo(m,y),m.index=0,m.sibling=null,m}function o(m,y,b){return m.index=b,t?(b=m.alternate,b!==null?(b=b.index,b<y?(m.flags|=2,y):b):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,b,w){return y===null||y.tag!==6?(y=Rp(b,m.mode,w),y.return=m,y):(y=i(y,b),y.return=m,y)}function l(m,y,b,w){var S=b.type;return S===Aa?u(m,y,b.props.children,w,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ro&&j_(S)===y.type)?(w=i(y,b.props),w.ref=Xl(m,y,b),w.return=m,w):(w=wd(b.type,b.key,b.props,null,m.mode,w),w.ref=Xl(m,y,b),w.return=m,w)}function c(m,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Np(b,m.mode,w),y.return=m,y):(y=i(y,b.children||[]),y.return=m,y)}function u(m,y,b,w,S){return y===null||y.tag!==7?(y=Ms(b,m.mode,w,S),y.return=m,y):(y=i(y,b),y.return=m,y)}function f(m,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rp(""+y,m.mode,b),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uf:return b=wd(y.type,y.key,y.props,null,m.mode,b),b.ref=Xl(m,null,y),b.return=m,b;case Pa:return y=Np(y,m.mode,b),y.return=m,y;case Ro:var w=y._init;return f(m,w(y._payload),b)}if(dc(y)||Ul(y))return y=Ms(y,m.mode,b,null),y.return=m,y;wf(m,y)}return null}function d(m,y,b,w){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(m,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uf:return b.key===S?l(m,y,b,w):null;case Pa:return b.key===S?c(m,y,b,w):null;case Ro:return S=b._init,d(m,y,S(b._payload),w)}if(dc(b)||Ul(b))return S!==null?null:u(m,y,b,w,null);wf(m,b)}return null}function h(m,y,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(b)||null,a(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uf:return m=m.get(w.key===null?b:w.key)||null,l(y,m,w,S);case Pa:return m=m.get(w.key===null?b:w.key)||null,c(y,m,w,S);case Ro:var x=w._init;return h(m,y,b,x(w._payload),S)}if(dc(w)||Ul(w))return m=m.get(b)||null,u(y,m,w,S,null);wf(y,w)}return null}function p(m,y,b,w){for(var S=null,x=null,E=y,I=y=0,M=null;E!==null&&I<b.length;I++){E.index>I?(M=E,E=null):M=E.sibling;var O=d(m,E,b[I],w);if(O===null){E===null&&(E=M);break}t&&E&&O.alternate===null&&e(m,E),y=o(O,y,I),x===null?S=O:x.sibling=O,x=O,E=M}if(I===b.length)return n(m,E),Yt&&gs(m,I),S;if(E===null){for(;I<b.length;I++)E=f(m,b[I],w),E!==null&&(y=o(E,y,I),x===null?S=E:x.sibling=E,x=E);return Yt&&gs(m,I),S}for(E=r(m,E);I<b.length;I++)M=h(E,m,I,b[I],w),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?I:M.key),y=o(M,y,I),x===null?S=M:x.sibling=M,x=M);return t&&E.forEach(function(R){return e(m,R)}),Yt&&gs(m,I),S}function v(m,y,b,w){var S=Ul(b);if(typeof S!="function")throw Error(ne(150));if(b=S.call(b),b==null)throw Error(ne(151));for(var x=S=null,E=y,I=y=0,M=null,O=b.next();E!==null&&!O.done;I++,O=b.next()){E.index>I?(M=E,E=null):M=E.sibling;var R=d(m,E,O.value,w);if(R===null){E===null&&(E=M);break}t&&E&&R.alternate===null&&e(m,E),y=o(R,y,I),x===null?S=R:x.sibling=R,x=R,E=M}if(O.done)return n(m,E),Yt&&gs(m,I),S;if(E===null){for(;!O.done;I++,O=b.next())O=f(m,O.value,w),O!==null&&(y=o(O,y,I),x===null?S=O:x.sibling=O,x=O);return Yt&&gs(m,I),S}for(E=r(m,E);!O.done;I++,O=b.next())O=h(E,m,I,O.value,w),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?I:O.key),y=o(O,y,I),x===null?S=O:x.sibling=O,x=O);return t&&E.forEach(function(D){return e(m,D)}),Yt&&gs(m,I),S}function _(m,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Aa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case uf:e:{for(var S=b.key,x=y;x!==null;){if(x.key===S){if(S=b.type,S===Aa){if(x.tag===7){n(m,x.sibling),y=i(x,b.props.children),y.return=m,m=y;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ro&&j_(S)===x.type){n(m,x.sibling),y=i(x,b.props),y.ref=Xl(m,x,b),y.return=m,m=y;break e}n(m,x);break}else e(m,x);x=x.sibling}b.type===Aa?(y=Ms(b.props.children,m.mode,w,b.key),y.return=m,m=y):(w=wd(b.type,b.key,b.props,null,m.mode,w),w.ref=Xl(m,y,b),w.return=m,m=w)}return s(m);case Pa:e:{for(x=b.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(m,y.sibling),y=i(y,b.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Np(b,m.mode,w),y.return=m,m=y}return s(m);case Ro:return x=b._init,_(m,y,x(b._payload),w)}if(dc(b))return p(m,y,b,w);if(Ul(b))return v(m,y,b,w);wf(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,b),y.return=m,m=y):(n(m,y),y=Rp(b,m.mode,w),y.return=m,m=y),s(m)):n(m,y)}return _}var ll=h2(!0),g2=h2(!1),zu={},Gi=cs(zu),Jc=cs(zu),eu=cs(zu);function Ss(t){if(t===zu)throw Error(ne(174));return t}function Jy(t,e){switch(Bt(eu,e),Bt(Jc,t),Bt(Gi,zu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iv(e,t)}Xt(Gi),Bt(Gi,e)}function cl(){Xt(Gi),Xt(Jc),Xt(eu)}function p2(t){Ss(eu.current);var e=Ss(Gi.current),n=iv(e,t.type);e!==n&&(Bt(Jc,t),Bt(Gi,n))}function e1(t){Jc.current===t&&(Xt(Gi),Xt(Jc))}var en=cs(0);function uh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pp=[];function t1(){for(var t=0;t<Pp.length;t++)Pp[t]._workInProgressVersionPrimary=null;Pp.length=0}var md=_o.ReactCurrentDispatcher,Ap=_o.ReactCurrentBatchConfig,$s=0,nn=null,Pn=null,On=null,fh=!1,Cc=!1,tu=0,q3=0;function Yn(){throw Error(ne(321))}function n1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mi(t[n],e[n]))return!1;return!0}function r1(t,e,n,r,i,o){if($s=o,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?Z3:Q3,t=n(r,i),Cc){o=0;do{if(Cc=!1,tu=0,25<=o)throw Error(ne(301));o+=1,On=Pn=null,e.updateQueue=null,md.current=J3,t=n(r,i)}while(Cc)}if(md.current=dh,e=Pn!==null&&Pn.next!==null,$s=0,On=Pn=nn=null,fh=!1,e)throw Error(ne(300));return t}function i1(){var t=tu!==0;return tu=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?nn.memoizedState=On=t:On=On.next=t,On}function li(){if(Pn===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=Pn.next;var e=On===null?nn.memoizedState:On.next;if(e!==null)On=e,Pn=t;else{if(t===null)throw Error(ne(310));Pn=t,t={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},On===null?nn.memoizedState=On=t:On=On.next=t}return On}function nu(t,e){return typeof e=="function"?e(t):e}function Ip(t){var e=li(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Pn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if(($s&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,nn.lanes|=u,Vs|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Mi(r,e.memoizedState)||(_r=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,nn.lanes|=o,Vs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=li(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Mi(o,e.memoizedState)||(_r=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function m2(){}function v2(t,e){var n=nn,r=li(),i=e(),o=!Mi(r.memoizedState,i);if(o&&(r.memoizedState=i,_r=!0),r=r.queue,o1(_2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||On!==null&&On.memoizedState.tag&1){if(n.flags|=2048,ru(9,b2.bind(null,n,r,i,e),void 0,null),Nn===null)throw Error(ne(349));$s&30||y2(n,e,i)}return i}function y2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b2(t,e,n,r){e.value=n,e.getSnapshot=r,w2(e)&&S2(t)}function _2(t,e,n){return n(function(){w2(e)&&S2(t)})}function w2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mi(t,n)}catch{return!0}}function S2(t){var e=fo(t,1);e!==null&&Ci(e,t,1,-1)}function $_(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:t},e.queue=t,t=t.dispatch=Y3.bind(null,nn,t),[e.memoizedState,t]}function ru(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E2(){return li().memoizedState}function vd(t,e,n,r){var i=Bi();nn.flags|=t,i.memoizedState=ru(1|e,n,void 0,r===void 0?null:r)}function sg(t,e,n,r){var i=li();r=r===void 0?null:r;var o=void 0;if(Pn!==null){var s=Pn.memoizedState;if(o=s.destroy,r!==null&&n1(r,s.deps)){i.memoizedState=ru(e,n,o,r);return}}nn.flags|=t,i.memoizedState=ru(1|e,n,o,r)}function V_(t,e){return vd(8390656,8,t,e)}function o1(t,e){return sg(2048,8,t,e)}function x2(t,e){return sg(4,2,t,e)}function C2(t,e){return sg(4,4,t,e)}function T2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P2(t,e,n){return n=n!=null?n.concat([t]):null,sg(4,4,T2.bind(null,e,t),n)}function s1(){}function A2(t,e){var n=li();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I2(t,e){var n=li();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M2(t,e,n){return $s&21?(Mi(n,e)||(n=RT(),nn.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_r=!0),t.memoizedState=n)}function X3(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=Ap.transition;Ap.transition={};try{t(!1),e()}finally{xt=n,Ap.transition=r}}function O2(){return li().memoizedState}function K3(t,e,n){var r=Zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L2(t))R2(e,n);else if(n=c2(t,e,n,r),n!==null){var i=ur();Ci(n,t,r,i),N2(n,e,r)}}function Y3(t,e,n){var r=Zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L2(t))R2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mi(a,s)){var l=e.interleaved;l===null?(i.next=i,Zy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=c2(t,e,i,r),n!==null&&(i=ur(),Ci(n,t,r,i),N2(n,e,r))}}function L2(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function R2(t,e){Cc=fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function N2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dy(t,n)}}var dh={readContext:ai,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},Z3={readContext:ai,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:ai,useEffect:V_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vd(4194308,4,T2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vd(4194308,4,t,e)},useInsertionEffect:function(t,e){return vd(4,2,t,e)},useMemo:function(t,e){var n=Bi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K3.bind(null,nn,t),[r.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:$_,useDebugValue:s1,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=$_(!1),e=t[0];return t=X3.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nn,i=Bi();if(Yt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Nn===null)throw Error(ne(349));$s&30||y2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,V_(_2.bind(null,r,o,t),[t]),r.flags|=2048,ru(9,b2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Bi(),e=Nn.identifierPrefix;if(Yt){var n=oo,r=io;n=(r&~(1<<32-xi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=q3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q3={readContext:ai,useCallback:A2,useContext:ai,useEffect:o1,useImperativeHandle:P2,useInsertionEffect:x2,useLayoutEffect:C2,useMemo:I2,useReducer:Ip,useRef:E2,useState:function(){return Ip(nu)},useDebugValue:s1,useDeferredValue:function(t){var e=li();return M2(e,Pn.memoizedState,t)},useTransition:function(){var t=Ip(nu)[0],e=li().memoizedState;return[t,e]},useMutableSource:m2,useSyncExternalStore:v2,useId:O2,unstable_isNewReconciler:!1},J3={readContext:ai,useCallback:A2,useContext:ai,useEffect:o1,useImperativeHandle:P2,useInsertionEffect:x2,useLayoutEffect:C2,useMemo:I2,useReducer:Mp,useRef:E2,useState:function(){return Mp(nu)},useDebugValue:s1,useDeferredValue:function(t){var e=li();return Pn===null?e.memoizedState=t:M2(e,Pn.memoizedState,t)},useTransition:function(){var t=Mp(nu)[0],e=li().memoizedState;return[t,e]},useMutableSource:m2,useSyncExternalStore:v2,useId:O2,unstable_isNewReconciler:!1};function ul(t,e){try{var n="",r=e;do n+=PR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eN=typeof WeakMap=="function"?WeakMap:Map;function k2(t,e,n){n=ao(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gh||(gh=!0,Dv=r),Pv(t,e)},n}function F2(t,e,n){n=ao(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Pv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Pv(t,e),typeof r!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function U_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=gN.bind(null,t,e,n),e.then(t,t))}function H_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ao(-1,1),e.tag=2,Ko(n,e,1))),n.lanes|=1),t)}var tN=_o.ReactCurrentOwner,_r=!1;function ar(t,e,n,r){e.child=t===null?g2(e,null,n,r):ll(e,t.child,n,r)}function G_(t,e,n,r,i){n=n.render;var o=e.ref;return Ja(e,i),r=r1(t,e,n,r,o,i),n=i1(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ho(t,e,i)):(Yt&&n&&Wy(e),e.flags|=1,ar(t,e,r,i),e.child)}function q_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!g1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,D2(t,e,o,r,i)):(t=wd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Kc,n(s,r)&&t.ref===e.ref)return ho(t,e,i)}return e.flags|=1,t=Qo(o,r),t.ref=e.ref,t.return=e,e.child=t}function D2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Kc(o,r)&&t.ref===e.ref)if(_r=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_r=!0);else return e.lanes=t.lanes,ho(t,e,i)}return Av(t,e,n,r,i)}function z2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(za,Br),Br|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(za,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Bt(za,Br),Br|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Bt(za,Br),Br|=r;return ar(t,e,i,n),e.child}function B2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Av(t,e,n,r,i){var o=xr(n)?Bs:ir.current;return o=sl(e,o),Ja(e,i),n=r1(t,e,n,r,o,i),r=i1(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ho(t,e,i)):(Yt&&r&&Wy(e),e.flags|=1,ar(t,e,n,i),e.child)}function X_(t,e,n,r,i){if(xr(n)){var o=!0;ih(e)}else o=!1;if(Ja(e,i),e.stateNode===null)yd(t,e),d2(e,n,r),Tv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ai(c):(c=xr(n)?Bs:ir.current,c=sl(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&B_(e,s,r,c),No=!1;var d=e.memoizedState;s.state=d,ch(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Er.current||No?(typeof u=="function"&&(Cv(e,n,u,r),l=e.memoizedState),(a=No||z_(e,n,a,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,u2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pi(e.type,a),s.props=c,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ai(l):(l=xr(n)?Bs:ir.current,l=sl(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&B_(e,s,r,l),No=!1,d=e.memoizedState,s.state=d,ch(e,r,s,i);var p=e.memoizedState;a!==f||d!==p||Er.current||No?(typeof h=="function"&&(Cv(e,n,h,r),p=e.memoizedState),(c=No||z_(e,n,c,r,d,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Iv(t,e,n,r,o,i)}function Iv(t,e,n,r,i,o){B2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&R_(e,n,!1),ho(t,e,o);r=e.stateNode,tN.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ll(e,t.child,null,o),e.child=ll(e,null,a,o)):ar(t,e,a,o),e.memoizedState=r.state,i&&R_(e,n,!0),e.child}function j2(t){var e=t.stateNode;e.pendingContext?L_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L_(t,e.context,!1),Jy(t,e.containerInfo)}function K_(t,e,n,r,i){return al(),qy(i),e.flags|=256,ar(t,e,n,r),e.child}var Mv={dehydrated:null,treeContext:null,retryLane:0};function Ov(t){return{baseLanes:t,cachePool:null,transitions:null}}function $2(t,e,n){var r=e.pendingProps,i=en.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bt(en,i&1),t===null)return Ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cg(s,r,0,null),t=Ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ov(n),e.memoizedState=Mv,t):a1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nN(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qo(a,o):(o=Ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ov(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Mv,r}return o=t.child,t=o.sibling,r=Qo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function a1(t,e){return e=cg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sf(t,e,n,r){return r!==null&&qy(r),ll(e,t.child,null,n),t=a1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nN(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Op(Error(ne(422))),Sf(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cg({mode:"visible",children:r.children},i,0,null),o=Ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ll(e,t.child,null,s),e.child.memoizedState=Ov(s),e.memoizedState=Mv,o);if(!(e.mode&1))return Sf(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ne(419)),r=Op(o,r,void 0),Sf(t,e,s,r)}if(a=(s&t.childLanes)!==0,_r||a){if(r=Nn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fo(t,i),Ci(r,t,i,-1))}return h1(),r=Op(Error(ne(421))),Sf(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pN.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$r=Xo(i.nextSibling),Ur=e,Yt=!0,_i=null,t!==null&&(ni[ri++]=io,ni[ri++]=oo,ni[ri++]=js,io=t.id,oo=t.overflow,js=e),e=a1(e,r.children),e.flags|=4096,e)}function Y_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xv(t.return,e,n)}function Lp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function V2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ar(t,e,r.children,n),r=en.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y_(t,n,e);else if(t.tag===19)Y_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bt(en,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lp(e,!0,n,null,o);break;case"together":Lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ho(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rN(t,e,n){switch(e.tag){case 3:j2(e),al();break;case 5:p2(e);break;case 1:xr(e.type)&&ih(e);break;case 4:Jy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bt(ah,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bt(en,en.current&1),e.flags|=128,null):n&e.child.childLanes?$2(t,e,n):(Bt(en,en.current&1),t=ho(t,e,n),t!==null?t.sibling:null);Bt(en,en.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(en,en.current),r)break;return null;case 22:case 23:return e.lanes=0,z2(t,e,n)}return ho(t,e,n)}var U2,Lv,H2,W2;U2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lv=function(){};H2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ss(Gi.current);var o=null;switch(n){case"input":i=ev(t,i),r=ev(t,r),o=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),o=[];break;case"textarea":i=rv(t,i),r=rv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nh)}ov(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};W2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kl(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iN(t,e,n){var r=e.pendingProps;switch(Gy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return xr(e.type)&&rh(),Zn(e),null;case 3:return r=e.stateNode,cl(),Xt(Er),Xt(ir),t1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_f(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_i!==null&&(jv(_i),_i=null))),Lv(t,e),Zn(e),null;case 5:e1(e);var i=Ss(eu.current);if(n=e.type,t!==null&&e.stateNode!=null)H2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return Zn(e),null}if(t=Ss(Gi.current),_f(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$i]=e,r[Qc]=o,t=(e.mode&1)!==0,n){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(i=0;i<gc.length;i++)Wt(gc[i],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":o_(r,o),Wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Wt("invalid",r);break;case"textarea":a_(r,o),Wt("invalid",r)}ov(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&bf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bf(r.textContent,a,t),i=["children",""+a]):Vc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Wt("scroll",r)}switch(n){case"input":ff(r),s_(r,o,!0);break;case"textarea":ff(r),l_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$i]=e,t[Qc]=r,U2(t,e,!1,!1),e.stateNode=t;e:{switch(s=sv(n,r),n){case"dialog":Wt("cancel",t),Wt("close",t),i=r;break;case"iframe":case"object":case"embed":Wt("load",t),i=r;break;case"video":case"audio":for(i=0;i<gc.length;i++)Wt(gc[i],t);i=r;break;case"source":Wt("error",t),i=r;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),i=r;break;case"details":Wt("toggle",t),i=r;break;case"input":o_(t,r),i=ev(t,r),Wt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),Wt("invalid",t);break;case"textarea":a_(t,r),i=rv(t,r),Wt("invalid",t);break;default:i=r}ov(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?wT(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bT(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uc(t,l):typeof l=="number"&&Uc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Wt("scroll",t):l!=null&&Oy(t,o,l,s))}switch(n){case"input":ff(t),s_(t,r,!1);break;case"textarea":ff(t),l_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ts(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ka(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ka(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)W2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=Ss(eu.current),Ss(Gi.current),_f(e)){if(r=e.stateNode,n=e.memoizedProps,r[$i]=e,(o=r.nodeValue!==n)&&(t=Ur,t!==null))switch(t.tag){case 3:bf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$i]=e,e.stateNode=r}return Zn(e),null;case 13:if(Xt(en),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&$r!==null&&e.mode&1&&!(e.flags&128))l2(),al(),e.flags|=98560,o=!1;else if(o=_f(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[$i]=e}else al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),o=!1}else _i!==null&&(jv(_i),_i=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||en.current&1?An===0&&(An=3):h1())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return cl(),Lv(t,e),t===null&&Yc(e.stateNode.containerInfo),Zn(e),null;case 10:return Yy(e.type._context),Zn(e),null;case 17:return xr(e.type)&&rh(),Zn(e),null;case 19:if(Xt(en),o=e.memoizedState,o===null)return Zn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Kl(o,!1);else{if(An!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uh(t),s!==null){for(e.flags|=128,Kl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bt(en,en.current&1|2),e.child}t=t.sibling}o.tail!==null&&mn()>fl&&(e.flags|=128,r=!0,Kl(o,!1),e.lanes=4194304)}else{if(!r)if(t=uh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Yt)return Zn(e),null}else 2*mn()-o.renderingStartTime>fl&&n!==1073741824&&(e.flags|=128,r=!0,Kl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mn(),e.sibling=null,n=en.current,Bt(en,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return d1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Br&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function oN(t,e){switch(Gy(e),e.tag){case 1:return xr(e.type)&&rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),Xt(Er),Xt(ir),t1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e1(e),null;case 13:if(Xt(en),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(en),null;case 4:return cl(),null;case 10:return Yy(e.type._context),null;case 22:case 23:return d1(),null;case 24:return null;default:return null}}var Ef=!1,nr=!1,sN=typeof WeakSet=="function"?WeakSet:Set,we=null;function Da(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fn(t,e,r)}else n.current=null}function Rv(t,e,n){try{n()}catch(r){fn(t,e,r)}}var Z_=!1;function aN(t,e){if(mv=Jd,t=KT(),Hy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vv={focusedElem:t,selectionRange:n},Jd=!1,we=e;we!==null;)if(e=we,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,we=t;else for(;we!==null;){e=we;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,_=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:pi(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(w){fn(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}return p=Z_,Z_=!1,p}function Tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rv(e,n,o)}i=i.next}while(i!==r)}}function ag(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function G2(t){var e=t.alternate;e!==null&&(t.alternate=null,G2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$i],delete e[Qc],delete e[_v],delete e[U3],delete e[H3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function q2(t){return t.tag===5||t.tag===3||t.tag===4}function Q_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nh));else if(r!==4&&(t=t.child,t!==null))for(kv(t,e,n),t=t.sibling;t!==null;)kv(t,e,n),t=t.sibling}function Fv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fv(t,e,n),t=t.sibling;t!==null;)Fv(t,e,n),t=t.sibling}var zn=null,mi=!1;function xo(t,e,n){for(n=n.child;n!==null;)X2(t,e,n),n=n.sibling}function X2(t,e,n){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Jh,n)}catch{}switch(n.tag){case 5:nr||Da(n,e);case 6:var r=zn,i=mi;zn=null,xo(t,e,n),zn=r,mi=i,zn!==null&&(mi?(t=zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(mi?(t=zn,n=n.stateNode,t.nodeType===8?Cp(t.parentNode,n):t.nodeType===1&&Cp(t,n),qc(t)):Cp(zn,n.stateNode));break;case 4:r=zn,i=mi,zn=n.stateNode.containerInfo,mi=!0,xo(t,e,n),zn=r,mi=i;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Rv(n,e,s),i=i.next}while(i!==r)}xo(t,e,n);break;case 1:if(!nr&&(Da(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fn(n,e,a)}xo(t,e,n);break;case 21:xo(t,e,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,xo(t,e,n),nr=r):xo(t,e,n);break;default:xo(t,e,n)}}function J_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sN),e.forEach(function(r){var i=mN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:zn=a.stateNode,mi=!1;break e;case 3:zn=a.stateNode.containerInfo,mi=!0;break e;case 4:zn=a.stateNode.containerInfo,mi=!0;break e}a=a.return}if(zn===null)throw Error(ne(160));X2(o,s,i),zn=null,mi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){fn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K2(e,t),e=e.sibling}function K2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hi(e,t),Ni(t),r&4){try{Tc(3,t,t.return),ag(3,t)}catch(v){fn(t,t.return,v)}try{Tc(5,t,t.return)}catch(v){fn(t,t.return,v)}}break;case 1:hi(e,t),Ni(t),r&512&&n!==null&&Da(n,n.return);break;case 5:if(hi(e,t),Ni(t),r&512&&n!==null&&Da(n,n.return),t.flags&32){var i=t.stateNode;try{Uc(i,"")}catch(v){fn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&mT(i,o),sv(a,s);var c=sv(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?wT(i,f):u==="dangerouslySetInnerHTML"?bT(i,f):u==="children"?Uc(i,f):Oy(i,u,f,c)}switch(a){case"input":tv(i,o);break;case"textarea":vT(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ka(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ka(i,!!o.multiple,o.defaultValue,!0):Ka(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qc]=o}catch(v){fn(t,t.return,v)}}break;case 6:if(hi(e,t),Ni(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){fn(t,t.return,v)}}break;case 3:if(hi(e,t),Ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qc(e.containerInfo)}catch(v){fn(t,t.return,v)}break;case 4:hi(e,t),Ni(t);break;case 13:hi(e,t),Ni(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(u1=mn())),r&4&&J_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(nr=(c=nr)||u,hi(e,t),nr=c):hi(e,t),Ni(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(we=t,u=t.child;u!==null;){for(f=we=u;we!==null;){switch(d=we,h=d.child,d.tag){case 0:case 11:case 14:case 15:Tc(4,d,d.return);break;case 1:Da(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){fn(r,n,v)}}break;case 5:Da(d,d.return);break;case 22:if(d.memoizedState!==null){tw(f);continue}}h!==null?(h.return=d,we=h):tw(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_T("display",s))}catch(v){fn(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){fn(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hi(e,t),Ni(t),r&4&&J_(t);break;case 21:break;default:hi(e,t),Ni(t)}}function Ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(q2(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uc(i,""),r.flags&=-33);var o=Q_(t);Fv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Q_(t);kv(t,a,s);break;default:throw Error(ne(161))}}catch(l){fn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lN(t,e,n){we=t,Y2(t)}function Y2(t,e,n){for(var r=(t.mode&1)!==0;we!==null;){var i=we,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ef;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Ef;var c=nr;if(Ef=s,(nr=l)&&!c)for(we=i;we!==null;)s=we,l=s.child,s.tag===22&&s.memoizedState!==null?nw(i):l!==null?(l.return=s,we=l):nw(i);for(;o!==null;)we=o,Y2(o),o=o.sibling;we=i,Ef=a,nr=c}ew(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,we=o):ew(t)}}function ew(t){for(;we!==null;){var e=we;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nr||ag(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&D_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&qc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}nr||e.flags&512&&Nv(e)}catch(d){fn(e,e.return,d)}}if(e===t){we=null;break}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}}function tw(t){for(;we!==null;){var e=we;if(e===t){we=null;break}var n=e.sibling;if(n!==null){n.return=e.return,we=n;break}we=e.return}}function nw(t){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ag(4,e)}catch(l){fn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){fn(e,i,l)}}var o=e.return;try{Nv(e)}catch(l){fn(e,o,l)}break;case 5:var s=e.return;try{Nv(e)}catch(l){fn(e,s,l)}}}catch(l){fn(e,e.return,l)}if(e===t){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var cN=Math.ceil,hh=_o.ReactCurrentDispatcher,l1=_o.ReactCurrentOwner,oi=_o.ReactCurrentBatchConfig,ht=0,Nn=null,Sn=null,$n=0,Br=0,za=cs(0),An=0,iu=null,Vs=0,lg=0,c1=0,Pc=null,yr=null,u1=0,fl=1/0,Ji=null,gh=!1,Dv=null,Yo=null,xf=!1,zo=null,ph=0,Ac=0,zv=null,bd=-1,_d=0;function ur(){return ht&6?mn():bd!==-1?bd:bd=mn()}function Zo(t){return t.mode&1?ht&2&&$n!==0?$n&-$n:G3.transition!==null?(_d===0&&(_d=RT()),_d):(t=xt,t!==0||(t=window.event,t=t===void 0?16:jT(t.type)),t):1}function Ci(t,e,n,r){if(50<Ac)throw Ac=0,zv=null,Error(ne(185));ku(t,n,r),(!(ht&2)||t!==Nn)&&(t===Nn&&(!(ht&2)&&(lg|=n),An===4&&Fo(t,$n)),Cr(t,r),n===1&&ht===0&&!(e.mode&1)&&(fl=mn()+500,ig&&us()))}function Cr(t,e){var n=t.callbackNode;GR(t,e);var r=Qd(t,t===Nn?$n:0);if(r===0)n!==null&&f_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&f_(n),e===1)t.tag===0?W3(rw.bind(null,t)):o2(rw.bind(null,t)),$3(function(){!(ht&6)&&us()}),n=null;else{switch(NT(r)){case 1:n=Fy;break;case 4:n=OT;break;case 16:n=Zd;break;case 536870912:n=LT;break;default:n=Zd}n=iP(n,Z2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z2(t,e){if(bd=-1,_d=0,ht&6)throw Error(ne(327));var n=t.callbackNode;if(el()&&t.callbackNode!==n)return null;var r=Qd(t,t===Nn?$n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mh(t,r);else{e=r;var i=ht;ht|=2;var o=J2();(Nn!==t||$n!==e)&&(Ji=null,fl=mn()+500,Is(t,e));do try{dN();break}catch(a){Q2(t,a)}while(1);Ky(),hh.current=o,ht=i,Sn!==null?e=0:(Nn=null,$n=0,e=An)}if(e!==0){if(e===2&&(i=fv(t),i!==0&&(r=i,e=Bv(t,i))),e===1)throw n=iu,Is(t,0),Fo(t,r),Cr(t,mn()),n;if(e===6)Fo(t,r);else{if(i=t.current.alternate,!(r&30)&&!uN(i)&&(e=mh(t,r),e===2&&(o=fv(t),o!==0&&(r=o,e=Bv(t,o))),e===1))throw n=iu,Is(t,0),Fo(t,r),Cr(t,mn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:ps(t,yr,Ji);break;case 3:if(Fo(t,r),(r&130023424)===r&&(e=u1+500-mn(),10<e)){if(Qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bv(ps.bind(null,t,yr,Ji),e);break}ps(t,yr,Ji);break;case 4:if(Fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-xi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cN(r/1960))-r,10<r){t.timeoutHandle=bv(ps.bind(null,t,yr,Ji),r);break}ps(t,yr,Ji);break;case 5:ps(t,yr,Ji);break;default:throw Error(ne(329))}}}return Cr(t,mn()),t.callbackNode===n?Z2.bind(null,t):null}function Bv(t,e){var n=Pc;return t.current.memoizedState.isDehydrated&&(Is(t,e).flags|=256),t=mh(t,e),t!==2&&(e=yr,yr=n,e!==null&&jv(e)),t}function jv(t){yr===null?yr=t:yr.push.apply(yr,t)}function uN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mi(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~c1,e&=~lg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xi(e),r=1<<n;t[n]=-1,e&=~r}}function rw(t){if(ht&6)throw Error(ne(327));el();var e=Qd(t,0);if(!(e&1))return Cr(t,mn()),null;var n=mh(t,e);if(t.tag!==0&&n===2){var r=fv(t);r!==0&&(e=r,n=Bv(t,r))}if(n===1)throw n=iu,Is(t,0),Fo(t,e),Cr(t,mn()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,yr,Ji),Cr(t,mn()),null}function f1(t,e){var n=ht;ht|=1;try{return t(e)}finally{ht=n,ht===0&&(fl=mn()+500,ig&&us())}}function Us(t){zo!==null&&zo.tag===0&&!(ht&6)&&el();var e=ht;ht|=1;var n=oi.transition,r=xt;try{if(oi.transition=null,xt=1,t)return t()}finally{xt=r,oi.transition=n,ht=e,!(ht&6)&&us()}}function d1(){Br=za.current,Xt(za)}function Is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,j3(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(Gy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rh();break;case 3:cl(),Xt(Er),Xt(ir),t1();break;case 5:e1(r);break;case 4:cl();break;case 13:Xt(en);break;case 19:Xt(en);break;case 10:Yy(r.type._context);break;case 22:case 23:d1()}n=n.return}if(Nn=t,Sn=t=Qo(t.current,null),$n=Br=e,An=0,iu=null,c1=lg=Vs=0,yr=Pc=null,ws!==null){for(e=0;e<ws.length;e++)if(n=ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ws=null}return t}function Q2(t,e){do{var n=Sn;try{if(Ky(),md.current=dh,fh){for(var r=nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fh=!1}if($s=0,On=Pn=nn=null,Cc=!1,tu=0,l1.current=null,n===null||n.return===null){An=1,iu=e,Sn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=$n,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=H_(s);if(h!==null){h.flags&=-257,W_(h,s,a,o,e),h.mode&1&&U_(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){U_(o,c,e),h1();break e}l=Error(ne(426))}}else if(Yt&&a.mode&1){var _=H_(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),W_(_,s,a,o,e),qy(ul(l,a));break e}}o=l=ul(l,a),An!==4&&(An=2),Pc===null?Pc=[o]:Pc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=k2(o,l,e);F_(o,m);break e;case 1:a=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yo===null||!Yo.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=F2(o,a,e);F_(o,w);break e}}o=o.return}while(o!==null)}tP(n)}catch(S){e=S,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(1)}function J2(){var t=hh.current;return hh.current=dh,t===null?dh:t}function h1(){(An===0||An===3||An===2)&&(An=4),Nn===null||!(Vs&268435455)&&!(lg&268435455)||Fo(Nn,$n)}function mh(t,e){var n=ht;ht|=2;var r=J2();(Nn!==t||$n!==e)&&(Ji=null,Is(t,e));do try{fN();break}catch(i){Q2(t,i)}while(1);if(Ky(),ht=n,hh.current=r,Sn!==null)throw Error(ne(261));return Nn=null,$n=0,An}function fN(){for(;Sn!==null;)eP(Sn)}function dN(){for(;Sn!==null&&!DR();)eP(Sn)}function eP(t){var e=rP(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?tP(t):Sn=e,l1.current=null}function tP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oN(n,e),n!==null){n.flags&=32767,Sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{An=6,Sn=null;return}}else if(n=iN(n,e,Br),n!==null){Sn=n;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);An===0&&(An=5)}function ps(t,e,n){var r=xt,i=oi.transition;try{oi.transition=null,xt=1,hN(t,e,n,r)}finally{oi.transition=i,xt=r}return null}function hN(t,e,n,r){do el();while(zo!==null);if(ht&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(qR(t,o),t===Nn&&(Sn=Nn=null,$n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xf||(xf=!0,iP(Zd,function(){return el(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=oi.transition,oi.transition=null;var s=xt;xt=1;var a=ht;ht|=4,l1.current=null,aN(t,n),K2(n,t),R3(vv),Jd=!!mv,vv=mv=null,t.current=n,lN(n),zR(),ht=a,xt=s,oi.transition=o}else t.current=n;if(xf&&(xf=!1,zo=t,ph=i),o=t.pendingLanes,o===0&&(Yo=null),$R(n.stateNode),Cr(t,mn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gh)throw gh=!1,t=Dv,Dv=null,t;return ph&1&&t.tag!==0&&el(),o=t.pendingLanes,o&1?t===zv?Ac++:(Ac=0,zv=t):Ac=0,us(),null}function el(){if(zo!==null){var t=NT(ph),e=oi.transition,n=xt;try{if(oi.transition=null,xt=16>t?16:t,zo===null)var r=!1;else{if(t=zo,zo=null,ph=0,ht&6)throw Error(ne(331));var i=ht;for(ht|=4,we=t.current;we!==null;){var o=we,s=o.child;if(we.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:Tc(8,u,o)}var f=u.child;if(f!==null)f.return=u,we=f;else for(;we!==null;){u=we;var d=u.sibling,h=u.return;if(G2(u),u===c){we=null;break}if(d!==null){d.return=h,we=d;break}we=h}}}var p=o.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}we=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,we=s;else e:for(;we!==null;){if(o=we,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Tc(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,we=m;break e}we=o.return}}var y=t.current;for(we=y;we!==null;){s=we;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,we=b;else e:for(s=y;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ag(9,a)}}catch(S){fn(a,a.return,S)}if(a===s){we=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,we=w;break e}we=a.return}}if(ht=i,us(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Jh,t)}catch{}r=!0}return r}finally{xt=n,oi.transition=e}}return!1}function iw(t,e,n){e=ul(n,e),e=k2(t,e,1),t=Ko(t,e,1),e=ur(),t!==null&&(ku(t,1,e),Cr(t,e))}function fn(t,e,n){if(t.tag===3)iw(t,t,n);else for(;e!==null;){if(e.tag===3){iw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yo===null||!Yo.has(r))){t=ul(n,t),t=F2(e,t,1),e=Ko(e,t,1),t=ur(),e!==null&&(ku(e,1,t),Cr(e,t));break}}e=e.return}}function gN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&($n&n)===n&&(An===4||An===3&&($n&130023424)===$n&&500>mn()-u1?Is(t,0):c1|=n),Cr(t,e)}function nP(t,e){e===0&&(t.mode&1?(e=gf,gf<<=1,!(gf&130023424)&&(gf=4194304)):e=1);var n=ur();t=fo(t,e),t!==null&&(ku(t,e,n),Cr(t,n))}function pN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nP(t,n)}function mN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),nP(t,n)}var rP;rP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Er.current)_r=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _r=!1,rN(t,e,n);_r=!!(t.flags&131072)}else _r=!1,Yt&&e.flags&1048576&&s2(e,sh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yd(t,e),t=e.pendingProps;var i=sl(e,ir.current);Ja(e,n),i=r1(null,e,r,t,i,n);var o=i1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xr(r)?(o=!0,ih(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qy(e),i.updater=og,e.stateNode=i,i._reactInternals=e,Tv(e,r,t,n),e=Iv(null,e,r,!0,o,n)):(e.tag=0,Yt&&o&&Wy(e),ar(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yN(r),t=pi(r,t),i){case 0:e=Av(null,e,r,t,n);break e;case 1:e=X_(null,e,r,t,n);break e;case 11:e=G_(null,e,r,t,n);break e;case 14:e=q_(null,e,r,pi(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),Av(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),X_(t,e,r,i,n);case 3:e:{if(j2(e),t===null)throw Error(ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,u2(t,e),ch(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ul(Error(ne(423)),e),e=K_(t,e,r,n,i);break e}else if(r!==i){i=ul(Error(ne(424)),e),e=K_(t,e,r,n,i);break e}else for($r=Xo(e.stateNode.containerInfo.firstChild),Ur=e,Yt=!0,_i=null,n=g2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(al(),r===i){e=ho(t,e,n);break e}ar(t,e,r,n)}e=e.child}return e;case 5:return p2(e),t===null&&Ev(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,yv(r,i)?s=null:o!==null&&yv(r,o)&&(e.flags|=32),B2(t,e),ar(t,e,s,n),e.child;case 6:return t===null&&Ev(e),null;case 13:return $2(t,e,n);case 4:return Jy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ll(e,null,r,n):ar(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),G_(t,e,r,i,n);case 7:return ar(t,e,e.pendingProps,n),e.child;case 8:return ar(t,e,e.pendingProps.children,n),e.child;case 12:return ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Bt(ah,r._currentValue),r._currentValue=s,o!==null)if(Mi(o.value,s)){if(o.children===i.children&&!Er.current){e=ho(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ao(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),xv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ar(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ja(e,n),i=ai(i),r=r(i),e.flags|=1,ar(t,e,r,n),e.child;case 14:return r=e.type,i=pi(r,e.pendingProps),i=pi(r.type,i),q_(t,e,r,i,n);case 15:return D2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pi(r,i),yd(t,e),e.tag=1,xr(r)?(t=!0,ih(e)):t=!1,Ja(e,n),d2(e,r,i),Tv(e,r,i,n),Iv(null,e,r,!0,t,n);case 19:return V2(t,e,n);case 22:return z2(t,e,n)}throw Error(ne(156,e.tag))};function iP(t,e){return MT(t,e)}function vN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(t,e,n,r){return new vN(t,e,n,r)}function g1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yN(t){if(typeof t=="function")return g1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ry)return 11;if(t===Ny)return 14}return 2}function Qo(t,e){var n=t.alternate;return n===null?(n=ii(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")g1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Aa:return Ms(n.children,i,o,e);case Ly:s=8,i|=8;break;case Ym:return t=ii(12,n,e,i|2),t.elementType=Ym,t.lanes=o,t;case Zm:return t=ii(13,n,e,i),t.elementType=Zm,t.lanes=o,t;case Qm:return t=ii(19,n,e,i),t.elementType=Qm,t.lanes=o,t;case hT:return cg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fT:s=10;break e;case dT:s=9;break e;case Ry:s=11;break e;case Ny:s=14;break e;case Ro:s=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=ii(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ms(t,e,n,r){return t=ii(7,t,r,e),t.lanes=n,t}function cg(t,e,n,r){return t=ii(22,t,r,e),t.elementType=hT,t.lanes=n,t.stateNode={isHidden:!1},t}function Rp(t,e,n){return t=ii(6,t,null,e),t.lanes=n,t}function Np(t,e,n){return e=ii(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gp(0),this.expirationTimes=gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p1(t,e,n,r,i,o,s,a,l){return t=new bN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ii(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qy(o),t}function _N(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oP(t){if(!t)return ns;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(xr(n))return i2(t,n,e)}return e}function sP(t,e,n,r,i,o,s,a,l){return t=p1(n,r,!0,t,i,o,s,a,l),t.context=oP(null),n=t.current,r=ur(),i=Zo(n),o=ao(r,i),o.callback=e??null,Ko(n,o,i),t.current.lanes=i,ku(t,i,r),Cr(t,r),t}function ug(t,e,n,r){var i=e.current,o=ur(),s=Zo(i);return n=oP(n),e.context===null?e.context=n:e.pendingContext=n,e=ao(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ko(i,e,s),t!==null&&(Ci(t,i,s,o),pd(t,i,s)),s}function vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function m1(t,e){ow(t,e),(t=t.alternate)&&ow(t,e)}function wN(){return null}var aP=typeof reportError=="function"?reportError:function(t){console.error(t)};function v1(t){this._internalRoot=t}fg.prototype.render=v1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));ug(t,e,null,null)};fg.prototype.unmount=v1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){ug(null,t,null,null)}),e[uo]=null}};function fg(t){this._internalRoot=t}fg.prototype.unstable_scheduleHydration=function(t){if(t){var e=DT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&BT(t)}};function y1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sw(){}function SN(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=vh(s);o.call(c)}}var s=sP(e,r,t,0,null,!1,!1,"",sw);return t._reactRootContainer=s,t[uo]=s.current,Yc(t.nodeType===8?t.parentNode:t),Us(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=vh(l);a.call(c)}}var l=p1(t,0,!1,null,null,!1,!1,"",sw);return t._reactRootContainer=l,t[uo]=l.current,Yc(t.nodeType===8?t.parentNode:t),Us(function(){ug(e,l,n,r)}),l}function hg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=vh(s);a.call(l)}}ug(e,s,t,i)}else s=SN(n,e,t,i,r);return vh(s)}kT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hc(e.pendingLanes);n!==0&&(Dy(e,n|1),Cr(e,mn()),!(ht&6)&&(fl=mn()+500,us()))}break;case 13:Us(function(){var r=fo(t,1);if(r!==null){var i=ur();Ci(r,t,1,i)}}),m1(t,1)}};zy=function(t){if(t.tag===13){var e=fo(t,134217728);if(e!==null){var n=ur();Ci(e,t,134217728,n)}m1(t,134217728)}};FT=function(t){if(t.tag===13){var e=Zo(t),n=fo(t,e);if(n!==null){var r=ur();Ci(n,t,e,r)}m1(t,e)}};DT=function(){return xt};zT=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};lv=function(t,e,n){switch(e){case"input":if(tv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rg(r);if(!i)throw Error(ne(90));pT(r),tv(r,i)}}}break;case"textarea":vT(t,n);break;case"select":e=n.value,e!=null&&Ka(t,!!n.multiple,e,!1)}};xT=f1;CT=Us;var EN={usingClientEntryPoint:!1,Events:[Du,La,rg,ST,ET,f1]},Yl={findFiberByHostInstance:_s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xN={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_o.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AT(t),t===null?null:t.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||wN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{Jh=Cf.inject(xN),Wi=Cf}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EN;Xr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y1(e))throw Error(ne(200));return _N(t,e,null,n)};Xr.createRoot=function(t,e){if(!y1(t))throw Error(ne(299));var n=!1,r="",i=aP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=p1(t,1,!1,null,null,n,!1,r,i),t[uo]=e.current,Yc(t.nodeType===8?t.parentNode:t),new v1(e)};Xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=AT(e),t=t===null?null:t.stateNode,t};Xr.flushSync=function(t){return Us(t)};Xr.hydrate=function(t,e,n){if(!dg(e))throw Error(ne(200));return hg(null,t,e,!0,n)};Xr.hydrateRoot=function(t,e,n){if(!y1(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=aP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=sP(e,null,t,1,n??null,i,!1,o,s),t[uo]=e.current,Yc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fg(e)};Xr.render=function(t,e,n){if(!dg(e))throw Error(ne(200));return hg(null,t,e,!1,n)};Xr.unmountComponentAtNode=function(t){if(!dg(t))throw Error(ne(40));return t._reactRootContainer?(Us(function(){hg(null,null,t,!1,function(){t._reactRootContainer=null,t[uo]=null})}),!0):!1};Xr.unstable_batchedUpdates=f1;Xr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dg(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return hg(t,e,n,!1,r)};Xr.version="18.2.0-next-9e3b772b8-20220608";function lP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lP)}catch(t){console.error(t)}}lP(),sT.exports=Xr;var Hs=sT.exports;const cP=Lu(Hs),CN=xy({__proto__:null,default:cP},[Hs]);var aw=Hs;Xm.createRoot=aw.createRoot,Xm.hydrateRoot=aw.hydrateRoot;function yh(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const b1=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),lw=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);lw&&parseFloat(lw[1]);const TN="3.4.14";function go(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const Sd=typeof process!="object"||String(process)!=="[object process]"||process.browser,PN=typeof window<"u"&&typeof window.orientation<"u",cw=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);cw&&parseFloat(cw[1]);function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function AN(t,e){if(ou(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IN(t){var e=AN(t,"string");return ou(e)==="symbol"?e:String(e)}function Et(t,e,n){return e=IN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class MN{constructor(e,n){Et(this,"name",void 0),Et(this,"workerThread",void 0),Et(this,"isRunning",!0),Et(this,"result",void 0),Et(this,"_resolve",()=>{}),Et(this,"_reject",()=>{}),this.name=e,this.workerThread=n,this.result=new Promise((r,i)=>{this._resolve=r,this._reject=i})}postMessage(e,n){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:n})}done(e){go(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){go(this.isRunning),this.isRunning=!1,this._reject(e)}}let kp=class{terminate(){}};const Fp=new Map;function ON(t){go(t.source&&!t.url||!t.source&&t.url);let e=Fp.get(t.source||t.url);return e||(t.url&&(e=LN(t.url),Fp.set(t.url,e)),t.source&&(e=uP(t.source),Fp.set(t.source,e))),go(e),e}function LN(t){if(!t.startsWith("http"))return t;const e=RN(t);return uP(e)}function uP(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function RN(t){return`try {
  importScripts('`.concat(t,`');
} catch (error) {
  console.error(error);
  throw error;
}`)}function fP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(t){if(uw(t))r.add(t);else if(uw(t.buffer))r.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const i in t)fP(t[i],e,r)}}return n===void 0?Array.from(r):[]}function uw(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const Dp=()=>{};class $v{static isSupported(){return typeof Worker<"u"&&Sd||typeof kp<"u"&&!Sd}constructor(e){Et(this,"name",void 0),Et(this,"source",void 0),Et(this,"url",void 0),Et(this,"terminated",!1),Et(this,"worker",void 0),Et(this,"onMessage",void 0),Et(this,"onError",void 0),Et(this,"_loadableURL","");const{name:n,source:r,url:i}=e;go(r||i),this.name=n,this.source=r,this.url=i,this.onMessage=Dp,this.onError=o=>console.log(o),this.worker=Sd?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Dp,this.onError=Dp,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,n){n=n||fP(e),this.worker.postMessage(e,n)}_getErrorFromErrorEvent(e){let n="Failed to load ";return n+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(n+="".concat(e.message," in ")),e.lineno&&(n+=":".concat(e.lineno,":").concat(e.colno)),new Error(n)}_createBrowserWorker(){this._loadableURL=ON({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=n=>{n.data?this.onMessage(n.data):this.onError(new Error("No data received"))},e.onerror=n=>{this.onError(this._getErrorFromErrorEvent(n)),this.terminated=!0},e.onmessageerror=n=>console.error(n),e}_createNodeWorker(){let e;if(this.url){const r=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new kp(r,{eval:!1})}else if(this.source)e=new kp(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",n=>{this.onMessage(n)}),e.on("error",n=>{this.onError(n)}),e.on("exit",n=>{}),e}}class NN{static isSupported(){return $v.isSupported()}constructor(e){Et(this,"name","unnamed"),Et(this,"source",void 0),Et(this,"url",void 0),Et(this,"maxConcurrency",1),Et(this,"maxMobileConcurrency",1),Et(this,"onDebug",()=>{}),Et(this,"reuseWorkers",!0),Et(this,"props",{}),Et(this,"jobQueue",[]),Et(this,"idleQueue",[]),Et(this,"count",0),Et(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(o,s,a)=>o.done(a),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(o,s)=>o.error(s);const i=new Promise(o=>(this.jobQueue.push({name:e,onMessage:n,onError:r,onStart:o}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:e,backlog:this.jobQueue.length});const r=new MN(n.name,e);e.onMessage=i=>n.onMessage(r,i.type,i.payload),e.onError=i=>n.onError(r,i),n.onStart(r);try{await r.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new $v({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return PN?this.maxMobileConcurrency:this.maxConcurrency}}const kN={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class ro{static isSupported(){return $v.isSupported()}static getWorkerFarm(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ro._workerFarm=ro._workerFarm||new ro({}),ro._workerFarm.setProps(e),ro._workerFarm}constructor(e){Et(this,"props",void 0),Et(this,"workerPools",new Map),this.props={...kN},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:n,source:r,url:i}=e;let o=this.workerPools.get(n);return o||(o=new NN({name:n,source:r,url:i}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}Et(ro,"_workerFarm",void 0);const FN="latest";function DN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e[t.id]||{},r="".concat(t.id,"-worker.js");let i=n.workerUrl;if(!i&&t.id==="compression"&&(i=e.workerUrl),e._workerType==="test"&&(i="modules/".concat(t.module,"/dist/").concat(r)),!i){let o=t.version;o==="latest"&&(o=FN);const s=o?"@".concat(o):"";i="https://unpkg.com/@loaders.gl/".concat(t.module).concat(s,"/dist/").concat(r)}return go(i),i}function zN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TN;go(t,"no worker provided");const n=t.version;return!(!e||!n)}function BN(t,e){return!ro.isSupported()||!Sd&&!(e!=null&&e._nodeWorkers)?!1:t.worker&&(e==null?void 0:e.worker)}async function jN(t,e,n,r,i){const o=t.id,s=DN(t,n),l=ro.getWorkerFarm(n).getWorkerPool({name:o,url:s});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const c=await l.startJob("process-on-worker",$N.bind(null,i));return c.postMessage("process",{input:e,options:n,context:r}),await(await c.result).result}async function $N(t,e,n,r){switch(n){case"done":e.done(r);break;case"error":e.error(new Error(r.error));break;case"process":const{id:i,input:o,options:s}=r;try{const a=await t(o,s);e.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:i,error:l})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}function VN(t,e,n){if(n=n||t.byteLength,t.byteLength<n||e.byteLength<n)return!1;const r=new Uint8Array(t),i=new Uint8Array(e);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}function UN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e.map(a=>a instanceof ArrayBuffer?new Uint8Array(a):a),i=r.reduce((a,l)=>a+l.byteLength,0),o=new Uint8Array(i);let s=0;for(const a of r)o.set(a,s),s+=a.byteLength;return o.buffer}async function HN(t){const e=[];for await(const n of t)e.push(n);return UN(...e)}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function WN(t,e){if(su(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(su(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GN(t){var e=WN(t,"string");return su(e)==="symbol"?e:String(e)}function ca(t,e,n){return e=GN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fw(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}let dw=class{constructor(e,n){this.name=void 0,this.type=void 0,this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=n,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=fw(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(fw()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}},qN=class{constructor(e){this.id=void 0,this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"count";return this._getOrCreate({name:e,type:n})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const n of Object.values(this.stats))e(n)}getTable(){const e={};return this.forEach(n=>{e[n.name]={time:n.time||0,count:n.count||0,average:n.getAverageTime()||0,hz:n.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(n=>this._getOrCreate(n))}_getOrCreate(e){const{name:n,type:r}=e;let i=this.stats[n];return i||(e instanceof dw?i=e:i=new dw(n,r),this.stats[n]=i),i}};const XN="Queued Requests",KN="Active Requests",YN="Cancelled Requests",ZN="Queued Requests Ever",QN="Active Requests Ever",JN={id:"request-scheduler",throttleRequests:!0,maxRequests:6};class ek{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ca(this,"props",void 0),ca(this,"stats",void 0),ca(this,"activeRequestCount",0),ca(this,"requestQueue",[]),ca(this,"requestMap",new Map),ca(this,"deferredUpdate",null),this.props={...JN,...e},this.stats=new qN({id:this.props.id}),this.stats.get(XN),this.stats.get(KN),this.stats.get(YN),this.stats.get(ZN),this.stats.get(QN)}scheduleRequest(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>0;if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(e))return this.requestMap.get(e);const r={handle:e,priority:0,getPriority:n},i=new Promise(o=>(r.resolve=o,r));return this.requestQueue.push(r),this.requestMap.set(e,i),this._issueNewRequests(),i}_issueRequest(e){const{handle:n,resolve:r}=e;let i=!1;const o=()=>{i||(i=!0,this.requestMap.delete(n),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,r?r({done:o}):Promise.resolve({done:o})}_issueNewRequests(){this.deferredUpdate||(this.deferredUpdate=setTimeout(()=>this._issueNewRequestsAsync(),0))}_issueNewRequestsAsync(){this.deferredUpdate=null;const e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(e!==0){this._updateAllRequests();for(let n=0;n<e;++n){const r=this.requestQueue.shift();r&&this._issueRequest(r)}}}_updateAllRequests(){const e=this.requestQueue;for(let n=0;n<e.length;++n){const r=e[n];this._updateRequest(r)||(e.splice(n,1),this.requestMap.delete(r.handle),n--)}e.sort((n,r)=>n.priority-r.priority)}_updateRequest(e){return e.priority=e.getPriority(e.handle),e.priority<0?(e.resolve(null),!1):!0}}let tk="";const hw={};function nk(t){for(const e in hw)if(t.startsWith(e)){const n=hw[e];t=t.replace(e,n)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t="".concat(tk).concat(t)),t}function rk(t){return t&&typeof t=="object"&&t.isBuffer}function dP(t){if(rk(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function hP(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function ik(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const ok=t=>typeof t=="boolean",Ic=t=>typeof t=="function",Bu=t=>t!==null&&typeof t=="object",gw=t=>Bu(t)&&t.constructor==={}.constructor,sk=t=>t&&typeof t[Symbol.iterator]=="function",ak=t=>t&&typeof t[Symbol.asyncIterator]=="function",ta=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,na=t=>typeof Blob<"u"&&t instanceof Blob,lk=t=>t&&typeof t=="object"&&t.isBuffer,ck=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Bu(t)&&Ic(t.tee)&&Ic(t.cancel)&&Ic(t.getReader),uk=t=>Bu(t)&&Ic(t.read)&&Ic(t.pipe)&&ok(t.readable),gP=t=>ck(t)||uk(t),fk=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,dk=/^([-\w.]+\/[-\w.+]+)/;function hk(t){const e=dk.exec(t);return e?e[1]:t}function pw(t){const e=fk.exec(t);return e?e[1]:""}const pP=/\?.*/;function gk(t){const e=t.match(pP);return e&&e[0]}function _1(t){return t.replace(pP,"")}function gg(t){return ta(t)?t.url:na(t)?t.name||"":typeof t=="string"?t:""}function w1(t){if(ta(t)){const e=t,n=e.headers.get("content-type")||"",r=_1(e.url);return hk(n)||pw(r)}return na(t)?t.type||"":typeof t=="string"?pw(t):""}function pk(t){return ta(t)?t.headers["content-length"]||-1:na(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function mP(t){if(ta(t))return t;const e={},n=pk(t);n>=0&&(e["content-length"]=String(n));const r=gg(t),i=w1(t);i&&(e["content-type"]=i);const o=await yk(t);o&&(e["x-first-bytes"]=o),typeof t=="string"&&(t=new TextEncoder().encode(t));const s=new Response(t,{headers:e});return Object.defineProperty(s,"url",{value:r}),s}async function mk(t){if(!t.ok){const e=await vk(t);throw new Error(e)}}async function vk(t){let e="Failed to fetch resource ".concat(t.url," (").concat(t.status,"): ");try{const n=t.headers.get("Content-Type");let r=t.statusText;n.includes("application/json")&&(r+=" ".concat(await t.text())),e+=r,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}async function yk(t){if(typeof t=="string")return"data:,".concat(t.slice(0,5));if(t instanceof Blob){const n=t.slice(0,5);return await new Promise(r=>{const i=new FileReader;i.onload=o=>{var s;return r(o==null||(s=o.target)===null||s===void 0?void 0:s.result)},i.readAsDataURL(n)})}if(t instanceof ArrayBuffer){const n=t.slice(0,5),r=bk(n);return"data:base64,".concat(r)}return null}function bk(t){let e="";const n=new Uint8Array(t);for(let r=0;r<n.byteLength;r++)e+=String.fromCharCode(n[r]);return btoa(e)}async function mw(t,e){if(typeof t=="string"){t=nk(t);let n=e;return e!=null&&e.fetch&&typeof(e==null?void 0:e.fetch)!="function"&&(n=e.fetch),await fetch(t,n)}return await mP(t)}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function _k(t,e){if(au(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wk(t){var e=_k(t,"string");return au(e)==="symbol"?e:String(e)}function Sk(t,e,n){return e=wk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ek(t){if(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron)return!0;const e=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent,n=t||e;return!!(n&&n.indexOf("Electron")>=0)}function ju(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process.browser)||Ek()}const Tf=globalThis.window||globalThis.self||globalThis.global,Zl=globalThis.process||{},vP=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";ju();function xk(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}let Ck=class{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"sessionStorage";this.storage=void 0,this.id=void 0,this.config=void 0,this.storage=xk(r),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){const n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}};function Tk(t){let e;return t<10?e="".concat(t.toFixed(2),"ms"):t<100?e="".concat(t.toFixed(1),"ms"):t<1e3?e="".concat(t.toFixed(0),"ms"):e="".concat((t/1e3).toFixed(2),"s"),e}function Pk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;const n=Math.max(e-t.length,0);return"".concat(" ".repeat(n)).concat(t)}function zp(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:600;const i=t.src.replace(/\(/g,"%28").replace(/\)/g,"%29");t.width>r&&(n=Math.min(n,r/t.width));const o=t.width*n,s=t.height*n,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let bh;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(bh||(bh={}));const Ak=10;function vw(t){return typeof t!="string"?t:(t=t.toUpperCase(),bh[t]||bh.WHITE)}function Ik(t,e,n){if(!ju&&typeof t=="string"){if(e){const r=vw(e);t="\x1B[".concat(r,"m").concat(t,"\x1B[39m")}if(n){const r=vw(n);t="\x1B[".concat(r+Ak,"m").concat(t,"\x1B[49m")}}return t}function Mk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["constructor"];const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n),i=t;for(const o of r){const s=i[o];typeof s=="function"&&(e.find(a=>o===a)||(i[o]=s.bind(t)))}}function _h(t,e){if(!t)throw new Error(e||"Assertion failed")}function ua(){let t;if(ju()&&Tf.performance){var e,n;t=Tf==null||(e=Tf.performance)===null||e===void 0||(n=e.now)===null||n===void 0?void 0:n.call(e)}else if("hrtime"in Zl){var r;const i=Zl==null||(r=Zl.hrtime)===null||r===void 0?void 0:r.call(Zl);t=i[0]*1e3+i[1]/1e6}else t=Date.now();return t}const fa={debug:ju()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},Ok={enabled:!0,level:0};function ei(){}const yw={},bw={once:!0};let S1=class{constructor(){let{id:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:""};this.id=void 0,this.VERSION=vP,this._startTs=ua(),this._deltaTs=ua(),this._storage=void 0,this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new Ck("__probe-".concat(this.id,"__"),Ok),this.timeStamp("".concat(this.id," started")),Mk(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((ua()-this._startTs).toPrecision(10))}getDelta(){return Number((ua()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){_h(e,n)}warn(e){return this._getLogFunction(0,e,fa.warn,arguments,bw)}error(e){return this._getLogFunction(0,e,fa.error,arguments)}deprecated(e,n){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(n,"` instead"))}removed(e,n){return this.error("`".concat(e,"` has been removed. Use `").concat(n,"` instead"))}probe(e,n){return this._getLogFunction(e,n,fa.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,fa.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){return this._getLogFunction(e,n,fa.debug||fa.info,arguments,bw)}table(e,n,r){return n?this._getLogFunction(e,n,console.table||ei,r&&[r],{tag:kk(n)}):ei}image(e){let{logLevel:n,priority:r,image:i,message:o="",scale:s=1}=e;return this._shouldLog(n||r)?ju()?Nk({image:i,message:o,scale:s}):Rk():ei}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||ei)}group(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{collapsed:!1};const i=_w({logLevel:e,message:n,opts:r}),{collapsed:o}=r;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.group(e,n,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||ei)}withGroup(e,n,r){this.group(e,n)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=yP(e)}_getLogFunction(e,n,r,i,o){if(this._shouldLog(e)){o=_w({logLevel:e,message:n,args:i,opts:o}),r=r||o.method,_h(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=ua();const s=o.tag||o.message;if(o.once&&s)if(!yw[s])yw[s]=ua();else return ei;return n=Lk(this.id,o.message,o),r.bind(console,n,...o.args)}return ei}};S1.VERSION=vP;function yP(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return _h(Number.isFinite(e)&&e>=0),e}function _w(t){const{logLevel:e,message:n}=t;t.logLevel=yP(e);const r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const i=typeof t.message;return _h(i==="string"||i==="object"),Object.assign(t,{args:r},t.opts)}function Lk(t,e,n){if(typeof e=="string"){const r=n.time?Pk(Tk(n.total)):"";e=n.time?"".concat(t,": ").concat(r,"  ").concat(e):"".concat(t,": ").concat(e),e=Ik(e,n.color,n.background)}return e}function Rk(t){return console.warn("removed"),ei}function Nk(t){let{image:e,message:n="",scale:r=1}=t;if(typeof e=="string"){const o=new Image;return o.onload=()=>{const s=zp(o,n,r);console.log(...s)},o.src=e,ei}const i=e.nodeName||"";if(i.toLowerCase()==="img")return console.log(...zp(e,n,r)),ei;if(i.toLowerCase()==="canvas"){const o=new Image;return o.onload=()=>console.log(...zp(o,n,r)),o.src=e.toDataURL(),ei}return ei}function kk(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}const ww=new S1({id:"loaders.gl"});class Fk{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class Dk{constructor(){Sk(this,"console",void 0),this.console=console}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.console.log.bind(this.console,...n)}info(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.console.info.bind(this.console,...n)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.console.warn.bind(this.console,...n)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.console.error.bind(this.console,...n)}}const bP={fetch:null,mimeType:void 0,nothrow:!1,log:new Dk,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:b1,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},zk={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function _P(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state=t._state||{},t._state}const wP=()=>{const t=_P();return t.globalOptions=t.globalOptions||{...bP},t.globalOptions};function Bk(t,e,n,r){return n=n||[],n=Array.isArray(n)?n:[n],jk(t,n),Vk(e,t,r)}function jk(t,e){Sw(t,null,bP,zk,e);for(const n of e){const r=t&&t[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};Sw(r,n.id,i,o,e)}}function Sw(t,e,n,r,i){const o=e||"Top level",s=e?"".concat(e,"."):"";for(const a in t){const l=!e&&Bu(t[a]),c=a==="baseUri"&&!e,u=a==="workerUrl"&&e;if(!(a in n)&&!c&&!u){if(a in r)ww.warn("".concat(o," loader option '").concat(s).concat(a,"' no longer supported, use '").concat(r[a],"'"))();else if(!l){const f=$k(a,i);ww.warn("".concat(o," loader option '").concat(s).concat(a,"' not recognized. ").concat(f))()}}}}function $k(t,e){const n=t.toLowerCase();let r="";for(const i of e)for(const o in i.options){if(t===o)return"Did you mean '".concat(i.id,".").concat(o,"'?");const s=o.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||"Did you mean '".concat(i.id,".").concat(o,"'?"))}return r}function Vk(t,e,n){const i={...t.options||{}};return Uk(i,n),i.log===null&&(i.log=new Fk),Ew(i,wP()),Ew(i,e),i}function Ew(t,e){for(const n in e)if(n in e){const r=e[n];gw(r)&&gw(t[n])?t[n]={...t[n],...e[n]}:t[n]=e[n]}}function Uk(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function E1(t){var e;return t?(Array.isArray(t)&&(t=t[0]),Array.isArray((e=t)===null||e===void 0?void 0:e.extensions)):!1}function x1(t){var e,n;yh(t,"null loader"),yh(E1(t),"invalid loader");let r;return Array.isArray(t)&&(r=t[1],t=t[0],t={...t,options:{...t.options,...r}}),((e=t)!==null&&e!==void 0&&e.parseTextSync||(n=t)!==null&&n!==void 0&&n.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const SP=()=>{const t=_P();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function Hk(t){const e=SP();t=Array.isArray(t)?t:[t];for(const n of t){const r=x1(n);e.find(i=>r===i)||e.unshift(r)}}function Wk(){return SP()}const Gk=new S1({id:"loaders.gl"}),qk=/\.([^.]+)$/;async function Xk(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!EP(t))return null;let i=xw(t,e,{...n,nothrow:!0},r);if(i)return i;if(na(t)&&(t=await t.slice(0,10).arrayBuffer(),i=xw(t,e,n,r)),!i&&!(n!=null&&n.nothrow))throw new Error(xP(t));return i}function xw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!EP(t))return null;if(e&&!Array.isArray(e))return x1(e);let i=[];e&&(i=i.concat(e)),n!=null&&n.ignoreRegisteredLoaders||i.push(...Wk()),Yk(i);const o=Kk(t,i,n,r);if(!o&&!(n!=null&&n.nothrow))throw new Error(xP(t));return o}function Kk(t,e,n,r){const i=gg(t),o=w1(t),s=_1(i)||(r==null?void 0:r.url);let a=null,l="";if(n!=null&&n.mimeType&&(a=Bp(e,n==null?void 0:n.mimeType),l="match forced by supplied MIME type ".concat(n==null?void 0:n.mimeType)),a=a||Zk(e,s),l=l||(a?"matched url ".concat(s):""),a=a||Bp(e,o),l=l||(a?"matched MIME type ".concat(o):""),a=a||Jk(e,t),l=l||(a?"matched initial data ".concat(CP(t)):""),a=a||Bp(e,n==null?void 0:n.fallbackMimeType),l=l||(a?"matched fallback MIME type ".concat(o):""),l){var c;Gk.log(1,"selectLoader selected ".concat((c=a)===null||c===void 0?void 0:c.name,": ").concat(l,"."))}return a}function EP(t){return!(t instanceof Response&&t.status===204)}function xP(t){const e=gg(t),n=w1(t);let r="No valid loader found (";r+=e?"".concat(hP(e),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const i=t?CP(t):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")",r}function Yk(t){for(const e of t)x1(e)}function Zk(t,e){const n=e&&qk.exec(e),r=n&&n[1];return r?Qk(t,r):null}function Qk(t,e){e=e.toLowerCase();for(const n of t)for(const r of n.extensions)if(r.toLowerCase()===e)return n;return null}function Bp(t,e){for(const n of t)if(n.mimeTypes&&n.mimeTypes.includes(e)||e==="application/x.".concat(n.id))return n;return null}function Jk(t,e){if(!e)return null;for(const n of t)if(typeof e=="string"){if(eF(e,n))return n}else if(ArrayBuffer.isView(e)){if(Cw(e.buffer,e.byteOffset,n))return n}else if(e instanceof ArrayBuffer&&Cw(e,0,n))return n;return null}function eF(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(r=>t.startsWith(r))}function Cw(t,e,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(i=>tF(t,e,n,i))}function tF(t,e,n,r){if(r instanceof ArrayBuffer)return VN(r,t,r.byteLength);switch(typeof r){case"function":return r(t,n);case"string":const i=Vv(t,e,r.length);return r===i;default:return!1}}function CP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?Vv(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?Vv(t,0,e):""}function Vv(t,e,n){if(t.byteLength<e+n)return"";const r=new DataView(t);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(e+o));return i}const nF=256*1024;function*rF(t,e){const n=(e==null?void 0:e.chunkSize)||nF;let r=0;const i=new TextEncoder;for(;r<t.length;){const o=Math.min(t.length-r,n),s=t.slice(r,r+o);r+=o,yield i.encode(s)}}const iF=256*1024;function oF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const{chunkSize:n=iF}=e;let r=0;for(;r<t.byteLength;){const i=Math.min(t.byteLength-r,n),o=new ArrayBuffer(i),s=new Uint8Array(t,r,i);new Uint8Array(o).set(s),r+=i,yield o}}()}const sF=1024*1024;async function*aF(t,e){const n=(e==null?void 0:e.chunkSize)||sF;let r=0;for(;r<t.size;){const i=r+n,o=await t.slice(r,i).arrayBuffer();r=i,yield o}}function Tw(t,e){return b1?lF(t,e):cF(t)}async function*lF(t,e){const n=t.getReader();let r;try{for(;;){const i=r||n.read();e!=null&&e._streamReadAhead&&(r=n.read());const{done:o,value:s}=await i;if(o)return;yield dP(s)}}catch{n.releaseLock()}}async function*cF(t,e){for await(const n of t)yield dP(n)}function uF(t,e){if(typeof t=="string")return rF(t,e);if(t instanceof ArrayBuffer)return oF(t,e);if(na(t))return aF(t,e);if(gP(t))return Tw(t,e);if(ta(t))return Tw(t.body,e);throw new Error("makeIterator")}const TP="Cannot convert supplied data type";function fF(t,e,n){if(e.text&&typeof t=="string")return t;if(lk(t)&&(t=t.buffer),t instanceof ArrayBuffer){const r=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(r):r}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let r=t.buffer;const i=t.byteLength||t.length;return(t.byteOffset!==0||i!==r.byteLength)&&(r=r.slice(t.byteOffset,t.byteOffset+i)),r}throw new Error(TP)}async function dF(t,e,n){const r=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||r)return fF(t,e);if(na(t)&&(t=await mP(t)),ta(t)){const i=t;return await mk(i),e.binary?await i.arrayBuffer():await i.text()}if(gP(t)&&(t=uF(t,n)),sk(t)||ak(t))return HN(t);throw new Error(TP)}function PP(t,e){const n=wP(),r=t||n;return typeof r.fetch=="function"?r.fetch:Bu(r.fetch)?i=>mw(i,r):e!=null&&e.fetch?e==null?void 0:e.fetch:mw}function hF(t,e,n){if(n)return n;const r={fetch:PP(e,t),...t};if(r.url){const i=_1(r.url);r.baseUrl=i,r.queryString=gk(r.url),r.filename=hP(i),r.baseUrl=ik(i)}return Array.isArray(r.loaders)||(r.loaders=null),r}function gF(t,e){if(!e&&t&&!Array.isArray(t))return t;let n;if(t&&(n=Array.isArray(t)?t:[t]),e&&e.loaders){const r=Array.isArray(e.loaders)?e.loaders:[e.loaders];n=n?[...n,...r]:r}return n&&n.length?n:null}async function C1(t,e,n,r){go(!r||typeof r=="object"),e&&!Array.isArray(e)&&!E1(e)&&(r=void 0,n=e,e=void 0),t=await t,n=n||{};const i=gg(t),s=gF(e,r),a=await Xk(t,s,n);return a?(n=Bk(n,a,s,i),r=hF({url:i,parse:C1,loaders:s},n,r||null),await pF(a,t,n,r)):null}async function pF(t,e,n,r){if(zN(t),ta(e)){const i=e,{ok:o,redirected:s,status:a,statusText:l,type:c,url:u}=i,f=Object.fromEntries(i.headers.entries());r.response={headers:f,ok:o,redirected:s,status:a,statusText:l,type:c,url:u}}if(e=await dF(e,t,n),t.parseTextSync&&typeof e=="string")return n.dataType="text",t.parseTextSync(e,n,r,t);if(BN(t,n))return await jN(t,e,n,r,C1);if(t.parseText&&typeof e=="string")return await t.parseText(e,n,r,t);if(t.parse)return await t.parse(e,n,r,t);throw go(!t.parseSync),new Error("".concat(t.id," loader - no parser found and worker is disabled"))}async function wh(t,e,n,r){!Array.isArray(e)&&!E1(e)&&(n=e,e=void 0);const i=PP(n);let o=t;return typeof t=="string"&&(o=await i(t)),na(t)&&(o=await i(t)),await C1(o,e,n)}const mF="3.4.14",{_parseImageNode:vF}=globalThis,Uv=typeof Image<"u",Hv=typeof ImageBitmap<"u",yF=!!vF,Wv=b1?!0:yF;function bF(t){switch(t){case"auto":return Hv||Uv||Wv;case"imagebitmap":return Hv;case"image":return Uv;case"data":return Wv;default:throw new Error("@loaders.gl/images: image ".concat(t," not supported in this environment"))}}function _F(){if(Hv)return"imagebitmap";if(Uv)return"image";if(Wv)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function wF(t){const e=EF(t);if(!e)throw new Error("Not an image");return e}function SF(t){switch(wF(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("getImageData");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function EF(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const xF=/^data:image\/svg\+xml/,CF=/\.svg((\?|#).*)?$/;function T1(t){return t&&(xF.test(t)||CF.test(t))}function TF(t,e){if(T1(e)){let r=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(r=unescape(encodeURIComponent(r)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(r))}return AP(t,e)}function AP(t,e){if(T1(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function IP(t,e,n){const r=TF(t,n),i=self.URL||self.webkitURL,o=typeof r!="string"&&i.createObjectURL(r);try{return await PF(o||r,e)}finally{o&&i.revokeObjectURL(o)}}async function PF(t,e){const n=new Image;return n.src=t,e.image&&e.image.decode&&n.decode?(await n.decode(),n):await new Promise((r,i)=>{try{n.onload=()=>r(n),n.onerror=o=>i(new Error("Could not load image ".concat(t,": ").concat(o)))}catch(o){i(o)}})}const AF={};let Pw=!0;async function IF(t,e,n){let r;T1(n)?r=await IP(t,e,n):r=AP(t,n);const i=e&&e.imagebitmap;return await MF(r,i)}async function MF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if((OF(e)||!Pw)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(n){console.warn(n),Pw=!1}return await createImageBitmap(t)}function OF(t){for(const e in t||AF)return!1;return!0}function LF(t){return!FF(t,"ftyp",4)||!(t[8]&96)?null:RF(t)}function RF(t){switch(NF(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function NF(t,e,n){return String.fromCharCode(...t.slice(e,n))}function kF(t){return[...t].map(e=>e.charCodeAt(0))}function FF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const r=kF(e);for(let i=0;i<r.length;++i)if(r[i]!==t[i+n])return!1;return!0}const Vi=!1,Mc=!0;function MP(t){const e=$u(t);return zF(e)||$F(e)||BF(e)||jF(e)||DF(e)}function DF(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),n=LF(e);return n?{mimeType:n.mimeType,width:0,height:0}:null}function zF(t){const e=$u(t);return e.byteLength>=24&&e.getUint32(0,Vi)===2303741511?{mimeType:"image/png",width:e.getUint32(16,Vi),height:e.getUint32(20,Vi)}:null}function BF(t){const e=$u(t);return e.byteLength>=10&&e.getUint32(0,Vi)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,Mc),height:e.getUint16(8,Mc)}:null}function jF(t){const e=$u(t);return e.byteLength>=14&&e.getUint16(0,Vi)===16973&&e.getUint32(2,Mc)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,Mc),height:e.getUint32(22,Mc)}:null}function $F(t){const e=$u(t);if(!(e.byteLength>=3&&e.getUint16(0,Vi)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:r,sofMarkers:i}=VF();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,Vi);if(i.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Vi),width:e.getUint16(o+7,Vi)};if(!r.has(s))return null;o+=2,o+=e.getUint16(o,Vi)}return null}function VF(){const t=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)t.add(n);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function $u(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function UF(t,e){const{mimeType:n}=MP(t)||{},r=globalThis._parseImageNode;return yh(r),await r(t,n)}async function HF(t,e,n){e=e||{};const i=(e.image||{}).type||"auto",{url:o}=n||{},s=WF(i);let a;switch(s){case"imagebitmap":a=await IF(t,e,o);break;case"image":a=await IP(t,e,o);break;case"data":a=await UF(t);break;default:yh(!1)}return i==="data"&&(a=SF(a)),a}function WF(t){switch(t){case"auto":case"data":return _F();default:return bF(t),t}}const GF=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],qF=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],XF={image:{type:"auto",decode:!0}},KF={id:"image",module:"images",name:"Images",version:mF,mimeTypes:qF,extensions:GF,parse:HF,tests:[t=>!!MP(new DataView(t))],options:XF};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function YF(t,e){if(lu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZF(t){var e=YF(t,"string");return lu(e)==="symbol"?e:String(e)}function vi(t,e,n){return e=ZF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OP(t){if(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron)return!0;const e=typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent,n=t||e;return!!(n&&n.indexOf("Electron")>=0)}function wo(){return!(typeof process=="object"&&String(process)==="[object process]"&&!process.browser)||OP()}const Ed={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:typeof process=="object"&&process},Pf=Ed.window||Ed.self||Ed.global,Ql=Ed.process||{},LP=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";wo();const jp=globalThis;function RP(t){if(!t&&!wo())return"Node";if(OP(t))return"Electron";const n=t||(typeof navigator<"u"?navigator:{}).userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";const r=n.indexOf("MSIE ")!==-1,i=n.indexOf("Trident/")!==-1;return r||i?"IE":jp.chrome?"Chrome":jp.safari?"Safari":jp.mozInnerScreenX?"Firefox":"Unknown"}function QF(t){try{const e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),e}catch{return null}}class JF{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"sessionStorage";vi(this,"storage",void 0),vi(this,"id",void 0),vi(this,"config",void 0),this.storage=QF(r),this.id=e,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let e={};if(this.storage){const n=this.storage.getItem(this.id);e=n?JSON.parse(n):{}}return Object.assign(this.config,e),this}}function e4(t){let e;return t<10?e="".concat(t.toFixed(2),"ms"):t<100?e="".concat(t.toFixed(1),"ms"):t<1e3?e="".concat(t.toFixed(0),"ms"):e="".concat((t/1e3).toFixed(2),"s"),e}function t4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;const n=Math.max(e-t.length,0);return"".concat(" ".repeat(n)).concat(t)}function $p(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:600;const i=t.src.replace(/\(/g,"%28").replace(/\)/g,"%29");t.width>r&&(n=Math.min(n,r/t.width));const o=t.width*n,s=t.height*n,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let Sh;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(Sh||(Sh={}));function Aw(t){return typeof t=="string"?Sh[t.toUpperCase()]||Sh.WHITE:t}function n4(t,e,n){return!wo&&typeof t=="string"&&(e&&(e=Aw(e),t="\x1B[".concat(e,"m").concat(t,"\x1B[39m")),n&&(e=Aw(n),t="\x1B[".concat(n+10,"m").concat(t,"\x1B[49m"))),t}function r4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["constructor"];const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyNames(n);for(const i of r)typeof t[i]=="function"&&(e.find(o=>i===o)||(t[i]=t[i].bind(t)))}function Eh(t,e){if(!t)throw new Error(e||"Assertion failed")}function da(){let t;if(wo&&"performance"in Pf){var e,n;t=Pf==null||(e=Pf.performance)===null||e===void 0||(n=e.now)===null||n===void 0?void 0:n.call(e)}else if("hrtime"in Ql){var r;const i=Ql==null||(r=Ql.hrtime)===null||r===void 0?void 0:r.call(Ql);t=i[0]*1e3+i[1]/1e6}else t=Date.now();return t}const ha={debug:wo&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},i4={enabled:!0,level:0};function ti(){}const Iw={},Mw={once:!0};class P1{constructor(){let{id:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{id:""};vi(this,"id",void 0),vi(this,"VERSION",LP),vi(this,"_startTs",da()),vi(this,"_deltaTs",da()),vi(this,"_storage",void 0),vi(this,"userData",{}),vi(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new JF("__probe-".concat(this.id,"__"),i4),this.timeStamp("".concat(this.id," started")),r4(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((da()-this._startTs).toPrecision(10))}getDelta(){return Number((da()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,n){this._storage.setConfiguration({[e]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,n){Eh(e,n)}warn(e){return this._getLogFunction(0,e,ha.warn,arguments,Mw)}error(e){return this._getLogFunction(0,e,ha.error,arguments)}deprecated(e,n){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(n,"` instead"))}removed(e,n){return this.error("`".concat(e,"` has been removed. Use `").concat(n,"` instead"))}probe(e,n){return this._getLogFunction(e,n,ha.log,arguments,{time:!0,once:!0})}log(e,n){return this._getLogFunction(e,n,ha.debug,arguments)}info(e,n){return this._getLogFunction(e,n,console.info,arguments)}once(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return this._getLogFunction(e,n,ha.debug||ha.info,arguments,Mw)}table(e,n,r){return n?this._getLogFunction(e,n,console.table||ti,r&&[r],{tag:l4(n)}):ti}image(e){let{logLevel:n,priority:r,image:i,message:o="",scale:s=1}=e;return this._shouldLog(n||r)?wo?a4({image:i,message:o,scale:s}):s4():ti}time(e,n){return this._getLogFunction(e,n,console.time?console.time:console.info)}timeEnd(e,n){return this._getLogFunction(e,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,n){return this._getLogFunction(e,n,console.timeStamp||ti)}group(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{collapsed:!1};const i=Ow({logLevel:e,message:n,opts:r}),{collapsed:o}=r;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.group(e,n,Object.assign({},r,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||ti)}withGroup(e,n,r){this.group(e,n)();try{r()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=NP(e)}_getLogFunction(e,n,r,i,o){if(this._shouldLog(e)){o=Ow({logLevel:e,message:n,args:i,opts:o}),r=r||o.method,Eh(r),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=da();const s=o.tag||o.message;if(o.once)if(!Iw[s])Iw[s]=da();else return ti;return n=o4(this.id,o.message,o),r.bind(console,n,...o.args)}return ti}}vi(P1,"VERSION",LP);function NP(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return Eh(Number.isFinite(e)&&e>=0),e}function Ow(t){const{logLevel:e,message:n}=t;t.logLevel=NP(e);const r=t.args?Array.from(t.args):[];for(;r.length&&r.shift()!==n;);switch(typeof e){case"string":case"function":n!==void 0&&r.unshift(n),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const i=typeof t.message;return Eh(i==="string"||i==="object"),Object.assign(t,{args:r},t.opts)}function o4(t,e,n){if(typeof e=="string"){const r=n.time?t4(e4(n.total)):"";e=n.time?"".concat(t,": ").concat(r,"  ").concat(e):"".concat(t,": ").concat(e),e=n4(e,n.color,n.background)}return e}function s4(t){return console.warn("removed"),ti}function a4(t){let{image:e,message:n="",scale:r=1}=t;if(typeof e=="string"){const o=new Image;return o.onload=()=>{const s=$p(o,n,r);console.log(...s)},o.src=e,ti}const i=e.nodeName||"";if(i.toLowerCase()==="img")return console.log(...$p(e,n,r)),ti;if(i.toLowerCase()==="canvas"){const o=new Image;return o.onload=()=>console.log(...$p(o,n,r)),o.src=e.toDataURL(),ti}return ti}function l4(t){for(const e in t)for(const n in t[e])return n||"untitled";return"empty"}const it=new P1({id:"deck"});let Gv={};function c4(t){Gv=t}function er(t,e,n,r){it.level>0&&Gv[t]&&Gv[t].call(null,e,n,r)}function u4(t){const e=t[0],n=t[t.length-1];return e==="{"&&n==="}"||e==="["&&n==="]"}const f4={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:u4,parseTextSync:JSON.parse};function d4(){const t="8.9.30",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error("deck.gl - multiple versions detected: ".concat(e," vs ").concat(t));return e||(it.log(1,"deck.gl ".concat(t))(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:it,_registerLoggers:c4},Hk([f4,[KF,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}const h4=d4(),ut={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(ut,"IDENTITY",{get:()=>(it.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const wi={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},Ws={common:0,meters:1,pixels:2},Lw={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}};function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function g4(t,e){if(cu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p4(t){var e=g4(t,"string");return cu(e)==="symbol"?e:String(e)}function P(t,e,n){return e=p4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Oe=new P1({id:"luma.gl"});function lr(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}const m4="Invalid WebGLRenderingContext",v4="Requires WebGL2";function pg(t){return typeof WebGLRenderingContext<"u"&&t instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}function ot(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&t._version===2)}function y4(t){return ot(t)?t:null}function mg(t){return lr(pg(t),m4),t}function rr(t){return lr(ot(t),v4),t}const pc={};function b4(t){globalThis.console&&globalThis.console.error&&globalThis.console.error(t)}function _4(t){globalThis.console&&globalThis.console.log&&globalThis.console.log(t)}function w4(t,e){pc[t]=!0,e!==void 0&&b4(e)}function S4(t){const e=t.getError;t.getError=function(){let r;do r=e.apply(t),r!==0&&(pc[r]=!0);while(r!==0);for(r in pc)if(pc[r])return delete pc[r],parseInt(r,10);return 0}}const Vu=function t(e){const n=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let r=0;r<this.attribs.length;r++){const i=new t.VertexAttrib(n);this.attribs[r]=i}this.maxAttrib=0};Vu.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()};Vu.VertexAttrib.prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const ra=function(e){const n=this;this.gl=e,S4(e);const r=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(o){return o===n.VERTEX_ARRAY_BINDING_OES?n.currentVertexArrayObject===n.defaultVertexArrayObject?null:n.currentVertexArrayObject:r.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(o){const s=n.currentVertexArrayObject;s.maxAttrib=Math.max(s.maxAttrib,o);const a=s.attribs[o];return a.enabled=!0,r.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(o){const s=n.currentVertexArrayObject;s.maxAttrib=Math.max(s.maxAttrib,o);const a=s.attribs[o];return a.enabled=!1,r.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(o,s){switch(o){case 34962:n.currentArrayBuffer=s;break;case 34963:n.currentVertexArrayObject.elementArrayBuffer=s;break}return r.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(o,s){const l=n.currentVertexArrayObject.attribs[o];switch(s){case 34975:return l.buffer;case 34338:return l.enabled;case 34339:return l.size;case 34340:return l.stride;case 34341:return l.type;case 34922:return l.normalized;default:return r.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(o,s,a,l,c,u){const f=n.currentVertexArrayObject;f.maxAttrib=Math.max(f.maxAttrib,o);const d=f.attribs[o];return d.buffer=n.currentArrayBuffer,d.size=s,d.type=a,d.normalized=l,d.stride=c,d.offset=u,d.recache(),r.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",()=>{_4("OESVertexArrayObject emulation library context restored"),n.reset_()},!0),this.reset_()};ra.prototype.VERTEX_ARRAY_BINDING_OES=34229;ra.prototype.reset_=function(){if(this.vertexArrayObjects!==void 0)for(let r=0;r<this.vertexArrayObjects.length;++r)this.vertexArrayObjects.isAlive=!1;const n=this.gl;this.maxVertexAttribs=n.getParameter(34921),this.defaultVertexArrayObject=new Vu(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)};ra.prototype.createVertexArrayOES=function(){const e=new Vu(this);return this.vertexArrayObjects.push(e),e};ra.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)};ra.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof Vu&&e.hasBeenBound&&e.ext===this)};ra.prototype.bindVertexArrayOES=function(e){const n=this.gl;if(e&&!e.isAlive){w4(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");return}const r=this.original,i=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const o=this.currentVertexArrayObject;if(i===o)return;(!i||o.elementArrayBuffer!==i.elementArrayBuffer)&&r.bindBuffer.call(n,34963,o.elementArrayBuffer);let s=this.currentArrayBuffer;const a=Math.max(i?i.maxAttrib:0,o.maxAttrib);for(let l=0;l<=a;l++){const c=o.attribs[l],u=i?i.attribs[l]:null;if((!i||c.enabled!==u.enabled)&&(c.enabled?r.enableVertexAttribArray.call(n,l):r.disableVertexAttribArray.call(n,l)),c.enabled){let f=!1;(!i||c.buffer!==u.buffer)&&(s!==c.buffer&&(r.bindBuffer.call(n,34962,c.buffer),s=c.buffer),f=!0),(f||c.cached!==u.cached)&&r.vertexAttribPointer.call(n,l,c.size,c.type,c.normalized,c.stride,c.offset)}}this.currentArrayBuffer!==s&&r.bindBuffer.call(n,34962,this.currentArrayBuffer)};function E4(t){if(typeof t.createVertexArray=="function")return;const e=t.getSupportedExtensions;t.getSupportedExtensions=function(){const i=e.call(this)||[];return i.indexOf("OES_vertex_array_object")<0&&i.push("OES_vertex_array_object"),i};const n=t.getExtension;t.getExtension=function(i){const o=n.call(this,i);return o||(i!=="OES_vertex_array_object"?null:(t.__OESVertexArrayObject||(this.__OESVertexArrayObject=new ra(this)),this.__OESVertexArrayObject))}}const Rw="OES_element_index",Nw="WEBGL_draw_buffers",x4="EXT_disjoint_timer_query",C4="EXT_disjoint_timer_query_webgl2",T4="EXT_texture_filter_anisotropic",kw="WEBGL_debug_renderer_info",P4=35723,A4=4352,I4=36795,M4=34047,O4=37445,L4=37446,zt=t=>ot(t)?void 0:0,R4={3074:t=>ot(t)?void 0:36064,[P4]:t=>ot(t)?void 0:A4,35977:zt,32937:zt,[I4]:(t,e)=>{const n=ot(t)?t.getExtension(C4):t.getExtension(x4);return n&&n.GPU_DISJOINT_EXT?e(n.GPU_DISJOINT_EXT):0},[O4]:(t,e)=>{const n=t.getExtension(kw);return e(n&&n.UNMASKED_VENDOR_WEBGL||7936)},[L4]:(t,e)=>{const n=t.getExtension(kw);return e(n&&n.UNMASKED_RENDERER_WEBGL||7937)},[M4]:(t,e)=>{const n=t.luma.extensions[T4];return n?e(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:zt,35071:zt,37447:zt,36063:(t,e)=>{if(!ot(t)){const n=t.getExtension(Nw);return n?e(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:zt,35374:zt,35377:zt,34852:t=>{if(!ot(t)){const e=t.getExtension(Nw);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:t=>t.getExtension(Rw)?2147483647:65535,33001:t=>t.getExtension(Rw)?16777216:65535,33e3:t=>16777216,37157:zt,35373:zt,35657:zt,36183:zt,37137:zt,34045:zt,35978:zt,35979:zt,35968:zt,35376:zt,35375:zt,35659:zt,37154:zt,35371:zt,35658:zt,35076:zt,35077:zt,35380:zt};function N4(t,e,n){const r=R4[n],i=typeof r=="function"?r(t,e,n):r;return i!==void 0?i:e(n)}const k4="OES_vertex_array_object",kP="ANGLE_instanced_arrays",F4="WEBGL_draw_buffers",D4="EXT_disjoint_timer_query",z4="EXT_texture_filter_anisotropic",B4="VertexArray requires WebGL2 or OES_vertex_array_object extension";function j4(t,e){return{webgl2:ot(t),ext:t.getExtension(e)}}const FP={[k4]:{meta:{suffix:"OES"},createVertexArray:()=>{lr(!1,B4)},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[kP]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(t,e){lr(e===0,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},[F4]:{meta:{suffix:"WEBGL"},drawBuffers:()=>{lr(!1)}},[D4]:{meta:{suffix:"EXT"},createQuery:()=>{lr(!1)},deleteQuery:()=>{lr(!1)},beginQuery:()=>{lr(!1)},endQuery:()=>{},getQuery(t,e){return this.getQueryObject(t,e)},getQueryParameter(t,e){return this.getQueryObject(t,e)},getQueryObject:()=>{}}},Vp={readBuffer:(t,e,n)=>{ot(t)&&e(n)},getVertexAttrib:(t,e,n,r)=>{const{webgl2:i,ext:o}=j4(t,kP);let s;switch(r){case 35069:s=i?void 0:!1;break;case 35070:s=!i&&!o?0:void 0;break}return s!==void 0?s:e(n,r)},getProgramParameter:(t,e,n,r)=>{if(!ot(t))switch(r){case 35967:return 35981;case 35971:return 0;case 35382:return 0}return e(n,r)},getInternalformatParameter:(t,e,n,r,i)=>{if(!ot(t))switch(i){case 32937:return new Int32Array([0])}return t.getInternalformatParameter(n,r,i)},getTexParameter(t,e,n,r){switch(r){case 34046:const{extensions:i}=t.luma,o=i[z4];r=o&&o.TEXTURE_MAX_ANISOTROPY_EXT||34046;break}return e(n,r)},getParameter:N4,hint(t,e,n,r){return e(n,r)}};function $4(t){t.luma=t.luma||{};const{luma:e}=t;return e.polyfilled||(E4(t),V4(t),H4(t,FP),U4(t,{target:e,target2:t}),e.polyfilled=!0),t}globalThis.polyfillContext=$4;function V4(t){t.luma.extensions={};const e=t.getSupportedExtensions()||[];for(const n of e)t.luma[n]=t.getExtension(n)}function U4(t,e){let{target:n,target2:r}=e;Object.keys(Vp).forEach(i=>{if(typeof Vp[i]=="function"){const o=t[i]?t[i].bind(t):()=>{},s=Vp[i].bind(null,t,o);n[i]=s,r[i]=s}})}function H4(t,e){for(const n of Object.getOwnPropertyNames(e))n!=="overrides"&&W4(t,{extension:n,target:t.luma,target2:t})}function W4(t,e){let{extension:n,target:r,target2:i}=e;const o=FP[n];lr(o);const{meta:s={}}=o,{suffix:a=""}=s,l=t.getExtension(n);for(const c of Object.keys(o)){const u="".concat(c).concat(a);let f=null;c==="meta"||typeof t[c]=="function"||(l&&typeof l[u]=="function"?f=function(){return l[u](...arguments)}:typeof o[c]=="function"&&(f=o[c].bind(r))),f&&(r[c]=f,i[c]=f)}}const A1={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Co=(t,e,n)=>e?t.enable(n):t.disable(n),Fw=(t,e,n)=>t.hint(n,e),Rr=(t,e,n)=>t.pixelStorei(n,e),G4=(t,e)=>{const n=ot(t)?36009:36160;return t.bindFramebuffer(n,e)},q4=(t,e)=>t.bindFramebuffer(36008,e);function Jl(t){return Array.isArray(t)||ArrayBuffer.isView(t)}const X4={3042:Co,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:Co,2885:(t,e)=>t.cullFace(e),2929:Co,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:Co,35723:Fw,36006:G4,2886:(t,e)=>t.frontFace(e),33170:Fw,2849:(t,e)=>t.lineWidth(e),32823:Co,32824:"polygonOffset",10752:"polygonOffset",35977:Co,32938:"sampleCoverage",32939:"sampleCoverage",3089:Co,3088:(t,e)=>t.scissor(...e),2960:Co,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),3333:Rr,3317:Rr,37440:Rr,37441:Rr,37443:Rr,3330:Rr,3332:Rr,3331:Rr,36010:q4,3314:Rr,32878:Rr,3316:Rr,3315:Rr,32877:Rr,framebuffer:(t,e)=>{const n=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,n)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{e=Jl(e)?e:[e,e],t.blendEquationSeparate(...e)},blendFunc:(t,e)=>{e=Jl(e)&&e.length===2?[...e,...e]:e,t.blendFuncSeparate(...e)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(...e),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=Jl(e)?e:[e,e];const[n,r]=e;t.stencilMaskSeparate(1028,n),t.stencilMaskSeparate(1029,r)},stencilFunc:(t,e)=>{e=Jl(e)&&e.length===3?[...e,...e]:e;const[n,r,i,o,s,a]=e;t.stencilFuncSeparate(1028,n,r,i),t.stencilFuncSeparate(1029,o,s,a)},stencilOp:(t,e)=>{e=Jl(e)&&e.length===3?[...e,...e]:e;const[n,r,i,o,s,a]=e;t.stencilOpSeparate(1028,n,r,i),t.stencilOpSeparate(1029,o,s,a)},viewport:(t,e)=>t.viewport(...e)};function un(t,e,n){return e[t]!==void 0?e[t]:n[t]}const K4={blendEquation:(t,e,n)=>t.blendEquationSeparate(un(32777,e,n),un(34877,e,n)),blendFunc:(t,e,n)=>t.blendFuncSeparate(un(32969,e,n),un(32968,e,n),un(32971,e,n),un(32970,e,n)),polygonOffset:(t,e,n)=>t.polygonOffset(un(32824,e,n),un(10752,e,n)),sampleCoverage:(t,e,n)=>t.sampleCoverage(un(32938,e,n),un(32939,e,n)),stencilFuncFront:(t,e,n)=>t.stencilFuncSeparate(1028,un(2962,e,n),un(2967,e,n),un(2963,e,n)),stencilFuncBack:(t,e,n)=>t.stencilFuncSeparate(1029,un(34816,e,n),un(36003,e,n),un(36004,e,n)),stencilOpFront:(t,e,n)=>t.stencilOpSeparate(1028,un(2964,e,n),un(2965,e,n),un(2966,e,n)),stencilOpBack:(t,e,n)=>t.stencilOpSeparate(1029,un(34817,e,n),un(34818,e,n),un(34819,e,n))},Dw={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,n)=>t({[e]:n}),hint:(t,e,n)=>t({[e]:n}),bindFramebuffer:(t,e,n)=>{switch(e){case 36160:return t({36006:n,36010:n});case 36009:return t({36006:n});case 36008:return t({36010:n});default:return null}},blendColor:(t,e,n,r,i)=>t({32773:new Float32Array([e,n,r,i])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,n)=>t({32777:e,34877:n}),blendFunc:(t,e,n)=>t({32969:e,32968:n,32971:e,32970:n}),blendFuncSeparate:(t,e,n,r,i)=>t({32969:e,32968:n,32971:r,32970:i}),clearColor:(t,e,n,r,i)=>t({3106:new Float32Array([e,n,r,i])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,n,r,i)=>t({3107:[e,n,r,i]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,n)=>t({2928:new Float32Array([e,n])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,n)=>t({32824:e,10752:n}),sampleCoverage:(t,e,n)=>t({32938:e,32939:n}),scissor:(t,e,n,r,i)=>t({3088:new Int32Array([e,n,r,i])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,n)=>t({[e===1028?2968:36005]:n}),stencilFunc:(t,e,n,r)=>t({2962:e,2967:n,2963:r,34816:e,36003:n,36004:r}),stencilFuncSeparate:(t,e,n,r,i)=>t({[e===1028?2962:34816]:n,[e===1028?2967:36003]:r,[e===1028?2963:36004]:i}),stencilOp:(t,e,n,r)=>t({2964:e,2965:n,2966:r,34817:e,34818:n,34819:r}),stencilOpSeparate:(t,e,n,r,i)=>t({[e===1028?2964:34817]:n,[e===1028?2965:34818]:r,[e===1028?2966:34819]:i}),viewport:(t,e,n,r,i)=>t({2978:[e,n,r,i]})},ki=(t,e)=>t.isEnabled(e),zw={3042:ki,2884:ki,2929:ki,3024:ki,32823:ki,32926:ki,32928:ki,3089:ki,2960:ki,35977:ki};function DP(t){for(const e in t)return!1;return!0}function Y4(t,e){if(t===e)return!0;const n=Array.isArray(t)||ArrayBuffer.isView(t),r=Array.isArray(e)||ArrayBuffer.isView(e);if(n&&r&&t.length===e.length){for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}return!1}function Bw(t,e){const n=t[e].bind(t);t[e]=function(){const i=arguments.length<=0?void 0:arguments[0];return i in t.state.cache?t.state.enable?t.state.cache[i]:n(...arguments):n(...arguments)},Object.defineProperty(t[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function Z4(t,e,n){const r=t[e].bind(t);t[e]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const{valueChanged:l,oldValue:c}=n(t.state._updateCache,...s);return l&&r(...s),c},Object.defineProperty(t[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}function Q4(t){const e=t.useProgram.bind(t);t.useProgram=function(r){t.state.program!==r&&(e(r),t.state.program=r)}}class J4{constructor(e){let{copyState:n=!1,log:r=()=>{}}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=n?tD(e):Object.assign({},A1),this.log=r,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){lr(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];po(this.gl,e),this.stateStack.pop()}_updateCache(e){let n=!1,r;const i=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const o in e){lr(o!==void 0);const s=e[o],a=this.cache[o];Y4(s,a)||(n=!0,r=a,i&&!(o in i)&&(i[o]=a),this.cache[o]=s)}return{valueChanged:n,oldValue:r}}}function zP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{enable:n=!0,copyState:r}=e;if(lr(r!==void 0),!t.state){const{polyfillContext:i}=globalThis;i&&i(t),t.state=new J4(t,{copyState:r}),Q4(t);for(const o in Dw){const s=Dw[o];Z4(t,o,s)}Bw(t,"getParameter"),Bw(t,"isEnabled")}return t.state.enable=n,t}function eD(t){t.state||zP(t,{copyState:!1}),t.state.push()}function jw(t){lr(t.state),t.state.pop()}function po(t,e){if(lr(pg(t),"setParameters requires a WebGL context"),DP(e))return;const n={};for(const i in e){const o=Number(i),s=X4[i];s&&(typeof s=="string"?n[s]=!0:s(t,e[i],o))}const r=t.state&&t.state.cache;if(r)for(const i in n){const o=K4[i];o(t,e,r)}}function tD(t,e){if(e=e||A1,typeof e=="number"){const i=e,o=zw[i];return o?o(t,i):t.getParameter(i)}const n=Array.isArray(e)?e:Object.keys(e),r={};for(const i of n){const o=zw[i];r[i]=o?o(t,Number(i)):t.getParameter(Number(i))}return r}function nD(t){po(t,A1)}function Ti(t,e,n){if(DP(e))return n(t);const{nocatch:r=!0}=e;eD(t),po(t,e);let i;if(r)i=n(t),jw(t);else try{i=n(t)}finally{jw(t)}return i}function dl(t){const{luma:e}=t;if(t.canvas&&e){const n=e.canvasSizeInfo,r="clientWidth"in n?n.clientWidth:t.canvas.clientWidth;return r?t.drawingBufferWidth/r:1}return 1}function Up(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=dl(t),i=t.drawingBufferWidth,o=t.drawingBufferHeight;return iD(e,r,i,o,n)}function rD(t){const e=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(t)?t<=0?1:t:t?e:1}function iD(t,e,n,r,i){const o=$w(t[0],e,n);let s=Vw(t[1],e,r,i),a=$w(t[0]+1,e,n);const l=a===n-1?a:a-1;a=Vw(t[1]+1,e,r,i);let c;return i?(a=a===0?a:a+1,c=s,s=a):c=a===r-1?a:a-1,{x:o,y:s,width:Math.max(l-o+1,1),height:Math.max(c-s+1,1)}}function $w(t,e,n){return Math.min(Math.round(t*e),n-1)}function Vw(t,e,n,r){return r?Math.max(0,n-1-Math.round(t*e)):Math.min(Math.round(t*e),n-1)}const I1=wo(),oD=I1&&typeof document<"u",BP={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function jP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lr(I1,`createGLContext only available in the browser.
Create your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils`),t=Object.assign({},BP,t);const{width:e,height:n}=t;function r(a){if(t.throwOnError)throw new Error(a);return console.error(a),null}t.onError=r;let i;const{canvas:o}=t,s=cD({canvas:o,width:e,height:n,onError:r});return i=lD(s,t),i?(i=M1(i,t),uD(i),i):null}function M1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!t||t._instrumented)return t;t._version=t._version||fD(t),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{},e=Object.assign({},BP,e);const{manageState:n,debug:r}=e;return n&&zP(t,{copyState:!1,log:function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Oe.log(1,...o)()}}),I1&&r&&(globalThis.makeDebugContext?(t=globalThis.makeDebugContext(t,e),Oe.level=Math.max(Oe.level,1)):Oe.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),t._instrumented=!0,t}function sD(t){const e=t.getParameter(7936),n=t.getParameter(7937),r=t.getExtension("WEBGL_debug_renderer_info"),i=r&&t.getParameter(r.UNMASKED_VENDOR_WEBGL||7936),o=r&&t.getParameter(r.UNMASKED_RENDERER_WEBGL||7937);return{vendor:i||e,renderer:o||n,vendorMasked:e,rendererMasked:n,version:t.getParameter(7938),shadingLanguageVersion:t.getParameter(35724)}}function aD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.canvas){const r=rD(e.useDevicePixels);dD(t,r,e);return}const n=t.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in e&&"height"in e&&n.resize(e.width,e.height)}function lD(t,e){const{onError:n}=e;let r=null;const i=l=>r=l.statusMessage||r;t.addEventListener("webglcontextcreationerror",i,!1);const{webgl1:o=!0,webgl2:s=!0}=e;let a=null;return s&&(a=a||t.getContext("webgl2",e),a=a||t.getContext("experimental-webgl2",e)),o&&(a=a||t.getContext("webgl",e),a=a||t.getContext("experimental-webgl",e)),t.removeEventListener("webglcontextcreationerror",i,!1),a?(e.onContextLost&&t.addEventListener("webglcontextlost",e.onContextLost,!1),e.onContextRestored&&t.addEventListener("webglcontextrestored",e.onContextRestored,!1),a):n("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}function cD(t){let{canvas:e,width:n=800,height:r=600,onError:i}=t,o;return typeof e=="string"?(oD&&document.readyState==="complete"||i("createGLContext called on canvas '".concat(e,"' before page was loaded")),o=document.getElementById(e)):e?o=e:(o=document.createElement("canvas"),o.id="lumagl-canvas",o.style.width=Number.isFinite(n)?"".concat(n,"px"):"100%",o.style.height=Number.isFinite(r)?"".concat(r,"px"):"100%",document.body.insertBefore(o,document.body.firstChild)),o}function uD(t){const e=ot(t)?"WebGL2":"WebGL1",n=sD(t),r=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",i=t.debug?" debug":"";Oe.info(1,"".concat(e).concat(i," context ").concat(r))()}function fD(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?2:1}function dD(t,e,n){let r="width"in n?n.width:t.canvas.clientWidth,i="height"in n?n.height:t.canvas.clientHeight;(!r||!i)&&(Oe.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,r=t.canvas.width||1,i=t.canvas.height||1),t.luma=t.luma||{},t.luma.canvasSizeInfo=t.luma.canvasSizeInfo||{};const o=t.luma.canvasSizeInfo;if(o.clientWidth!==r||o.clientHeight!==i||o.devicePixelRatio!==e){let s=e;const a=Math.floor(r*s),l=Math.floor(i*s);t.canvas.width=a,t.canvas.height=l,(t.drawingBufferWidth!==a||t.drawingBufferHeight!==l)&&(Oe.warn("Device pixel ratio clamped")(),s=Math.min(t.drawingBufferWidth/r,t.drawingBufferHeight/i),t.canvas.width=Math.floor(r*s),t.canvas.height=Math.floor(i*s)),Object.assign(t.luma.canvasSizeInfo,{clientWidth:r,clientHeight:i,devicePixelRatio:e})}}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function hD(t,e){if(uu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gD(t){var e=hD(t,"string");return uu(e)==="symbol"?e:String(e)}function Jn(t,e,n){return e=gD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uw(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class Hw{constructor(e,n){Jn(this,"name",void 0),Jn(this,"type",void 0),Jn(this,"sampleSize",1),Jn(this,"time",void 0),Jn(this,"count",void 0),Jn(this,"samples",void 0),Jn(this,"lastTiming",void 0),Jn(this,"lastSampleTime",void 0),Jn(this,"lastSampleCount",void 0),Jn(this,"_count",0),Jn(this,"_time",0),Jn(this,"_samples",0),Jn(this,"_startTime",0),Jn(this,"_timerPending",!1),this.name=e,this.type=n,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=Uw(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(Uw()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class O1{constructor(e){Jn(this,"id",void 0),Jn(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"count";return this._getOrCreate({name:e,type:n})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const n in this.stats)e(this.stats[n])}getTable(){const e={};return this.forEach(n=>{e[n.name]={time:n.time||0,count:n.count||0,average:n.getAverageTime()||0,hz:n.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(n=>this._getOrCreate(n))}_getOrCreate(e){if(!e||!e.name)return null;const{name:n,type:r}=e;return this.stats[n]||(e instanceof Hw?this.stats[n]=e:this.stats[n]=new Hw(n,r)),this.stats[n]}}const Oc="8.5.21",pD="set luma.log.level=1 (or higher) to trace rendering";class mD{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new O1({id:e})),this.stats.get(e)}}const Es=new mD;if(globalThis.luma&&globalThis.luma.VERSION!==Oc)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(Oc));globalThis.luma||(wo()&&Oe.log(1,"luma.gl ".concat(Oc," - ").concat(pD))(),globalThis.luma=globalThis.luma||{VERSION:Oc,version:Oc,log:Oe,stats:Es,globals:{modules:{},nodeIO:{}}});function vD(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function yD(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}function me(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}function Hp(t,e){if(typeof e!="string")return e;const n=Number(e);if(!isNaN(n))return n;e=e.replace(/^.*\./,"");const r=t[e];return me(r!==void 0,"Accessing undefined constant GL.".concat(e)),r}function Jo(t,e){e=Number(e);for(const n in t)if(t[n]===e)return"GL.".concat(n);return String(e)}const Wp={};function rs(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"id";Wp[t]=Wp[t]||1;const e=Wp[t]++;return"".concat(t,"-").concat(e)}function Ww(t){return me(typeof t=="number","Input must be a number"),t&&(t&t-1)===0}function hl(t){let e=!0;for(const n in t){e=!1;break}return e}function $P(t,e,n,r){const i="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(t);r.forEach(s=>{o.methodName||(o[s]=()=>{throw Oe.removed("Calling removed method ".concat(e,".").concat(s,": "),i)(),new Error(s)})})}const ga="Resource subclass must define virtual methods";let So=class{get[Symbol.toStringTag](){return"Resource"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mg(e);const{id:r,userData:i={}}=n;this.gl=e,this.gl2=e,this.id=r||rs(this[Symbol.toStringTag]),this.userData=i,this._bound=!1,this._handle=n.handle,this._handle===void 0&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,n&&e&&n.filter(Boolean).forEach(r=>r.delete()),this}bind(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.handle;if(typeof e!="function")return this._bindHandle(e),this;let n;return this._bound?n=e():(this._bindHandle(this.handle),this._bound=!0,n=e(),this._bound=!1,this._bindHandle(null)),n}unbind(){this.bind(null)}getParameter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e=Hp(this.gl,e),me(e);const i=(this.constructor.PARAMETERS||{})[e];if(i){const o=ot(this.gl);if(!((!("webgl2"in i)||o)&&(!("extension"in i)||this.gl.getExtension(i.extension)))){const a=i.webgl1,l="webgl2"in i?i.webgl2:i.webgl1;return o?l:a}}return this._getParameter(e,n)}getParameters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{parameters:n,keys:r}=e,i=this.constructor.PARAMETERS||{},o=ot(this.gl),s={},a=n||Object.keys(i);for(const l of a){const c=i[l];if(c&&(!("webgl2"in c)||o)&&(!("extension"in c)||this.gl.getExtension(c.extension))){const f=r?Jo(this.gl,l):l;s[f]=this.getParameter(l,e),r&&c.type==="GLenum"&&(s[f]=Jo(this.gl,s[f]))}}return s}setParameter(e,n){e=Hp(this.gl,e),me(e);const i=(this.constructor.PARAMETERS||{})[e];if(i){const o=ot(this.gl);if(!((!("webgl2"in i)||o)&&(!("extension"in i)||this.gl.getExtension(i.extension))))throw new Error("Parameter not available on this platform");i.type==="GLenum"&&(n=Hp(n))}return this._setParameter(e,n),this}setParameters(e){for(const n in e)this.setParameter(n,e[n]);return this}stubRemovedMethods(e,n,r){return $P(this,e,n,r)}initialize(e){}_createHandle(){throw new Error(ga)}_deleteHandle(){throw new Error(ga)}_bindHandle(e){throw new Error(ga)}_getOptsFromHandle(){throw new Error(ga)}_getParameter(e,n){throw new Error(ga)}_setParameter(e,n){throw new Error(ga)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],n=Es.get("Resource Counts");n.get("Resources Created").incrementCount(),n.get("".concat(e,"s Created")).incrementCount(),n.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];Es.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,n),this._trackAllocatedMemoryForContext(e,n,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this[Symbol.toStringTag],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";const i=Es.get("Memory Usage".concat(r));i.get("GPU Memory").addCount(e),i.get("".concat(n," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this[Symbol.toStringTag],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=Es.get("Memory Usage".concat(n));r.get("GPU Memory").subtractCount(this.byteLength),r.get("".concat(e," Memory")).subtractCount(this.byteLength)}};const bD="Failed to deduce GL constant from typed array";function qv(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(bD)}}function fu(t){let{clamped:e=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function _D(t){let{data:e,width:n,height:r,bytesPerPixel:i=4,temp:o}=t;const s=n*i;o=o||new Uint8Array(s);for(let a=0;a<r/2;++a){const l=a*s,c=(r-a-1)*s;o.set(e.subarray(l,l+s)),e.copyWithin(l,c,c+s),e.set(o,c)}}function wD(t){let{data:e,width:n,height:r}=t;const i=Math.round(n/2),o=Math.round(r/2),s=new Uint8Array(i*o*4);for(let a=0;a<o;a++)for(let l=0;l<i;l++)for(let c=0;c<4;c++)s[(a*i+l)*4+c]=e[(a*2*n+l*2)*4+c];return{data:s,width:i,height:o}}function Xv(t,e,n){const{removedProps:r={},deprecatedProps:i={},replacedProps:o={}}=n;for(const a in r)if(a in e){const c=r[a]?"".concat(t,".").concat(r[a]):"N/A";Oe.removed("".concat(t,".").concat(a),c)()}for(const a in i)if(a in e){const l=i[a];Oe.deprecated("".concat(t,".").concat(a),"".concat(t,".").concat(l))()}let s=null;for(const a in o)if(a in e){const l=o[a];Oe.deprecated("".concat(t,".").concat(a),"".concat(t,".").concat(l))(),s=s||Object.assign({},e),s[l]=e[a],delete s[a]}return s||e}const SD={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},ED={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class jr{static getBytesPerElement(e){return fu(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return me(e.size),fu(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new jr(SD,...n)}constructor(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(i=>this._assign(i)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return jr.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return jr.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e=Xv("Accessor",e,ED),e.type!==void 0&&(this.type=e.type,(e.type===5124||e.type===5125)&&(this.integer=!0)),e.size!==void 0&&(this.size=e.size),e.offset!==void 0&&(this.offset=e.offset),e.stride!==void 0&&(this.stride=e.stride),e.normalized!==void 0&&(this.normalized=e.normalized),e.integer!==void 0&&(this.integer=e.integer),e.divisor!==void 0&&(this.divisor=e.divisor),e.buffer!==void 0&&(this.buffer=e.buffer),e.index!==void 0&&(typeof e.index=="boolean"?this.index=e.index?1:0:this.index=e.index),e.instanced!==void 0&&(this.divisor=e.instanced?1:0),e.isInstanced!==void 0&&(this.divisor=e.isInstanced?1:0),this}}const Gw=10,VP={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},xD={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:VP},CD={removedProps:VP};class Lt extends So{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=n.target||(this.gl.webgl2?36662:34962),this.initialize(n),Object.seal(this)}getElementCount(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.accessor;return Math.round(this.byteLength/jr.getBytesPerElement(e))}getVertexCount(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.accessor;return Math.round(this.byteLength/jr.getBytesPerVertex(e))}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=Xv("Buffer",e,xD),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return e=Xv("Buffer",e,CD),"accessor"in e&&this.setAccessor(e.accessor),this}setAccessor(e){return e=Object.assign({},e),delete e.buffer,this.accessor=new jr(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:n,offset:r=0,srcOffset:i=0}=e,o=e.byteLength||e.length;me(n);const s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),i!==0||o!==void 0?(rr(this.gl),this.gl.bufferSubData(this.target,r,n,i,o)):this.gl.bufferSubData(s,r,n),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(n),this}copyData(e){let{sourceBuffer:n,readOffset:r=0,writeOffset:i=0,size:o}=e;const{gl:s}=this;return rr(s),s.bindBuffer(36662,n.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,r,i,o),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:n=0,dstOffset:r=0,length:i=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rr(this.gl);const o=fu(this.accessor.type||5126,{clamped:!1}),s=this._getAvailableElementCount(n),a=r;let l,c;e?(c=e.length,l=c-a):(l=Math.min(s,i||s),c=a+l);const u=Math.min(s,l);return i=i||u,me(i<=u),e=e||new o(c),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,n,e,r,i),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:n=this.accessor&&this.accessor.index,offset:r=0,size:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e===35345||e===35982?i!==void 0?this.gl.bindBufferRange(e,n,this.handle,r,i):(me(r===0),this.gl.bindBufferBase(e,n,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:n=this.accessor&&this.accessor.index}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e===35345||e===35982?this.gl.bindBufferBase(e,n,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(Gw,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.byteLength+n;me(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const i=this._getTarget();this.gl.bindBuffer(i,this.handle),this.gl.bufferData(i,r,this.usage),this.gl.bufferSubData(i,n,e),this.gl.bindBuffer(i,null),this.debugData=e.slice(0,Gw),this.bytesUsed=r,this._trackAllocatedMemory(r);const o=qv(e);return me(o),this.setAccessor(new jr(this.accessor,{type:o})),this}_setByteLength(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.usage;me(e>=0),this._trackDeallocatedMemory();let r=e;e===0&&(r=new Float32Array(0));const i=this._getTarget();return this.gl.bindBuffer(i,this.handle),this.gl.bufferData(i,r,n),this.gl.bindBuffer(i,null),this.usage=n,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const n=fu(this.accessor.type||5126,{clamped:!1}),r=e/n.BYTES_PER_ELEMENT;return this.getElementCount()-r}_inferType(e){this.accessor.type||this.setAccessor(new jr(this.accessor,{type:qv(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const n=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),n}get type(){return Oe.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Oe.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return Oe.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return Oe.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new jr(this.accessor,e),this}}const L1={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},UP={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},HP={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function TD(t,e){const n=L1[e];if(!n)return!1;if(n.gl1===void 0&&n.gl2===void 0)return!0;const r=ot(t)&&n.gl2||n.gl1;return typeof r=="string"?t.getExtension(r):r}function PD(t,e){const n=L1[e];switch(n&&n.types[0]){case 5126:return t.getExtension("OES_texture_float_linear");case 5131:return t.getExtension("OES_texture_half_float_linear");default:return!0}}const AD=[9729,9728],qw=globalThis.WebGLBuffer||function(){};class Gs extends So{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{format:r,linearFiltering:i}=n;let o=!0;return r&&(o=o&&TD(e,r),o=o&&(!i||PD(e,r))),o}constructor(e,n){const{id:r=rs("texture"),handle:i,target:o}=n;super(e,{id:r,handle:i}),this.target=o,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.data;if(n instanceof Promise)return n.then(y=>this.initialize(Object.assign({},e,{pixels:y,data:y}))),this;const r=typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement;if(r&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",()=>this.initialize(e)),this;const{pixels:i=null,format:o=6408,border:s=0,recreate:a=!1,parameters:l={},pixelStore:c={},textureUnit:u=void 0}=e;n||(n=i);let{width:f,height:d,dataFormat:h,type:p,compressed:v=!1,mipmaps:_=!0}=e;const{depth:m=0}=e;return{width:f,height:d,compressed:v,dataFormat:h,type:p}=this._deduceParameters({format:o,type:p,dataFormat:h,compressed:v,data:n,width:f,height:d}),this.width=f,this.height=d,this.depth=m,this.format=o,this.type=p,this.dataFormat=h,this.border=s,this.textureUnit=u,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),_&&this._isNPOT()&&(Oe.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),_=!1,this._updateForNPOT(l)),this.mipmaps=_,this.setImageData({data:n,width:f,height:d,depth:m,format:o,type:p,dataFormat:h,border:s,mipmaps:_,parameters:c,compressed:v}),_&&this.generateMipmap(),this.setParameters(l),a&&(this.data=n),r&&(this._video={video:n,parameters:l,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:n,lastTime:r}=this._video;if(r===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:n,width:r,mipmaps:i=!1}=e;return r!==this.width||n!==this.height?this.initialize({width:r,height:n,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:i}):this}generateMipmap(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._isNPOT()?(Oe.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Ti(this.gl,e,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:n=this.target,pixels:r=null,level:i=0,format:o=this.format,border:s=this.border,offset:a=0,parameters:l={}}=e;let{data:c=null,type:u=this.type,width:f=this.width,height:d=this.height,dataFormat:h=this.dataFormat,compressed:p=!1}=e;c||(c=r),{type:u,dataFormat:h,compressed:p,width:f,height:d}=this._deduceParameters({format:o,type:u,dataFormat:h,compressed:p,data:c,width:f,height:d});const{gl:v}=this;v.bindTexture(this.target,this.handle);let _=null;({data:c,dataType:_}=this._getDataType({data:c,compressed:p}));let m,y=0;if(Ti(this.gl,l,()=>{switch(_){case"null":v.texImage2D(n,i,o,f,d,s,h,u,c);break;case"typed-array":v.texImage2D(n,i,o,f,d,s,h,u,c,a);break;case"buffer":m=rr(v),m.bindBuffer(35052,c.handle||c),m.texImage2D(n,i,o,f,d,s,h,u,a),m.bindBuffer(35052,null);break;case"browser-object":ot(v)?v.texImage2D(n,i,o,f,d,s,h,u,c):v.texImage2D(n,i,o,h,u,c);break;case"compressed":for(const[b,w]of c.entries())v.compressedTexImage2D(n,b,w.format,w.width,w.height,s,w.data),y+=w.levelSize;break;default:me(!1,"Unknown image data type")}}),_==="compressed")this._trackAllocatedMemory(y,"Texture");else if(c&&c.byteLength)this._trackAllocatedMemory(c.byteLength,"Texture");else{const b=UP[this.dataFormat]||4,w=HP[this.type]||1;this._trackAllocatedMemory(this.width*this.height*b*w,"Texture")}return this.loaded=!0,this}setSubImageData(e){let{target:n=this.target,pixels:r=null,data:i=null,x:o=0,y:s=0,width:a=this.width,height:l=this.height,level:c=0,format:u=this.format,type:f=this.type,dataFormat:d=this.dataFormat,compressed:h=!1,offset:p=0,border:v=this.border,parameters:_={}}=e;if({type:f,dataFormat:d,compressed:h,width:a,height:l}=this._deduceParameters({format:u,type:f,dataFormat:d,compressed:h,data:i,width:a,height:l}),me(this.depth===0,"texSubImage not supported for 3D textures"),i||(i=r),i&&i.data){const m=i;i=m.data,a=m.shape[0],l=m.shape[1]}i instanceof Lt&&(i=i.handle),this.gl.bindTexture(this.target,this.handle),Ti(this.gl,_,()=>{if(h)this.gl.compressedTexSubImage2D(n,c,o,s,a,l,u,i);else if(i===null)this.gl.texSubImage2D(n,c,o,s,a,l,d,f,null);else if(ArrayBuffer.isView(i))this.gl.texSubImage2D(n,c,o,s,a,l,d,f,i,p);else if(i instanceof qw){const m=rr(this.gl);m.bindBuffer(35052,i),m.texSubImage2D(n,c,o,s,a,l,d,f,p),m.bindBuffer(35052,null)}else ot(this.gl)?rr(this.gl).texSubImage2D(n,c,o,s,a,l,d,f,i):this.gl.texSubImage2D(n,c,o,s,d,f,i)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return Oe.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.textureUnit;const{gl:n}=this;return e!==void 0&&(this.textureUnit=e,n.activeTexture(33984+e)),n.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.textureUnit;const{gl:n}=this;return e!==void 0&&(this.textureUnit=e,n.activeTexture(33984+e)),n.bindTexture(this.target,null),e}_getDataType(e){let{data:n,compressed:r=!1}=e;return r?{data:n,dataType:"compressed"}:n===null?{data:n,dataType:"null"}:ArrayBuffer.isView(n)?{data:n,dataType:"typed-array"}:n instanceof Lt?{data:n.handle,dataType:"buffer"}:n instanceof qw?{data:n,dataType:"buffer"}:{data:n,dataType:"browser-object"}}_deduceParameters(e){const{format:n,data:r}=e;let{width:i,height:o,dataFormat:s,type:a,compressed:l}=e;const c=L1[n];return s=s||c&&c.dataFormat,a=a||c&&c.types[0],l=l||c&&c.compressed,{width:i,height:o}=this._deduceImageSize(r,i,o),{dataFormat:s,type:a,compressed:l,width:i,height:o,format:n,data:r}}_deduceImageSize(e,n,r){let i;return typeof ImageData<"u"&&e instanceof ImageData?i={width:e.width,height:e.height}:typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?i={width:e.naturalWidth,height:e.naturalHeight}:typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement?i={width:e.width,height:e.height}:typeof ImageBitmap<"u"&&e instanceof ImageBitmap?i={width:e.width,height:e.height}:typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?i={width:e.videoWidth,height:e.videoHeight}:e?i={width:n,height:r}:i={width:n>=0?n:1,height:r>=0?r:1},me(i,"Could not deduced texture size"),me(n===void 0||i.width===n,"Deduced texture width does not match supplied width"),me(r===void 0||i.height===r,"Deduced texture height does not match supplied height"),i}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const n=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),n}}_setParameter(e,n){switch(this.gl.bindTexture(this.target,this.handle),n=this._getNPOTParam(e,n),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,n);break;case 4096:case 4097:me(!1);break;default:this.gl.texParameteri(this.target,e,n);break}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return ot(this.gl)||!this.width||!this.height?!1:!Ww(this.width)||!Ww(this.height)}_updateForNPOT(e){e[this.gl.TEXTURE_MIN_FILTER]===void 0&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),e[this.gl.TEXTURE_WRAP_S]===void 0&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),e[this.gl.TEXTURE_WRAP_T]===void 0&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,n){if(this._isNPOT())switch(e){case 10241:AD.indexOf(n)===-1&&(n=9729);break;case 10242:case 10243:n!==33071&&(n=33071);break}return n}}let ID="";function MD(t,e){return me(typeof t=="string"),t=ID+t,new Promise((n,r)=>{try{const i=new Image;i.onload=()=>n(i),i.onerror=()=>r(new Error("Could not load image ".concat(t,"."))),i.crossOrigin=e&&e.crossOrigin||"anonymous",i.src=t}catch(i){r(i)}})}class Gr extends Gs{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,n){return Gs.isSupported(e,n)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mg(e),(n instanceof Promise||typeof n=="string")&&(n={data:n}),typeof n.data=="string"&&(n=Object.assign({},n,{data:MD(n.data)})),super(e,Object.assign({},n,{target:3553})),this.initialize(n),Object.seal(this)}}const Kv=[34069,34070,34071,34072,34073,34074];class WP extends Gs{get[Symbol.toStringTag](){return"TextureCube"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mg(e),super(e,Object.assign({},n,{target:34067})),this.initialize(n),Object.seal(this)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{mipmaps:n=!0,parameters:r={}}=e;return this.opts=e,this.setCubeMapImageData(e).then(()=>{this.loaded=!0,n&&this.generateMipmap(e),this.setParameters(r)}),this}subImage(e){let{face:n,data:r,x:i=0,y:o=0,mipmapLevel:s=0}=e;return this._subImage({target:n,data:r,x:i,y:o,mipmapLevel:s})}async setCubeMapImageData(e){let{width:n,height:r,pixels:i,data:o,border:s=0,format:a=6408,type:l=5121}=e;const{gl:c}=this,u=i||o,f=await Promise.all(Kv.map(d=>{const h=u[d];return Promise.all(Array.isArray(h)?h:[h])}));this.bind(),Kv.forEach((d,h)=>{f[h].length>1&&this.opts.mipmaps!==!1&&Oe.warn("".concat(this.id," has mipmap and multiple LODs."))(),f[h].forEach((p,v)=>{n&&r?c.texImage2D(d,v,a,n,r,s,a,l,p):c.texImage2D(d,v,a,a,l,p)})}),this.unbind()}setImageDataForFace(e){const{face:n,width:r,height:i,pixels:o,data:s,border:a=0,format:l=6408,type:c=5121}=e,{gl:u}=this,f=o||s;return this.bind(),f instanceof Promise?f.then(d=>this.setImageDataForFace(Object.assign({},e,{face:n,data:d,pixels:d}))):this.width||this.height?u.texImage2D(n,0,l,r,i,a,l,c,f):u.texImage2D(n,0,l,l,c,f),this}}WP.FACES=Kv;class OD extends Gs{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return ot(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rr(e),n=Object.assign({depth:1},n,{target:32879,unpackFlipY:!1}),super(e,n),this.initialize(n),Object.seal(this)}setImageData(e){let{level:n=0,dataFormat:r=6408,width:i,height:o,depth:s=1,border:a=0,format:l,type:c=5121,offset:u=0,data:f,parameters:d={}}=e;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Ti(this.gl,d,()=>{ArrayBuffer.isView(f)&&this.gl.texImage3D(this.target,n,r,i,o,s,a,l,c,f),f instanceof Lt&&(this.gl.bindBuffer(35052,f.handle),this.gl.texImage3D(this.target,n,r,i,o,s,a,l,c,u))}),f&&f.byteLength)this._trackAllocatedMemory(f.byteLength,"Texture");else{const h=UP[this.dataFormat]||4,p=HP[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*h*p,"Texture")}return this.loaded=!0,this}}const fs="EXT_color_buffer_float",Xw={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:fs,bpp:2},33327:{gl2:fs,bpp:4},34842:{gl2:fs,bpp:8},33326:{gl2:fs,bpp:4},33328:{gl2:fs,bpp:8},34836:{gl2:fs,bpp:16},35898:{gl2:fs,bpp:4}};function LD(t,e,n){const r=n[e];if(!r)return!1;const i=ot(t)&&r.gl2||r.gl1;return typeof i=="string"?t.getExtension(i):i}class Ba extends So{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{format:null};return!n||LD(e,n,Xw)}static getSamplesForFormat(e,n){let{format:r}=n;return e.getInternalformatParameter(36161,r,32937)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.initialize(n),Object.seal(this)}initialize(e){let{format:n,width:r=1,height:i=1,samples:o=0}=e;return me(n,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),o!==0&&ot(this.gl)?this.gl.renderbufferStorageMultisample(36161,o,n,r,i):this.gl.renderbufferStorage(36161,n,r,i),this.format=n,this.width=r,this.height=i,this.samples=o,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*Xw[this.format].bpp),this}resize(e){let{width:n,height:r}=e;return n!==this.width||r!==this.height?this.initialize({width:n,height:r,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}const RD=256,ND=1024,kD=16384,Kw=6144,Yw=6145,Zw=6146,Qw=34041,GP="clear: bad arguments";function R1(t){let{framebuffer:e=null,color:n=null,depth:r=null,stencil:i=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o={};e&&(o.framebuffer=e);let s=0;n&&(s|=kD,n!==!0&&(o.clearColor=n)),r&&(s|=RD,r!==!0&&(o.clearDepth=r)),i&&(s|=ND,r!==!0&&(o.clearStencil=r)),me(s!==0,GP),Ti(t,o,()=>{t.clear(s)})}function FD(t){let{framebuffer:e=null,buffer:n=Kw,drawBuffer:r=0,value:i=[0,0,0,0]}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rr(t),Ti(t,{framebuffer:e},()=>{switch(n){case Kw:switch(i.constructor){case Int32Array:t.clearBufferiv(n,r,i);break;case Uint32Array:t.clearBufferuiv(n,r,i);break;case Float32Array:default:t.clearBufferfv(n,r,i)}break;case Yw:t.clearBufferfv(Yw,0,[i]);break;case Zw:t.clearBufferiv(Zw,0,[i]);break;case Qw:const[o,s]=i;t.clearBufferfi(Qw,0,o,s);break;default:me(!1,GP)}})}function DD(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return me(!1),0}}function vg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{sourceX:n=0,sourceY:r=0,sourceFormat:i=6408}=e;let{sourceAttachment:o=36064,target:s=null,sourceWidth:a,sourceHeight:l,sourceType:c}=e;const{framebuffer:u,deleteFramebuffer:f}=qP(t);me(u);const{gl:d,handle:h,attachments:p}=u;a=a||u.width,l=l||u.height,o===36064&&h===null&&(o=1028),me(p[o]),c=c||p[o].type,s=BD(s,c,i,a,l),c=c||qv(s);const v=d.bindFramebuffer(36160,h);return d.readPixels(n,r,a,l,i,c,s),d.bindFramebuffer(36160,v||null),f&&u.delete(),s}function Jw(t){let{sourceAttachment:e=36064,targetMaxHeight:n=Number.MAX_SAFE_INTEGER}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=vg(t,{sourceAttachment:e}),{width:i,height:o}=t;for(;o>n;)({data:r,width:i,height:o}=wD({data:r,width:i,height:o}));_D({data:r,width:i,height:o});const s=document.createElement("canvas");s.width=i,s.height=o;const a=s.getContext("2d"),l=a.createImageData(i,o);return l.data.set(r),a.putImageData(l,0,0),s.toDataURL()}function zD(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{sourceX:r=0,sourceY:i=0,targetMipmaplevel:o=0,targetInternalFormat:s=6408}=n;let{targetX:a,targetY:l,targetZ:c,width:u,height:f}=n;const{framebuffer:d,deleteFramebuffer:h}=qP(t);me(d);const{gl:p,handle:v}=d,_=typeof a<"u"||typeof l<"u"||typeof c<"u";a=a||0,l=l||0,c=c||0;const m=p.bindFramebuffer(36160,v);me(e);let y=null;if(e instanceof Gs&&(y=e,u=Number.isFinite(u)?u:y.width,f=Number.isFinite(f)?f:y.height,y.bind(0),e=y.target),!_)p.copyTexImage2D(e,o,s,r,i,u,f,0);else switch(e){case 3553:case 34067:p.copyTexSubImage2D(e,o,a,l,r,i,u,f);break;case 35866:case 32879:rr(p).copyTexSubImage3D(e,o,a,l,c,r,i,u,f);break}return y&&y.unbind(),p.bindFramebuffer(36160,m||null),h&&d.delete(),y}function qP(t){return t instanceof In?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:KD(t),deleteFramebuffer:!0}}function BD(t,e,n,r,i){if(t)return t;e=e||5121;const o=fu(e,{clamped:!1}),s=DD(n);return new o(r*i*s)}const qt={WEBGL2:"WEBGL2",VERTEX_ARRAY_OBJECT:"VERTEX_ARRAY_OBJECT",TIMER_QUERY:"TIMER_QUERY",INSTANCED_RENDERING:"INSTANCED_RENDERING",MULTIPLE_RENDER_TARGETS:"MULTIPLE_RENDER_TARGETS",ELEMENT_INDEX_UINT32:"ELEMENT_INDEX_UINT32",BLEND_EQUATION_MINMAX:"BLEND_EQUATION_MINMAX",FLOAT_BLEND:"FLOAT_BLEND",COLOR_ENCODING_SRGB:"COLOR_ENCODING_SRGB",TEXTURE_DEPTH:"TEXTURE_DEPTH",TEXTURE_FLOAT:"TEXTURE_FLOAT",TEXTURE_HALF_FLOAT:"TEXTURE_HALF_FLOAT",TEXTURE_FILTER_LINEAR_FLOAT:"TEXTURE_FILTER_LINEAR_FLOAT",TEXTURE_FILTER_LINEAR_HALF_FLOAT:"TEXTURE_FILTER_LINEAR_HALF_FLOAT",TEXTURE_FILTER_ANISOTROPIC:"TEXTURE_FILTER_ANISOTROPIC",COLOR_ATTACHMENT_RGBA32F:"COLOR_ATTACHMENT_RGBA32F",COLOR_ATTACHMENT_FLOAT:"COLOR_ATTACHMENT_FLOAT",COLOR_ATTACHMENT_HALF_FLOAT:"COLOR_ATTACHMENT_HALF_FLOAT",GLSL_FRAG_DATA:"GLSL_FRAG_DATA",GLSL_FRAG_DEPTH:"GLSL_FRAG_DEPTH",GLSL_DERIVATIVES:"GLSL_DERIVATIVES",GLSL_TEXTURE_LOD:"GLSL_TEXTURE_LOD"};function jD(t){const e=new Gr(t,{format:6408,type:5126,dataFormat:6408}),n=new In(t,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),r=n.getStatus();return e.delete(),n.delete(),r===36053}const XP={[qt.WEBGL2]:[!1,!0],[qt.VERTEX_ARRAY_OBJECT]:["OES_vertex_array_object",!0],[qt.TIMER_QUERY]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],[qt.INSTANCED_RENDERING]:["ANGLE_instanced_arrays",!0],[qt.MULTIPLE_RENDER_TARGETS]:["WEBGL_draw_buffers",!0],[qt.ELEMENT_INDEX_UINT32]:["OES_element_index_uint",!0],[qt.BLEND_EQUATION_MINMAX]:["EXT_blend_minmax",!0],[qt.FLOAT_BLEND]:["EXT_float_blend"],[qt.COLOR_ENCODING_SRGB]:["EXT_sRGB",!0],[qt.TEXTURE_DEPTH]:["WEBGL_depth_texture",!0],[qt.TEXTURE_FLOAT]:["OES_texture_float",!0],[qt.TEXTURE_HALF_FLOAT]:["OES_texture_half_float",!0],[qt.TEXTURE_FILTER_LINEAR_FLOAT]:["OES_texture_float_linear"],[qt.TEXTURE_FILTER_LINEAR_HALF_FLOAT]:["OES_texture_half_float_linear"],[qt.TEXTURE_FILTER_ANISOTROPIC]:["EXT_texture_filter_anisotropic"],[qt.COLOR_ATTACHMENT_RGBA32F]:[jD,"EXT_color_buffer_float"],[qt.COLOR_ATTACHMENT_FLOAT]:[!1,"EXT_color_buffer_float"],[qt.COLOR_ATTACHMENT_HALF_FLOAT]:["EXT_color_buffer_half_float"],[qt.GLSL_FRAG_DATA]:["WEBGL_draw_buffers",!0],[qt.GLSL_FRAG_DEPTH]:["EXT_frag_depth",!0],[qt.GLSL_DERIVATIVES]:["OES_standard_derivatives",!0],[qt.GLSL_TEXTURE_LOD]:["EXT_shader_texture_lod",!0]},$D=2;function VD(t,e){return N1(t,e)}function N1(t,e){return e=Array.isArray(e)?e:[e],e.every(n=>KP(t,n))}function UD(t){t.luma=t.luma||{},t.luma.caps=t.luma.caps||{};for(const e in XP)t.luma.caps[e]===void 0&&(t.luma.caps[e]=KP(t,e));return t.luma.caps}function KP(t,e){return t.luma=t.luma||{},t.luma.caps=t.luma.caps||{},t.luma.caps[e]===void 0&&(t.luma.caps[e]=HD(t,e)),t.luma.caps[e]||Oe.log($D,"Feature: ".concat(e," not supported"))(),t.luma.caps[e]}function HD(t,e){const n=XP[e];me(n,e);let r;const i=ot(t)&&n[1]||n[0];if(typeof i=="function")r=i(t);else if(Array.isArray(i)){r=!0;for(const o of i)r=r&&!!t.getExtension(o)}else typeof i=="string"?r=!!t.getExtension(i):typeof i=="boolean"?r=i:me(!1);return r}const eS="Multiple render targets not supported";class In extends So{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{colorBufferFloat:r,colorBufferHalfFloat:i}=n;let o=!0;return r&&(o=!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),i&&(o=o&&!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),o}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new In(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=rr(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=rr(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(n),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:n=1,height:r=1,attachments:i=null,color:o=!0,depth:s=!0,stencil:a=!1,check:l=!0,readBuffer:c=void 0,drawBuffers:u=void 0}=e;if(me(n>=0&&r>=0,"Width and height need to be integers"),this.width=n,this.height=r,i)for(const f in i){const d=i[f];(Array.isArray(d)?d[0]:d).resize({width:n,height:r})}else i=this._createDefaultAttachments(o,s,a,n,r);this.update({clearAttachments:!0,attachments:i,readBuffer:c,drawBuffers:u}),i&&l&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:n={},readBuffer:r,drawBuffers:i,clearAttachments:o=!1,resizeAttachments:s=!0}=e;this.attach(n,{clearAttachments:o,resizeAttachments:s});const{gl:a}=this,l=a.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),a.bindFramebuffer(36160,l||null),this}resize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{width:n,height:r}=e;if(this.handle===null)return me(n===void 0&&r===void 0),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;n===void 0&&(n=this.gl.drawingBufferWidth),r===void 0&&(r=this.gl.drawingBufferHeight),n!==this.width&&r!==this.height&&Oe.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(n,"x").concat(r))();for(const i in this.attachments)this.attachments[i].resize({width:n,height:r});return this.width=n,this.height=r,this}attach(e){let{clearAttachments:n=!1,resizeAttachments:r=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i={};n&&Object.keys(this.attachments).forEach(s=>{i[s]=null}),Object.assign(i,e);const o=this.gl.bindFramebuffer(36160,this.handle);for(const s in i){me(s!==void 0,"Misspelled framebuffer binding point?");const a=Number(s),l=i[a];let c=l;if(!c)this._unattach(a);else if(c instanceof Ba)this._attachRenderbuffer({attachment:a,renderbuffer:c});else if(Array.isArray(l)){const[u,f=0,d=0]=l;c=u,this._attachTexture({attachment:a,texture:u,layer:f,level:d})}else this._attachTexture({attachment:a,texture:c,layer:0,level:0});r&&c&&c.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,o||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(s=>!this.attachments[s]).forEach(s=>{delete this.attachments[s]})}checkStatus(){const e=this.getStatus();if(e!==36053)throw new Error(GD(e));return this}getStatus(){const{gl:e}=this,n=e.bindFramebuffer(36160,this.handle),r=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,n||null),r}clear(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{color:n,depth:r,stencil:i,drawBuffers:o=[]}=e,s=this.gl.bindFramebuffer(36160,this.handle);return(n||r||i)&&R1(this.gl,{color:n,depth:r,stencil:i}),o.forEach((a,l)=>{FD(this.gl,{drawBuffer:l,value:a})}),this.gl.bindFramebuffer(36160,s||null),this}readPixels(){return Oe.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return Oe.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return Oe.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return Oe.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return Oe.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return Oe.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:n=[],x:r=0,y:i=0,width:o,height:s}=e;const a=rr(this.gl),l=a.bindFramebuffer(36008,this.handle);return r===0&&i===0&&o===void 0&&s===void 0?a.invalidateFramebuffer(36008,n):a.invalidateFramebuffer(36008,n,r,i,o,s),a.bindFramebuffer(36008,l),this}getAttachmentParameter(e,n,r){let i=this._getAttachmentParameterFallback(n);return i===null&&(this.gl.bindFramebuffer(36160,this.handle),i=this.gl.getFramebufferAttachmentParameter(36160,e,n),this.gl.bindFramebuffer(36160,null)),r&&i>1e3&&(i=Jo(this.gl,i)),i}getAttachmentParameters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:36064,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const i={};for(const o of r){const s=n?Jo(this.gl,o):o;i[s]=this.getAttachmentParameter(e,o,n)}return i}getParameters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const n=Object.keys(this.attachments),r={};for(const i of n){const o=Number(i),s=e?Jo(this.gl,o):o;r[s]=this.getAttachmentParameters(o,e)}return r}show(){return typeof window<"u"&&window.open(Jw(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e>Oe.level||typeof window>"u")return this;n=n||"Framebuffer ".concat(this.id);const r=Jw(this,{targetMaxHeight:100});return Oe.image({logLevel:e,message:n,image:r},n)(),this}bind(){let{target:e=36160}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,n,r,i,o){let s=null;return e&&(s=s||{},s[36064]=new Gr(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:i,height:o,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(s[36064])),n&&r?(s=s||{},s[33306]=new Ba(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:i,height:111}),this.ownResources.push(s[33306])):n?(s=s||{},s[36096]=new Ba(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:i,height:o}),this.ownResources.push(s[36096])):r&&me(!1),s}_unattach(e){const n=this.attachments[e];n&&(n instanceof Ba?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:n=36064,renderbuffer:r}=e;const{gl:i}=this;i.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}_attachTexture(e){let{attachment:n=36064,texture:r,layer:i,level:o}=e;const{gl:s}=this;switch(s.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:rr(s).framebufferTextureLayer(36160,n,r.target,o,i);break;case 34067:const l=WD(i);s.framebufferTexture2D(36160,n,l,r.handle,o);break;case 3553:s.framebufferTexture2D(36160,n,3553,r.handle,o);break;default:me(!1,"Illegal texture type")}s.bindTexture(r.target,null),this.attachments[n]=r}_setReadBuffer(e){const n=y4(this.gl);n?n.readBuffer(e):me(e===36064||e===1029,eS),this.readBuffer=e}_setDrawBuffers(e){const{gl:n}=this,r=rr(n);if(r)r.drawBuffers(e);else{const i=n.getExtension("WEBGL_draw_buffers");i?i.drawBuffersWEBGL(e):me(e.length===1&&(e[0]===36064||e[0]===1029),eS)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const n=UD(this.gl);switch(e){case 36052:return n.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return n.WEBGL2?null:8;case 33297:return n.WEBGL2?null:5125;case 33296:return!n.WEBGL2&&!n.EXT_sRGB?9729:null;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}function WD(t){return t<34069?t+34069:t}function GD(t){return(In.STATUS||{})[t]||"Framebuffer error ".concat(t)}const qD=[36049,36048,33296,33298,33299,33300,33301,33302,33303];In.ATTACHMENT_PARAMETERS=qD;function XD(t,e){me(t instanceof Gr||t instanceof WP||t instanceof OD);const n=t.constructor,{gl:r,width:i,height:o,format:s,type:a,dataFormat:l,border:c,mipmaps:u}=t,f=Object.assign({width:i,height:o,format:s,type:a,dataFormat:l,border:c,mipmaps:u},e);return new n(r,f)}function KD(t,e){const{gl:n,width:r,height:i,id:o}=t;return new In(n,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:r,height:i,attachments:{36064:t}}))}function xd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unnamed";const n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,r=t.match(n);return r?r[1]:e}const YD=35632,ZD=35633;function QD(t){switch(t){case YD:return"fragment";case ZD:return"vertex";default:return"unknown type"}}function JD(t,e,n,r){const i=t.split(/\r?\n/),o={},s={},a=r||xd(e)||"(unnamed)",l="".concat(QD(n)," shader ").concat(a);for(let u=0;u<i.length;u++){const f=i[u];if(f.length<=1)continue;const d=f.split(":"),h=d[0],p=parseInt(d[2],10);if(isNaN(p))throw new Error("GLSL compilation error in ".concat(l,": ").concat(t));h!=="WARNING"?o[p]=f:s[p]=f}const c=e6(e);return{shaderName:l,errors:tS(o,c),warnings:tS(s,c)}}function tS(t,e){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(!(!t[r+3]&&!t[r+2]&&!t[r+1])&&(n+="".concat(i,`
`),t[r+1])){const o=t[r+1],s=o.split(":",3),a=s[0],l=parseInt(s[1],10)||0,c=o.substring(s.join(":").length+1).trim();n+=YP("^^^ ".concat(a,": ").concat(c,`

`),l)}}return n}function e6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:": ";const r=t.split(/\r?\n/),i=String(r.length+e-1).length;return r.map((o,s)=>{const a=String(s+e),l=a.length;return YP(a,i-l)+n+o})}function YP(t,e){let n="";for(let r=0;r<e;++r)n+=" ";return"".concat(n).concat(t)}function ZP(t){let e=100;const n=t.match(/[^\s]+/g);if(n.length>=2&&n[0]==="#version"){const r=parseInt(n[1],10);Number.isFinite(r)&&(e=r)}return e}const t6="Shader: GLSL source code must be a JavaScript string";class du extends So{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return me(!1),"unknown"}}constructor(e,n){mg(e),me(typeof n.source=="string",t6);const r=xd(n.source,null)||n.id||rs("unnamed ".concat(du.getTypeName(n.shaderType)));super(e,{id:r}),this.shaderType=n.shaderType,this.source=n.source,this.initialize(n)}initialize(e){let{source:n}=e;const r=xd(n,null);r&&(this.id=rs(r)),this._compile(n)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(du.getTypeName(this.shaderType),":").concat(this.id)}getName(){return xd(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.source;if(e.startsWith("#version ")||(e=`#version 100
`.concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const r=this.gl.getShaderInfoLog(this.handle),{shaderName:i,errors:o,warnings:s}=JD(r,this.source,this.shaderType,this.id);throw Oe.error("GLSL compilation errors in ".concat(i,`
`).concat(o))(),Oe.warn("GLSL compilation warnings in ".concat(i,`
`).concat(s))(),new Error("GLSL compilation errors in ".concat(i))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class Gp extends du{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,n){typeof n=="string"&&(n={source:n}),super(e,Object.assign({},n,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class qp extends du{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,n){typeof n=="string"&&(n={source:n}),super(e,Object.assign({},n,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const n6={5126:Ht.bind(null,"uniform1fv",Nr,1,Qn),35664:Ht.bind(null,"uniform2fv",Nr,2,Qn),35665:Ht.bind(null,"uniform3fv",Nr,3,Qn),35666:Ht.bind(null,"uniform4fv",Nr,4,Qn),5124:Ht.bind(null,"uniform1iv",To,1,Qn),35667:Ht.bind(null,"uniform2iv",To,2,Qn),35668:Ht.bind(null,"uniform3iv",To,3,Qn),35669:Ht.bind(null,"uniform4iv",To,4,Qn),35670:Ht.bind(null,"uniform1iv",To,1,Qn),35671:Ht.bind(null,"uniform2iv",To,2,Qn),35672:Ht.bind(null,"uniform3iv",To,3,Qn),35673:Ht.bind(null,"uniform4iv",To,4,Qn),35674:Ht.bind(null,"uniformMatrix2fv",Nr,4,Ki),35675:Ht.bind(null,"uniformMatrix3fv",Nr,9,Ki),35676:Ht.bind(null,"uniformMatrix4fv",Nr,16,Ki),35678:Dn,35680:Dn,5125:Ht.bind(null,"uniform1uiv",Af,1,Qn),36294:Ht.bind(null,"uniform2uiv",Af,2,Qn),36295:Ht.bind(null,"uniform3uiv",Af,3,Qn),36296:Ht.bind(null,"uniform4uiv",Af,4,Qn),35685:Ht.bind(null,"uniformMatrix2x3fv",Nr,6,Ki),35686:Ht.bind(null,"uniformMatrix2x4fv",Nr,8,Ki),35687:Ht.bind(null,"uniformMatrix3x2fv",Nr,6,Ki),35688:Ht.bind(null,"uniformMatrix3x4fv",Nr,12,Ki),35689:Ht.bind(null,"uniformMatrix4x2fv",Nr,8,Ki),35690:Ht.bind(null,"uniformMatrix4x3fv",Nr,12,Ki),35678:Dn,35680:Dn,35679:Dn,35682:Dn,36289:Dn,36292:Dn,36293:Dn,36298:Dn,36299:Dn,36300:Dn,36303:Dn,36306:Dn,36307:Dn,36308:Dn,36311:Dn},r6={},i6={},o6={},nS=[0];function k1(t,e,n,r){e===1&&typeof t=="boolean"&&(t=t?1:0),Number.isFinite(t)&&(nS[0]=t,t=nS);const i=t.length;if(i%e&&Oe.warn("Uniform size should be multiples of ".concat(e),t)(),t instanceof n)return t;let o=r[i];o||(o=new n(i),r[i]=o);for(let s=0;s<i;s++)o[s]=t[s];return o}function Nr(t,e){return k1(t,e,Float32Array,r6)}function To(t,e){return k1(t,e,Int32Array,i6)}function Af(t,e){return k1(t,e,Uint32Array,o6)}function rS(t,e,n){const r=n6[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,t,e)}function s6(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const e=/([^[]*)(\[[0-9]+\])?/,n=t.match(e);if(!n||n.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(t));return{name:n[1],length:n[2]||1,isArray:!!n[2]}}function a6(t,e,n){for(const r in t){const i=t[r];if((!n||!!n[r])&&!l6(i))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(r),i),new Error("".concat(e," Bad uniform ").concat(r))}return!0}function l6(t){return Array.isArray(t)||ArrayBuffer.isView(t)?u6(t):isFinite(t)||t===!0||t===!1||t instanceof Gs||t instanceof Ba?!0:t instanceof In?!!t.texture:!1}function c6(t,e,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(t[e]){const r=t[e];for(let i=0,o=n.length;i<o;++i)r[i]=n[i]}else t[e]=n.slice();else t[e]=n}function u6(t){if(t.length===0)return!1;const e=Math.min(t.length,16);for(let n=0;n<e;++n)if(!Number.isFinite(t[n]))return!1;return!0}function Dn(){let t=null;return(e,n,r)=>{const i=t!==r;return i&&(e.uniform1i(n,r),t=r),i}}function Ht(t,e,n,r){let i=null,o=null;return(s,a,l)=>{const c=e(l,n),u=c.length;let f=!1;if(i===null)i=new Float32Array(u),o=u,f=!0;else{me(o===u,"Uniform length cannot change.");for(let d=0;d<u;++d)if(c[d]!==i[d]){f=!0;break}}return f&&(r(s,t,a,c),i.set(c)),f}}function Qn(t,e,n,r){t[e](n,r)}function Ki(t,e,n,r){t[e](n,!1,r)}const f6=5120,d6=5121,h6=5122,g6=5123,iS=0,If=1,p6=2,m6=3,Mf=4,v6=5,y6=6,Tn=5126,b6=35664,_6=35665,w6=35666,ec=5124,S6=35667,E6=35668,x6=35669,tc=5125,C6=36294,T6=36295,P6=36296,A6=35670,I6=35671,M6=35672,O6=35673,L6=35674,R6=35675,N6=35676,k6=35685,F6=35686,D6=35687,z6=35688,B6=35689,j6=35690,Yv={[Tn]:[Tn,1,"float"],[b6]:[Tn,2,"vec2"],[_6]:[Tn,3,"vec3"],[w6]:[Tn,4,"vec4"],[ec]:[ec,1,"int"],[S6]:[ec,2,"ivec2"],[E6]:[ec,3,"ivec3"],[x6]:[ec,4,"ivec4"],[tc]:[tc,1,"uint"],[C6]:[tc,2,"uvec2"],[T6]:[tc,3,"uvec3"],[P6]:[tc,4,"uvec4"],[A6]:[Tn,1,"bool"],[I6]:[Tn,2,"bvec2"],[M6]:[Tn,3,"bvec3"],[O6]:[Tn,4,"bvec4"],[L6]:[Tn,8,"mat2"],[k6]:[Tn,8,"mat2x3"],[F6]:[Tn,8,"mat2x4"],[R6]:[Tn,12,"mat3"],[D6]:[Tn,12,"mat3x2"],[z6]:[Tn,12,"mat3x4"],[N6]:[Tn,16,"mat4"],[B6]:[Tn,16,"mat4x2"],[j6]:[Tn,16,"mat4x3"]};function $6(t){switch(t){case iS:return iS;case If:return If;case m6:return If;case p6:return If;case Mf:return Mf;case v6:return Mf;case y6:return Mf;default:return me(!1),0}}function oS(t){const e=Yv[t];if(!e)return null;const[n,r]=e;return{type:n,components:r}}function QP(t,e){switch(t){case f6:case d6:case h6:case g6:t=Tn;break}for(const n in Yv){const[r,i,o]=Yv[n];if(r===t&&i===e)return{glType:n,name:o}}return null}class V6{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const n=Number(e);return Number.isFinite(n)?this.attributeInfosByLocation[n]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const n=this.getAttributeInfo(e);return n?n.location:-1}getAttributeAccessor(e){const n=this.getAttributeInfo(e);return n?n.accessor:null}getVaryingInfo(e){const n=Number(e);return Number.isFinite(n)?this.varyingInfos[n]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const n=this.getVaryingInfo();return n?n.location:-1}getVaryingAccessor(e){const n=this.getVaryingInfo();return n?n.accessor:null}_readAttributesFromProgram(e){const{gl:n}=e,r=n.getProgramParameter(e.handle,35721);for(let i=0;i<r;i++){const{name:o,type:s,size:a}=n.getActiveAttrib(e.handle,i),l=n.getAttribLocation(e.handle,o);l>=0&&this._addAttribute(l,o,s,a)}this.attributeInfos.sort((i,o)=>i.location-o.location)}_readVaryingsFromProgram(e){const{gl:n}=e;if(!ot(n))return;const r=n.getProgramParameter(e.handle,35971);for(let i=0;i<r;i++){const{name:o,type:s,size:a}=n.getTransformFeedbackVarying(e.handle,i);this._addVarying(i,o,s,a)}this.varyingInfos.sort((i,o)=>i.location-o.location)}_addAttribute(e,n,r,i){const{type:o,components:s}=oS(r),a={type:o,size:i*s};this._inferProperties(e,n,a);const l={location:e,name:n,accessor:new jr(a)};this.attributeInfos.push(l),this.attributeInfosByLocation[e]=l,this.attributeInfosByName[l.name]=l}_inferProperties(e,n,r){/instance/i.test(n)&&(r.divisor=1)}_addVarying(e,n,r,i){const{type:o,components:s}=oS(r),a=new jr({type:o,size:i*s}),l={location:e,name:n,accessor:a};this.varyingInfos.push(l),this.varyingInfosByName[l.name]=l}}const sS=4,U6=35981,H6=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class JP extends So{get[Symbol.toStringTag](){return"Program"}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.stubRemovedMethods("Program","v6.0",H6),this._isCached=!1,this.initialize(n),Object.seal(this),this._setId(n.id)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{hash:n,vs:r,fs:i,varyings:o,bufferMode:s=U6}=e;return this.hash=n||"",this.vs=typeof r=="string"?new Gp(this.gl,{id:"".concat(e.id,"-vs"),source:r}):r,this.fs=typeof i=="string"?new qp(this.gl,{id:"".concat(e.id,"-fs"),source:i}):i,me(this.vs instanceof Gp),me(this.fs instanceof qp),this.uniforms={},this._textureUniforms={},o&&o.length>0&&(rr(this.gl),this.varyings=o,this.gl2.transformFeedbackVaryings(this.handle,o,s)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new V6(this),this.setProps(e)}delete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._isCached?this:super.delete(e)}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:n,drawMode:r=4,vertexCount:i,offset:o=0,start:s,end:a,isIndexed:l=!1,indexType:c=5123,instanceCount:u=0,isInstanced:f=u>0,vertexArray:d=null,transformFeedback:h,framebuffer:p,parameters:v={},uniforms:_,samplers:m}=e;if((_||m)&&(Oe.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(_||{})),Oe.priority>=n){const y=p?p.id:"default",b="mode=".concat(Jo(this.gl,r)," verts=").concat(i," ")+"instances=".concat(u," indexType=").concat(Jo(this.gl,c)," ")+"isInstanced=".concat(f," isIndexed=").concat(l," ")+"Framebuffer=".concat(y);Oe.log(n,b)()}return me(d),this.gl.useProgram(this.handle),!this._areTexturesRenderable()||i===0||f&&u===0?!1:(d.bindForDraw(i,u,()=>{if(p!==void 0&&(v=Object.assign({},v,{framebuffer:p})),h){const y=$6(r);h.begin(y)}this._bindTextures(),Ti(this.gl,v,()=>{l&&f?this.gl2.drawElementsInstanced(r,i,c,o,u):l&&ot(this.gl)&&!isNaN(s)&&!isNaN(a)?this.gl2.drawRangeElements(r,s,a,i,c,o):l?this.gl.drawElements(r,i,c,o):f?this.gl2.drawArraysInstanced(r,o,i,u):this.gl.drawArrays(r,o,i)}),h&&h.end()}),!0)}setUniforms(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Oe.priority>=2&&a6(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const n in e){const r=e[n],i=this._uniformSetters[n];if(i){let o=r,s=!1;if(o instanceof In&&(o=o.texture),o instanceof Gs)if(s=this.uniforms[n]!==r,s){i.textureIndex===void 0&&(i.textureIndex=this._textureIndexCounter++);const a=o,{textureIndex:l}=i;a.bind(l),o=l,this._textureUniforms[n]=a}else o=i.textureIndex;else this._textureUniforms[n]&&delete this._textureUniforms[n];(i(o)||s)&&c6(this.uniforms,n,r)}}return this}_areTexturesRenderable(){let e=!0;for(const n in this._textureUniforms){const r=this._textureUniforms[n];r.update(),e=e&&r.loaded}return e}_bindTextures(){for(const e in this._textureUniforms){const n=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(n)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const n=this.gl.getAttachedShaders(e),r={};for(const i of n)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:r.vs=new Gp({handle:i});break;case 35632:r.fs=new qp({handle:i});break}return r}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const n=this._getName();this.id=rs(n)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),Oe.time(sS,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),Oe.timeEnd(sS,"linkProgram for ".concat(this._getName()))(),e.debug||Oe.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let n=0;n<this._uniformCount;n++){const r=this.gl.getActiveUniform(this.handle,n),{name:i}=s6(r.name);let o=e.getUniformLocation(this.handle,i);if(this._uniformSetters[i]=rS(e,o,r),r.size>1)for(let s=0;s<r.size;s++)o=e.getUniformLocation(this.handle,"".concat(i,"[").concat(s,"]")),this._uniformSetters["".concat(i,"[").concat(s,"]")]=rS(e,o,r)}this._textureIndexCounter=0}getActiveUniforms(e,n){return this.gl2.getActiveUniforms(this.handle,e,n)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,n){return this.gl2.getActiveUniformBlockParameter(this.handle,e,n)}uniformBlockBinding(e,n){this.gl2.uniformBlockBinding(this.handle,e,n)}}const W6=34918,G6=34919,q6=35007,X6=36795,K6=35976,Y6=35887,Z6=36202;class xh extends So{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=ot(e),i=N1(e,qt.TIMER_QUERY);let o=r||i;for(const s of n)switch(s){case"queries":o=o&&r;break;case"timers":o=o&&i;break;default:me(!1)}return o}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e,n),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(q6)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.begin(e?Z6:Y6)}beginTransformFeedbackQuery(){return this.begin(K6)}begin(e){return this._queryPending?this:(this.target=e,this.gl2.beginQuery(this.target,this.handle),this)}end(){return this._queryPending?this:(this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this)}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,G6);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(X6)}getResult(){return this.gl2.getQueryParameter(this.handle,W6)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let n=0;return this._pollingPromise=new Promise((r,i)=>{const o=()=>{this.isResultAvailable()?(r(this.getResult()),this._pollingPromise=null):n++>e?(i("Timed out"),this._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)}),this._pollingPromise}_createHandle(){return xh.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}class eA extends So{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return ot(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rr(e),super(e,n),this.initialize(n),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,hl(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.bind(()=>{for(const n in e)this.setBuffer(n,e[n])}),this}setBuffer(e,n){const r=this._getVaryingIndex(e),{buffer:i,byteSize:o,byteOffset:s}=this._getBufferParams(n);return r<0?(this.unused[e]=i,Oe.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[r]=n,this.bindOnUse||this._bindBuffer(r,i,s,o),this)}begin(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let n,r,i;return e instanceof Lt?i=e:(i=e.buffer,r=e.byteSize,n=e.byteOffset),(n!==void 0||r!==void 0)&&(n=n||0,r=r||i.byteLength-n),{buffer:i,byteOffset:n,byteSize:r}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const n=Number(e);return Number.isFinite(n)?n:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:n,byteSize:r,byteOffset:i}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,n,i,r)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;const o=n&&n.handle;return!o||i===void 0?this.gl.bindBufferBase(35982,e,o):this.gl.bindBufferRange(35982,e,o,r,i),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}let Of=null;function Q6(t){return(!Of||Of.byteLength<t)&&(Of=new ArrayBuffer(t)),Of}function J6(t,e){const n=Q6(t.BYTES_PER_ELEMENT*e);return new t(n,0,e)}function ez(t){let{target:e,source:n,start:r=0,count:i=1}=t;const o=n.length,s=i*o;let a=0;for(let l=r;a<o;a++)e[l++]=n[a];for(;a<s;)a<s-a?(e.copyWithin(r+a,r,r+a),a*=2):(e.copyWithin(r+a,r,r+s-a),a=s);return e}const tz="elements must be GL.ELEMENT_ARRAY_BUFFER";class zr extends So{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).constantAttributeZero?ot(e)||RP()==="Chrome":!0}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new zr(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return zr.MAX_ATTRIBUTES=zr.MAX_ATTRIBUTES||e.getParameter(34921),zr.MAX_ATTRIBUTES}static setConstant(e,n,r){switch(r.constructor){case Float32Array:zr._setConstantFloatArray(e,n,r);break;case Int32Array:zr._setConstantIntArray(e,n,r);break;case Uint32Array:zr._setConstantUintArray(e,n,r);break;default:me(!1)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=n.id||n.program&&n.program.id;super(e,Object.assign({},n,{id:r})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=n.isDefaultArray||!1,this.gl2=e,this.initialize(n),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return zr.getMaxAttributes(this.gl)}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.setProps(e)}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return me(!e||e.target===34963,tz),this.bind(()=>{this.gl.bindBuffer(34963,e?e.handle:null)}),this}setBuffer(e,n,r){if(n.target===34963)return this.setElementBuffer(n,r);const{size:i,type:o,stride:s,offset:a,normalized:l,integer:c,divisor:u}=r,{gl:f,gl2:d}=this;return e=Number(e),this.bind(()=>{f.bindBuffer(34962,n.handle),c?(me(ot(f)),d.vertexAttribIPointer(e,i,o,s,a)):f.vertexAttribPointer(e,i,o,l,s,a),f.enableVertexAttribArray(e),d.vertexAttribDivisor(e,u||0)}),this}enable(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return!n&&e===0&&!zr.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(()=>n?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e))),this}getConstantBuffer(e,n){const r=this._normalizeConstantArrayValue(n),i=r.byteLength*e,o=r.length*e;let s=!this.buffer;if(this.buffer=this.buffer||new Lt(this.gl,i),s=s||this.buffer.reallocate(i),s=s||!this._compareConstantArrayValues(r,this.bufferValue),s){const a=J6(n.constructor,o);ez({target:a,source:r,start:0,count:o}),this.buffer.subData(a),this.bufferValue=n}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,n){if(!e||!n||e.length!==n.length||e.constructor!==n.constructor)return!1;for(let r=0;r<e.length;++r)if(e[r]!==n[r])return!1;return!0}static _setConstantFloatArray(e,n,r){switch(r.length){case 1:e.vertexAttrib1fv(n,r);break;case 2:e.vertexAttrib2fv(n,r);break;case 3:e.vertexAttrib3fv(n,r);break;case 4:e.vertexAttrib4fv(n,r);break;default:me(!1)}}static _setConstantIntArray(e,n,r){switch(me(ot(e)),r.length){case 1:e.vertexAttribI1iv(n,r);break;case 2:e.vertexAttribI2iv(n,r);break;case 3:e.vertexAttribI3iv(n,r);break;case 4:e.vertexAttribI4iv(n,r);break;default:me(!1)}}static _setConstantUintArray(e,n,r){switch(me(ot(e)),r.length){case 1:e.vertexAttribI1uiv(n,r);break;case 2:e.vertexAttribI2uiv(n,r);break;case 3:e.vertexAttribI3uiv(n,r);break;case 4:e.vertexAttribI4uiv(n,r);break;default:me(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,n){let{location:r}=n;return me(Number.isFinite(r)),this.bind(()=>{switch(e){case 34373:return this.gl.getVertexAttribOffset(r,e);default:return this.gl.getVertexAttrib(r,e)}})}}const nz="VertexArray: attributes must be Buffers or constants (i.e. typed array)",rz=/^(.+)__LOCATION_([0-9]+)$/,iz=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class oz{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=n.id||n.program&&n.program.id;this.id=r,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new zr(e),$P(this,"VertexArray","v6.0",iz),this.initialize(n),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind(()=>{for(const n in e){const r=e[n];this._setAttribute(n,r)}this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.elements=e,this.elementsAccessor=n,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,n),this}setBuffer(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.target===34963)return this.setElementBuffer(n,r);const{location:i,accessor:o}=this._resolveLocationAndAccessor(e,n,n.accessor,r);return i>=0&&(this.values[i]=n,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(i,n,o)),this}setConstant(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{location:i,accessor:o}=this._resolveLocationAndAccessor(e,n,Object.assign({size:n.length},r));return i>=0&&(n=this.vertexArrayObject._normalizeConstantArrayValue(n),this.values[i]=n,this.accessors[i]=o,this.clearDrawParams(),this.vertexArrayObject.enable(i,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new Lt(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof Lt&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const n=this.values[e];n instanceof Lt&&this.setBuffer(e,n)}}),this}bindForDraw(e,n,r){let i;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(e,n),i=r()}),i}_resolveLocationAndAccessor(e,n,r,i){const o={location:-1,accessor:null},{location:s,name:a}=this._getAttributeIndex(e);if(!Number.isFinite(s)||s<0)return this.unused[e]=n,Oe.once(3,()=>"unused value ".concat(e," in ").concat(this.id))(),o;const l=this._getAttributeInfo(a||s);if(!l)return o;const c=this.accessors[s]||{},u=jr.resolve(l.accessor,c,r,i),{size:f,type:d}=u;return me(Number.isFinite(f)&&Number.isFinite(d)),{location:s,accessor:u}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const n=Number(e);if(Number.isFinite(n))return{location:n};const r=rz.exec(e),i=r?r[1]:e,o=r?Number(r[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(i)+o,name:i}:{location:-1}}_setAttribute(e,n){if(n instanceof Lt)this.setBuffer(e,n);else if(Array.isArray(n)&&n.length&&n[0]instanceof Lt){const r=n[0],i=n[1];this.setBuffer(e,r,i)}else if(ArrayBuffer.isView(n)||Array.isArray(n)){const r=n;this.setConstant(e,r)}else if(n.buffer instanceof Lt){const r=n;this.setBuffer(e,r.buffer,r)}else throw new Error(nz)}_setConstantAttributes(e,n){const r=Math.max(e|0,n|0);let i=this.values[0];ArrayBuffer.isView(i)&&this._setConstantAttributeZero(i,r);for(let o=1;o<this.vertexArrayObject.MAX_ATTRIBUTES;o++)i=this.values[o],ArrayBuffer.isView(i)&&this._setConstantAttribute(o,i)}_setConstantAttributeZero(e,n){if(zr.isSupported(this.gl,{constantAttributeZero:!0})){this._setConstantAttribute(0,e);return}const r=this.vertexArrayObject.getConstantBuffer(n,e);this.vertexArrayObject.setBuffer(0,r,this.accessors[0])}_setConstantAttribute(e,n){zr.setConstant(this.gl,e,n)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let n=0;n<this.vertexArrayObject.MAX_ATTRIBUTES;n++)this._updateDrawParamsForLocation(e,n);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,n){const r=this.values[n],i=this.accessors[n];if(!r)return;const{divisor:o}=i,s=o>0;if(e.isInstanced=e.isInstanced||s,r instanceof Lt){const a=r;if(s){const l=a.getVertexCount(i);e.instanceCount=Math.min(e.instanceCount,l)}else{const l=a.getVertexCount(i);e.vertexCount=Math.min(e.vertexCount,l)}}}setElements(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Oe.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,n)}}function sz(t,e){const{maxElts:n=16,size:r=1}=e;let i="[";for(let s=0;s<t.length&&s<n;++s)s>0&&(i+=",".concat(s%r===0?" ":"")),i+=hu(t[s],e);const o=t.length>n?"...":"]";return"".concat(i).concat(o)}function hu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=1e-16,{isInteger:r=!1}=e;if(Array.isArray(t)||ArrayBuffer.isView(t))return sz(t,e);if(!Number.isFinite(t))return String(t);if(Math.abs(t)<n)return r?"0":"0.";if(r||Math.abs(t)>100&&Math.abs(t)<1e4)return t.toFixed(0);const i=t.toPrecision(2);return i.indexOf(".0")===i.length-2?i.slice(0,-1):i}function aS(t){let{header:e="Uniforms",program:n,uniforms:r,undefinedOnly:i=!1}=t;me(n);const o=".*_.*",s=".*Matrix",a=n._uniformSetters,l={},c=Object.keys(a).sort();let u=0;for(const h of c)!h.match(o)&&!h.match(s)&&Xp({table:l,header:e,uniforms:r,uniformName:h,undefinedOnly:i})&&u++;for(const h of c)h.match(s)&&Xp({table:l,header:e,uniforms:r,uniformName:h,undefinedOnly:i})&&u++;for(const h of c)l[h]||Xp({table:l,header:e,uniforms:r,uniformName:h,undefinedOnly:i})&&u++;let f=0;const d={};if(!i)for(const h in r){const p=r[h];l[h]||(f++,d[h]={Type:"NOT USED: ".concat(p),[e]:hu(p)})}return{table:l,count:u,unusedTable:d,unusedCount:f}}function Xp(t){let{table:e,header:n,uniforms:r,uniformName:i,undefinedOnly:o}=t;const s=r[i],a=az(s);return!o||!a?(e[i]={[n]:a?hu(s):"N/A","Uniform Type":a?s:"NOT PROVIDED"},!0):!1}function az(t){return t!=null}function lz(t){let{vertexArray:e,header:n="Attributes"}=t;if(!e.configuration)return{};const r={};e.elements&&(r.ELEMENT_ARRAY_BUFFER=lS(e,e.elements,null,n));const i=e.values;for(const o in i){const s=e._getAttributeInfo(o);if(s){let a="".concat(o,": ").concat(s.name);const l=e.accessors[s.location];l&&(a="".concat(o,": ").concat(cz(s.name,l))),r[a]=lS(e,i[o],l,n)}}return r}function lS(t,e,n,r){const{gl:i}=t;if(!e)return{[r]:"null","Format ":"N/A"};let o="NOT PROVIDED",s=1,a=0,l=0,c,u,f;if(n&&(o=n.type,s=n.size,o=String(o).replace("Array",""),c=o.indexOf("nt")!==-1),e instanceof Lt){const d=e,{data:h,changed:p}=d.getDebugData();u=p?"*":"",f=h,l=d.byteLength,a=l/h.BYTES_PER_ELEMENT/s;let v;if(n){const _=n.divisor>0;v="".concat(_?"I ":"P "," ").concat(a," (x").concat(s,"=").concat(l," bytes ").concat(Jo(i,o),")")}else c=!0,v="".concat(l," bytes");return{[r]:"".concat(u).concat(hu(f,{size:s,isInteger:c})),"Format ":v}}return f=e,s=e.length,o=String(e.constructor.name).replace("Array",""),c=o.indexOf("nt")!==-1,{[r]:"".concat(hu(f,{size:s,isInteger:c})," (constant)"),"Format ":"".concat(s,"x").concat(o," (constant)")}}function cz(t,e){const{type:n,size:r}=e,i=QP(n,r);return i?"".concat(t," (").concat(i.name,")"):t}function uz(t){const e={},n="Accessors for ".concat(t.id);for(const r of t.attributeInfos)if(r){const i=cS(r);e["in ".concat(i)]={[n]:JSON.stringify(r.accessor)}}for(const r of t.varyingInfos)if(r){const i=cS(r);e["out ".concat(i)]={[n]:JSON.stringify(r.accessor)}}return e}function cS(t){const{type:e,size:n}=t.accessor,r=QP(e,n);return r?"".concat(r.name," ").concat(t.name):t.name}const uS=wo()&&typeof document<"u";let fz=0;class dz{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{onCreateContext:n=_=>jP(_),onAddHTML:r=null,onInitialize:i=()=>{},onRender:o=()=>{},onFinalize:s=()=>{},onError:a,gl:l=null,glOptions:c={},debug:u=!1,createFramebuffer:f=!1,autoResizeViewport:d=!0,autoResizeDrawingBuffer:h=!0,stats:p=Es.get("animation-loop-".concat(fz++))}=e;let{useDevicePixels:v=!0}=e;"useDevicePixelRatio"in e&&(Oe.deprecated("useDevicePixelRatio","useDevicePixels")(),v=e.useDevicePixelRatio),this.props={onCreateContext:n,onAddHTML:r,onInitialize:i,onRender:o,onFinalize:s,onError:a,gl:l,glOptions:c,debug:u,createFramebuffer:f},this.gl=l,this.needsRedraw=null,this.timeline=null,this.stats=p,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:d,autoResizeDrawingBuffer:h,useDevicePixels:v}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return me(typeof e=="string"),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._running)return this;this._running=!0;const n=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=xh.isSupported(this.gl,["timers"])?new xh(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(r=>{this._running&&(this._addCallbackData(r||{}),r!==!1&&this._startLoop())});return this.props.onError&&n.catch(this.props.onError),this}redraw(){return this.isContextLost()?this:(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers(),this)}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=document.getElementById(e);return r?Number(r.value):n}setViewParameters(){return Oe.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=uS?new Promise((e,n)=>{if(uS&&document.readyState==="complete"){e(document);return}window.addEventListener("load",()=>{e(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):yD(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):vD(e)}_renderFrame(){if(this.display){this.display._renderFrame(...arguments);return}this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:n,aspect:r}=this._getSizeAndAspect();(e!==this.animationProps.width||n!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),r!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=n,this.animationProps.aspect=r,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){typeof e=="object"&&e!==null&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&typeof OffscreenCanvas<"u"&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?M1(this.props.gl,e):this.onCreateContext(e),!pg(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");nD(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const n=document.createElement("div");n.style.position="absolute",n.style.left="10px",n.style.bottom="10px",n.style.width="300px",n.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(n);const r=this.props.onAddHTML(n);r&&(n.innerHTML=r)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,n=this.gl.drawingBufferHeight;let r=1;const{canvas:i}=this.gl;return i&&i.clientHeight?r=i.clientWidth/i.clientHeight:e>0&&n>0&&(r=e/n),{width:e,height:n,aspect:r}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&aD(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new In(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}const Uu="vs",F1="fs";function Hr(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const Kp={number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},array:{validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function hz(t){const e={};for(const n in t){const r=t[n],i=gz(r);e[n]=i}return e}function gz(t){let e=fS(t);return e==="object"?t?"type"in t?Object.assign({},t,Kp[t.type]):"value"in t?(e=fS(t.value),Object.assign({type:e},t,Kp[e])):{type:"object",value:t}:{type:"object",value:null}:Object.assign({type:e,value:t},Kp[e])}function fS(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const pz="vs",mz="fs";class dS{constructor(e){let{name:n,vs:r,fs:i,dependencies:o=[],uniforms:s,getUniforms:a,deprecations:l=[],defines:c={},inject:u={},vertexShader:f,fragmentShader:d}=e;Hr(typeof n=="string"),this.name=n,this.vs=r||f,this.fs=i||d,this.getModuleUniforms=a,this.dependencies=o,this.deprecations=this._parseDeprecationDefinitions(l),this.defines=c,this.injections=vz(u),s&&(this.uniforms=hz(s))}getModuleSource(e){let n;switch(e){case pz:n=this.vs||"";break;case mz:n=this.fs||"";break;default:Hr(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),`
`).concat(n,"// END MODULE_").concat(this.name,`

`)}getUniforms(e,n){return this.getModuleUniforms?this.getModuleUniforms(e,n):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,n){this.deprecations.forEach(r=>{r.regex.test(e)&&(r.deprecated?n.deprecated(r.old,r.new)():n.removed(r.old,r.new)())})}_parseDeprecationDefinitions(e){return e.forEach(n=>{switch(n.type){case"function":n.regex=new RegExp("\\b".concat(n.old,"\\("));break;default:n.regex=new RegExp("".concat(n.type," ").concat(n.old,";"))}}),e}_defaultGetUniforms(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={},r=this.uniforms;for(const i in r){const o=r[i];i in e&&!o.private?(o.validate&&Hr(o.validate(e[i],o),"".concat(this.name,": invalid ").concat(i)),n[i]=e[i]):n[i]=o.value}return n}}function vz(t){const e={vs:{},fs:{}};for(const n in t){let r=t[n];const i=n.slice(0,2);typeof r=="string"&&(r={order:0,injection:r}),e[i][n]=r}return e}function yz(t){return bz(nA(t))}function bz(t){const e={},n={};return tA({modules:t,level:0,moduleMap:e,moduleDepth:n}),Object.keys(n).sort((r,i)=>n[i]-n[r]).map(r=>e[r])}function tA(t){let{modules:e,level:n,moduleMap:r,moduleDepth:i}=t;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)r[o.name]=o,(i[o.name]===void 0||i[o.name]<n)&&(i[o.name]=n);for(const o of e)o.dependencies&&tA({modules:o.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}function nA(t,e){return t.map(n=>(n instanceof dS||(Hr(typeof n!="string","Shader module use by name is deprecated. Import shader module '".concat(n,"' and use it directly.")),Hr(n.name,"shader module has no name"),n=new dS(n),n.dependencies=nA(n.dependencies)),n))}function _z(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=typeof window<"u"?window.navigator||{}:{},n=t.userAgent||e.userAgent||"",r=n.indexOf("MSIE ")!==-1,i=n.indexOf("Trident/")!==-1;return r||i}const wz=7936,Sz=7937,Ez=7938,xz=35724,D1={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},ms={};Object.keys(D1).forEach(t=>{ms[t]=t});function Cz(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&t._version===2)}function Tz(t){const e=t.getExtension("WEBGL_debug_renderer_info"),n=t.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||wz),r=t.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||Sz);return{gpuVendor:Pz(n,r),vendor:n,renderer:r,version:t.getParameter(Ez),shadingLanguageVersion:t.getParameter(xz)}}function Pz(t,e){return t.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":t.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":t.match(/AMD/i)||e.match(/AMD/i)||t.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}const Yp={};function hS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=D1[e];if(Hr(r,e),!_z(n))return!0;if(e in Yp)return Yp[e];const i=r[0],o=n.behavior||"enable",s="#extension GL_".concat(i," : ").concat(o,`
void main(void) {}`),a=t.createShader(35633);t.shaderSource(a,s),t.compileShader(a);const l=t.getShaderParameter(a,35713);return t.deleteShader(a),Yp[e]=l,l}function Az(t,e){const n=D1[e];Hr(n,e);const r=Cz(t)&&n[1]||n[0],i=typeof r=="string"?!!t.getExtension(r):r;return Hr(i===!1||i===!0),i}function Lf(t,e){return e=Array.isArray(e)?e:[e],e.every(n=>Az(t,n))}function Iz(t){switch(Tz(t).gpuVendor.toLowerCase()){case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function Mz(t,e,n){let r=`#if (__VERSION__ > 120)

# define FEATURE_GLSL_DERIVATIVES
# define FEATURE_GLSL_DRAW_BUFFERS
# define FEATURE_GLSL_FRAG_DEPTH
# define FEATURE_GLSL_TEXTURE_LOD

// DEPRECATED FLAGS, remove in v9
# define FRAG_DEPTH
# define DERIVATIVES
# define DRAW_BUFFERS
# define TEXTURE_LOD

#endif // __VERSION
`;return Lf(t,ms.GLSL_FRAG_DEPTH)&&(r+=`
// FRAG_DEPTH => gl_FragDepth is available
#ifdef GL_EXT_frag_depth
#extension GL_EXT_frag_depth : enable
# define FEATURE_GLSL_FRAG_DEPTH
# define FRAG_DEPTH
# define gl_FragDepth gl_FragDepthEXT
#endif
`),Lf(t,ms.GLSL_DERIVATIVES)&&hS(t,ms.GLSL_DERIVATIVES)&&(r+=`
// DERIVATIVES => dxdF, dxdY and fwidth are available
#ifdef GL_OES_standard_derivatives
#extension GL_OES_standard_derivatives : enable
# define FEATURE_GLSL_DERIVATIVES
# define DERIVATIVES
#endif
`),Lf(t,ms.GLSL_FRAG_DATA)&&hS(t,ms.GLSL_FRAG_DATA,{behavior:"require"})&&(r+=`
// DRAW_BUFFERS => gl_FragData[] is available
#ifdef GL_EXT_draw_buffers
#extension GL_EXT_draw_buffers : require
#define FEATURE_GLSL_DRAW_BUFFERS
#define DRAW_BUFFERS
#endif
`),Lf(t,ms.GLSL_TEXTURE_LOD)&&(r+=`// TEXTURE_LOD => texture2DLod etc are available
#ifdef GL_EXT_shader_texture_lod
#extension GL_EXT_shader_texture_lod : enable

# define FEATURE_GLSL_TEXTURE_LOD
# define TEXTURE_LOD

#endif
`),r}const Oz=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,Lz=`#ifdef MODULE_MATERIAL
  gl_FragColor = material_filterColor(gl_FragColor);
#endif

#ifdef MODULE_LIGHTING
  gl_FragColor = lighting_filterColor(gl_FragColor);
#endif

#ifdef MODULE_FOG
  gl_FragColor = fog_filterColor(gl_FragColor);
#endif

#ifdef MODULE_PICKING
  gl_FragColor = picking_filterHighlightColor(gl_FragColor);
  gl_FragColor = picking_filterPickingColor(gl_FragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,Rz={[Uu]:Oz,[F1]:Lz},Cd="__LUMA_INJECT_DECLARATIONS__",gS=/void\s+main\s*\([^)]*\)\s*\{\n?/,pS=/}\n?[^{}]*$/,Zp=[];function mS(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=e===Uu;for(const o in n){const s=n[o];s.sort((l,c)=>l.order-c.order),Zp.length=s.length;for(let l=0,c=s.length;l<c;++l)Zp[l]=s[l].injection;const a="".concat(Zp.join(`
`),`
`);switch(o){case"vs:#decl":i&&(t=t.replace(Cd,a));break;case"vs:#main-start":i&&(t=t.replace(gS,l=>l+a));break;case"vs:#main-end":i&&(t=t.replace(pS,l=>a+l));break;case"fs:#decl":i||(t=t.replace(Cd,a));break;case"fs:#main-start":i||(t=t.replace(gS,l=>l+a));break;case"fs:#main-end":i||(t=t.replace(pS,l=>a+l));break;default:t=t.replace(o,l=>l+a)}}return t=t.replace(Cd,""),r&&(t=t.replace(/\}\s*$/,o=>o+Rz[e])),t}function Zv(t){const e={};return Hr(Array.isArray(t)&&t.length>1),t.forEach(n=>{for(const r in n)e[r]=e[r]?"".concat(e[r],`
`).concat(n[r]):n[r]}),e}function gl(t){return new RegExp("\\b".concat(t,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const rA=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],Nz=[...rA,[gl("attribute"),"in $1"],[gl("varying"),"out $1"]],kz=[...rA,[gl("varying"),"in $1"]],iA=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],Fz=[...iA,[gl("in"),"attribute $1"],[gl("out"),"varying $1"]],Dz=[...iA,[gl("in"),"varying $1"]],Qv="gl_FragColor",Jv=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,zz=/void\s+main\s*\([^)]*\)\s*\{\n?/;function Bz(t,e,n){switch(e){case 300:return n?Ch(t,Nz):jz(t);case 100:return n?Ch(t,Fz):$z(t);default:throw new Error("unknown GLSL version ".concat(e))}}function Ch(t,e){for(const[n,r]of e)t=t.replace(n,r);return t}function jz(t){t=Ch(t,kz);const e=t.match(Jv);if(e){const n=e[1];t=t.replace(new RegExp("\\b".concat(Qv,"\\b"),"g"),n)}else{const n="fragmentColor";t=t.replace(zz,r=>"out vec4 ".concat(n,`;
`).concat(r)).replace(new RegExp("\\b".concat(Qv,"\\b"),"g"),n)}return t}function $z(t){t=Ch(t,Dz);const e=t.match(Jv);if(e){const n=e[1];t=t.replace(Jv,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),Qv)}return t}const Vz=`

`.concat(Cd,`

`),oA={[Uu]:"vertex",[F1]:"fragment"},Uz=`precision highp float;

`;function Hz(t,e){const{vs:n,fs:r}=e,i=yz(e.modules||[]);return{gl:t,vs:vS(t,Object.assign({},e,{source:n,type:Uu,modules:i})),fs:vS(t,Object.assign({},e,{source:r,type:F1,modules:i})),getUniforms:Wz(i)}}function vS(t,e){let{id:n,source:r,type:i,modules:o,defines:s={},hookFunctions:a=[],inject:l={},transpileToGLSL100:c=!1,prologue:u=!0,log:f}=e;Hr(typeof r=="string","shader source must be a string");const d=i===Uu,h=r.split(`
`);let p=100,v="",_=r;h[0].indexOf("#version ")===0?(p=300,v=h[0],_=h.slice(1).join(`
`)):v="#version ".concat(p);const m={};o.forEach(E=>{Object.assign(m,E.getDefines())}),Object.assign(m,s);let y=u?"".concat(v,`
`).concat(qz({id:n,source:r,type:i}),`
`).concat(Gz({type:i}),`
`).concat(Iz(t),`
`).concat(Mz(t),`
`).concat(Xz(m),`
`).concat(d?"":Uz,`
`):"".concat(v,`
`);const b=Yz(a),w={},S={},x={};for(const E in l){const I=typeof l[E]=="string"?{injection:l[E],order:0}:l[E],M=E.match(/^(v|f)s:(#)?([\w-]+)$/);if(M){const O=M[2],R=M[3];O?R==="decl"?S[E]=[I]:x[E]=[I]:w[E]=[I]}else x[E]=[I]}for(const E of o){f&&E.checkDeprecations(_,f);const I=E.getModuleSource(i,p);y+=I;const M=E.injections[i];for(const O in M){const R=O.match(/^(v|f)s:#([\w-]+)$/);if(R){const k=R[2]==="decl"?S:x;k[O]=k[O]||[],k[O].push(M[O])}else w[O]=w[O]||[],w[O].push(M[O])}}return y+=Vz,y=mS(y,i,S),y+=Kz(b[i],w),y+=_,y=mS(y,i,x),y=Bz(y,c?100:p,d),y}function Wz(t){return function(n){const r={};for(const i of t){const o=i.getUniforms(n,r);Object.assign(r,o)}return r}}function Gz(t){let{type:e}=t;return`
#define SHADER_TYPE_`.concat(oA[e].toUpperCase(),`
`)}function qz(t){let{id:e,source:n,type:r}=t;return e&&typeof e=="string"&&n.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME `.concat(e,"_").concat(oA[r],`

`):""}function Xz(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=0,n="";for(const r in t){e===0&&(n+=`
// APPLICATION DEFINES
`),e++;const i=t[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(t[r],`
`))}return e===0&&(n+=`
`),n}function Kz(t,e){let n="";for(const r in t){const i=t[r];if(n+="void ".concat(i.signature,` {
`),i.header&&(n+="  ".concat(i.header)),e[r]){const o=e[r];o.sort((s,a)=>s.order-a.order);for(const s of o)n+="  ".concat(s.injection,`
`)}i.footer&&(n+="  ".concat(i.footer)),n+=`}
`}return n}function Yz(t){const e={vs:{},fs:{}};return t.forEach(n=>{let r;typeof n!="string"?(r=n,n=r.hook):r={},n=n.trim();const[i,o]=n.split(":"),s=n.replace(/\(.+/,"");e[i][s]=Object.assign(r,{signature:o})}),e}const Zz="void main() {gl_FragColor = vec4(0);}",sA=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,Qz=`#version 300 es
`.concat(sA);function aA(t,e){e=Array.isArray(e)?e:[e];const n=t.replace(/^\s+/,"").split(/\s+/),[r,i,o]=n;if(!e.includes(r)||!i||!o)return null;const s=o.split(";")[0];return{qualifier:r,type:i,name:s}}function lA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{version:e=100,input:n,inputType:r,output:i}=t;if(!n)return e===300?Qz:e>300?"#version ".concat(e,`
`).concat(sA):Zz;const o=t5(n,r);return e>=300?"#version ".concat(e," ").concat(e===300?"es":"",`
in `).concat(r," ").concat(n,`;
out vec4 `).concat(i,`;
void main() {
  `).concat(i," = ").concat(o,`;
}`):"varying ".concat(r," ").concat(n,`;
void main() {
  gl_FragColor = `).concat(o,`;
}`)}function Jz(t){switch(t){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Hr(!1),null}}function e5(t){switch(t){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Hr(!1),null}}function t5(t,e){switch(e){case"float":return"vec4(".concat(t,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(t,", 0.0, 1.0)");case"vec3":return"vec4(".concat(t,", 1.0)");case"vec4":return t;default:return Hr(!1),null}}const n5=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,r5={name:"fp32",vs:n5,fs:null};function gu(t,e){if(!t)throw new Error("math.gl assertion ".concat(e))}const cr={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function i5(t,{precision:e=cr.precision}={}){return t=o5(t),"".concat(parseFloat(t.toPrecision(e)))}function qs(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bo(t,e,n){return a5(t,r=>Math.max(e,Math.min(n,r)))}function Os(t,e,n){return qs(t)?t.map((r,i)=>Os(r,e[i],n)):n*e+(1-n)*t}function lo(t,e,n){const r=cr.EPSILON;n&&(cr.EPSILON=n);try{if(t===e)return!0;if(qs(t)&&qs(e)){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!lo(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=cr.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{cr.EPSILON=r}}function o5(t){return Math.round(t/cr.EPSILON)*cr.EPSILON}function s5(t){return t.clone?t.clone():new Array(t.length)}function a5(t,e,n){if(qs(t)){const r=t;n=n||s5(r);for(let i=0;i<n.length&&i<r.length;++i)n[i]=e(t[i],i,n);return n}return e(t)}function l5(t){function e(){var n=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return e.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t,e}class z1 extends l5(Array){clone(){return new this.constructor().copy(this)}fromArray(e,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=e[r+n];return this.check()}toArray(e=[],n=0){for(let r=0;r<this.ELEMENTS;++r)e[n+r]=this[r];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:qs(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(cr)}formatString(e){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+i5(this[r],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(n,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!lo(this[n],e[n]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==e[n])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,n,r){if(r===void 0)return this.lerp(this,e,n);for(let i=0;i<this.ELEMENTS;++i){const o=e[i];this[i]=o+r*(n[i]-o)}return this.check()}min(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(e[n],this[n]);return this.check()}max(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(e[n],this[n]);return this.check()}clamp(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e[r]),n[r]);return this.check()}add(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(e){if(typeof e=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;else for(let n=0;n<this.ELEMENTS&&n<e.length;++n)this[n]*=e[n];return this.check()}multiplyByScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}check(){if(cr.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)e=e&&Number.isFinite(this[n]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]=e;return this.check()}addScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let n=0;n<this.ELEMENTS;++n)this[n]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],e),n);return this.check()}get elements(){return this}}function c5(t,e){if(t.length!==e)return!1;for(let n=0;n<t.length;++n)if(!Number.isFinite(t[n]))return!1;return!0}function Nt(t){if(!Number.isFinite(t))throw new Error("Invalid number ".concat(t));return t}function Lc(t,e,n=""){if(cr.debug&&!c5(t,e))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return t}class cA extends z1{get x(){return this[0]}set x(e){this[0]=Nt(e)}get y(){return this[1]}set y(e){this[1]=Nt(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let n=0;n<this.ELEMENTS;++n)e+=this[n]*this[n];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let n=0;for(let r=0;r<this.ELEMENTS;++r){const i=this[r]-e[r];n+=i*i}return Nt(n)}dot(e){let n=0;for(let r=0;r<this.ELEMENTS;++r)n+=this[r]*e[r];return Nt(n)}normalize(){const e=this.magnitude();if(e!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=e;return this.check()}multiply(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]*=n[r];return this.check()}divide(...e){for(const n of e)for(let r=0;r<this.ELEMENTS;++r)this[r]/=n[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return gu(e>=0&&e<this.ELEMENTS,"index is out of range"),Nt(this[e])}setComponent(e,n){return gu(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=n,this.check()}addVectors(e,n){return this.copy(e).add(n)}subVectors(e,n){return this.copy(e).subtract(n)}multiplyVectors(e,n){return this.copy(e).multiply(n)}addScaledVector(e,n){return this.add(new this.constructor(e).multiplyScalar(n))}}var Rc=1e-6,Oi=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function u5(){var t=new Oi(2);return Oi!=Float32Array&&(t[0]=0,t[1]=0),t}function yS(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function f5(t,e){return t[0]=-e[0],t[1]=-e[1],t}function uA(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function d5(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function h5(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}(function(){var t=u5();return function(e,n,r,i,o,s){var a,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],o(t,t,s),e[a]=t[0],e[a+1]=t[1];return e}})();function g5(t,e,n){const r=e[0],i=e[1],o=n[3]*r+n[7]*i||1;return t[0]=(n[0]*r+n[4]*i)/o,t[1]=(n[1]*r+n[5]*i)/o,t}function fA(t,e,n){const r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o||1;return t[0]=(n[0]*r+n[4]*i+n[8]*o)/s,t[1]=(n[1]*r+n[5]*i+n[9]*o)/s,t[2]=(n[2]*r+n[6]*i+n[10]*o)/s,t}function p5(t,e,n){const r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t[2]=e[2],t}function m5(t,e,n){const r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t[2]=e[2],t[3]=e[3],t}function dA(t,e,n){const r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r+n[3]*i+n[6]*o,t[1]=n[1]*r+n[4]*i+n[7]*o,t[2]=n[2]*r+n[5]*i+n[8]*o,t[3]=e[3],t}function hA(){var t=new Oi(3);return Oi!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function v5(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function bS(t,e,n){var r=new Oi(3);return r[0]=t,r[1]=e,r[2]=n,r}function y5(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function b5(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function _5(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function w5(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function gA(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Td(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],l=n[2];return t[0]=i*l-o*a,t[1]=o*s-r*l,t[2]=r*a-i*s,t}function S5(t,e,n,r){var i=e[0],o=e[1],s=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t}function B1(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[3]*r+n[7]*i+n[11]*o+n[15];return s=s||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/s,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/s,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/s,t}function pA(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function mA(t,e,n){var r=n[0],i=n[1],o=n[2],s=n[3],a=e[0],l=e[1],c=e[2],u=i*c-o*l,f=o*a-r*c,d=r*l-i*a,h=i*d-o*f,p=o*u-r*d,v=r*f-i*u,_=s*2;return u*=_,f*=_,d*=_,h*=2,p*=2,v*=2,t[0]=a+u+h,t[1]=l+f+p,t[2]=c+d+v,t}function E5(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function x5(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function C5(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function T5(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],s=e[1],a=e[2],l=Math.sqrt(n*n+r*r+i*i),c=Math.sqrt(o*o+s*s+a*a),u=l*c,f=u&&gA(t,e)/u;return Math.acos(Math.min(Math.max(f,-1),1))}var vA=y5,yA=v5,Qp=b5;(function(){var t=hA();return function(e,n,r,i,o,s){var a,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();const Jp=[0,0,0];let Rf;class _e extends cA{static get ZERO(){return Rf||(Rf=new _e(0,0,0),Object.freeze(Rf)),Rf}constructor(e=0,n=0,r=0){super(-0,-0,-0),arguments.length===1&&qs(e)?this.copy(e):(cr.debug&&(Nt(e),Nt(n),Nt(r)),this[0]=e,this[1]=n,this[2]=r)}set(e,n,r){return this[0]=e,this[1]=n,this[2]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return cr.debug&&(Nt(e.x),Nt(e.y),Nt(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Nt(e)}angle(e){return T5(this,e)}cross(e){return Td(this,this,e),this.check()}rotateX({radians:e,origin:n=Jp}){return E5(this,this,n,e),this.check()}rotateY({radians:e,origin:n=Jp}){return x5(this,this,n,e),this.check()}rotateZ({radians:e,origin:n=Jp}){return C5(this,this,n,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return B1(this,this,e),this.check()}transformAsVector(e){return fA(this,this,e),this.check()}transformByMatrix3(e){return pA(this,this,e),this.check()}transformByMatrix2(e){return p5(this,this,e),this.check()}transformByQuaternion(e){return mA(this,this,e),this.check()}}let Nf;class j1 extends cA{static get ZERO(){return Nf||(Nf=new j1(0,0,0,0),Object.freeze(Nf)),Nf}constructor(e=0,n=0,r=0,i=0){super(-0,-0,-0,-0),qs(e)&&arguments.length===1?this.copy(e):(cr.debug&&(Nt(e),Nt(n),Nt(r),Nt(i)),this[0]=e,this[1]=n,this[2]=r,this[3]=i)}set(e,n,r,i){return this[0]=e,this[1]=n,this[2]=r,this[3]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return cr.debug&&(Nt(e.x),Nt(e.y),Nt(e.z),Nt(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=Nt(e)}get w(){return this[3]}set w(e){this[3]=Nt(e)}transform(e){return B1(this,this,e),this.check()}transformByMatrix3(e){return dA(this,this,e),this.check()}transformByMatrix2(e){return m5(this,this,e),this.check()}transformByQuaternion(e){return mA(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}class bA extends z1{toString(){let e="[";if(cr.printRowMajor){e+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)e+=" ".concat(this[r*this.RANK+n])}else{e+="column-major:";for(let n=0;n<this.ELEMENTS;++n)e+=" ".concat(this[n])}return e+="]",e}getElementIndex(e,n){return n*this.RANK+e}getElement(e,n){return this[n*this.RANK+e]}setElement(e,n,r){return this[n*this.RANK+e]=Nt(r),this}getColumn(e,n=new Array(this.RANK).fill(-0)){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)n[i]=this[r+i];return n}setColumn(e,n){const r=e*this.RANK;for(let i=0;i<this.RANK;++i)this[r+i]=n[i];return this}}function P5(){var t=new Oi(9);return Oi!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function A5(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function I5(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*s-a*c,d=-u*o+a*l,h=c*o-s*l,p=n*f+r*d+i*h;return p?(p=1/p,t[0]=f*p,t[1]=(-u*r+i*c)*p,t[2]=(a*r-i*s)*p,t[3]=d*p,t[4]=(u*n-i*l)*p,t[5]=(-a*n+i*o)*p,t[6]=h*p,t[7]=(-c*n+r*l)*p,t[8]=(s*n-r*o)*p,t):null}function M5(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8];return e*(c*o-s*l)+n*(-c*i+s*a)+r*(l*i-o*a)}function _S(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=n[0],h=n[1],p=n[2],v=n[3],_=n[4],m=n[5],y=n[6],b=n[7],w=n[8];return t[0]=d*r+h*s+p*c,t[1]=d*i+h*a+p*u,t[2]=d*o+h*l+p*f,t[3]=v*r+_*s+m*c,t[4]=v*i+_*a+m*u,t[5]=v*o+_*l+m*f,t[6]=y*r+b*s+w*c,t[7]=y*i+b*a+w*u,t[8]=y*o+b*l+w*f,t}function O5(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=n[0],h=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=l,t[6]=d*r+h*s+c,t[7]=d*i+h*a+u,t[8]=d*o+h*l+f,t}function L5(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=Math.sin(n),h=Math.cos(n);return t[0]=h*r+d*s,t[1]=h*i+d*a,t[2]=h*o+d*l,t[3]=h*s-d*r,t[4]=h*a-d*i,t[5]=h*l-d*o,t[6]=c,t[7]=u,t[8]=f,t}function wS(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function R5(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,f=r*a,d=i*s,h=i*a,p=i*l,v=o*s,_=o*a,m=o*l;return t[0]=1-f-p,t[3]=u-m,t[6]=d+_,t[1]=u+m,t[4]=1-c-p,t[7]=h-v,t[2]=d-_,t[5]=h+v,t[8]=1-c-f,t}var e0;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL1ROW0=3]="COL1ROW0",t[t.COL1ROW1=4]="COL1ROW1",t[t.COL1ROW2=5]="COL1ROW2",t[t.COL2ROW0=6]="COL2ROW0",t[t.COL2ROW1=7]="COL2ROW1",t[t.COL2ROW2=8]="COL2ROW2"})(e0||(e0={}));const N5=Object.freeze([1,0,0,0,1,0,0,0,1]);class Bn extends bA{static get IDENTITY(){return F5()}static get ZERO(){return k5()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return e0}constructor(e,...n){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):n.length>0?this.copy([e,...n]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(N5)}fromObject(e){return this.check()}fromQuaternion(e){return R5(this,e),this.check()}set(e,n,r,i,o,s,a,l,c){return this[0]=e,this[1]=n,this[2]=r,this[3]=i,this[4]=o,this[5]=s,this[6]=a,this[7]=l,this[8]=c,this.check()}setRowMajor(e,n,r,i,o,s,a,l,c){return this[0]=e,this[1]=i,this[2]=a,this[3]=n,this[4]=o,this[5]=l,this[6]=r,this[7]=s,this[8]=c,this.check()}determinant(){return M5(this)}transpose(){return A5(this,this),this.check()}invert(){return I5(this,this),this.check()}multiplyLeft(e){return _S(this,e,this),this.check()}multiplyRight(e){return _S(this,this,e),this.check()}rotate(e){return L5(this,this,e),this.check()}scale(e){return Array.isArray(e)?wS(this,this,e):wS(this,this,[e,e]),this.check()}translate(e){return O5(this,this,e),this.check()}transform(e,n){let r;switch(e.length){case 2:r=d5(n||[-0,-0],e,this);break;case 3:r=pA(n||[-0,-0,-0],e,this);break;case 4:r=dA(n||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Lc(r,e.length),r}transformVector(e,n){return this.transform(e,n)}transformVector2(e,n){return this.transform(e,n)}transformVector3(e,n){return this.transform(e,n)}}let kf,Ff;function k5(){return kf||(kf=new Bn([0,0,0,0,0,0,0,0,0]),Object.freeze(kf)),kf}function F5(){return Ff||(Ff=new Bn,Object.freeze(Ff)),Ff}function D5(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function z5(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function t0(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],_=e[14],m=e[15],y=n*a-r*s,b=n*l-i*s,w=n*c-o*s,S=r*l-i*a,x=r*c-o*a,E=i*c-o*l,I=u*v-f*p,M=u*_-d*p,O=u*m-h*p,R=f*_-d*v,D=f*m-h*v,k=d*m-h*_,j=y*k-b*D+w*R+S*O-x*M+E*I;return j?(j=1/j,t[0]=(a*k-l*D+c*R)*j,t[1]=(i*D-r*k-o*R)*j,t[2]=(v*E-_*x+m*S)*j,t[3]=(d*x-f*E-h*S)*j,t[4]=(l*O-s*k-c*M)*j,t[5]=(n*k-i*O+o*M)*j,t[6]=(_*w-p*E-m*b)*j,t[7]=(u*E-d*w+h*b)*j,t[8]=(s*D-a*O+c*I)*j,t[9]=(r*O-n*D-o*I)*j,t[10]=(p*x-v*w+m*y)*j,t[11]=(f*w-u*x-h*y)*j,t[12]=(a*M-s*R-l*I)*j,t[13]=(n*R-r*M+i*I)*j,t[14]=(v*b-p*S-_*y)*j,t[15]=(u*S-f*b+d*y)*j,t):null}function B5(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],f=t[10],d=t[11],h=t[12],p=t[13],v=t[14],_=t[15],m=e*s-n*o,y=e*a-r*o,b=e*l-i*o,w=n*a-r*s,S=n*l-i*s,x=r*l-i*a,E=c*p-u*h,I=c*v-f*h,M=c*_-d*h,O=u*v-f*p,R=u*_-d*p,D=f*_-d*v;return m*D-y*R+b*O+w*M-S*I+x*E}function Ls(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],h=e[10],p=e[11],v=e[12],_=e[13],m=e[14],y=e[15],b=n[0],w=n[1],S=n[2],x=n[3];return t[0]=b*r+w*a+S*f+x*v,t[1]=b*i+w*l+S*d+x*_,t[2]=b*o+w*c+S*h+x*m,t[3]=b*s+w*u+S*p+x*y,b=n[4],w=n[5],S=n[6],x=n[7],t[4]=b*r+w*a+S*f+x*v,t[5]=b*i+w*l+S*d+x*_,t[6]=b*o+w*c+S*h+x*m,t[7]=b*s+w*u+S*p+x*y,b=n[8],w=n[9],S=n[10],x=n[11],t[8]=b*r+w*a+S*f+x*v,t[9]=b*i+w*l+S*d+x*_,t[10]=b*o+w*c+S*h+x*m,t[11]=b*s+w*u+S*p+x*y,b=n[12],w=n[13],S=n[14],x=n[15],t[12]=b*r+w*a+S*f+x*v,t[13]=b*i+w*l+S*d+x*_,t[14]=b*o+w*c+S*h+x*m,t[15]=b*s+w*u+S*p+x*y,t}function Th(t,e,n){var r=n[0],i=n[1],o=n[2],s,a,l,c,u,f,d,h,p,v,_,m;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*o+e[12],t[13]=e[1]*r+e[5]*i+e[9]*o+e[13],t[14]=e[2]*r+e[6]*i+e[10]*o+e[14],t[15]=e[3]*r+e[7]*i+e[11]*o+e[15]):(s=e[0],a=e[1],l=e[2],c=e[3],u=e[4],f=e[5],d=e[6],h=e[7],p=e[8],v=e[9],_=e[10],m=e[11],t[0]=s,t[1]=a,t[2]=l,t[3]=c,t[4]=u,t[5]=f,t[6]=d,t[7]=h,t[8]=p,t[9]=v,t[10]=_,t[11]=m,t[12]=s*r+u*i+p*o+e[12],t[13]=a*r+f*i+v*o+e[13],t[14]=l*r+d*i+_*o+e[14],t[15]=c*r+h*i+m*o+e[15]),t}function $1(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function j5(t,e,n,r){var i=r[0],o=r[1],s=r[2],a=Math.hypot(i,o,s),l,c,u,f,d,h,p,v,_,m,y,b,w,S,x,E,I,M,O,R,D,k,j,G;return a<Rc?null:(a=1/a,i*=a,o*=a,s*=a,l=Math.sin(n),c=Math.cos(n),u=1-c,f=e[0],d=e[1],h=e[2],p=e[3],v=e[4],_=e[5],m=e[6],y=e[7],b=e[8],w=e[9],S=e[10],x=e[11],E=i*i*u+c,I=o*i*u+s*l,M=s*i*u-o*l,O=i*o*u-s*l,R=o*o*u+c,D=s*o*u+i*l,k=i*s*u+o*l,j=o*s*u-i*l,G=s*s*u+c,t[0]=f*E+v*I+b*M,t[1]=d*E+_*I+w*M,t[2]=h*E+m*I+S*M,t[3]=p*E+y*I+x*M,t[4]=f*O+v*R+b*D,t[5]=d*O+_*R+w*D,t[6]=h*O+m*R+S*D,t[7]=p*O+y*R+x*D,t[8]=f*k+v*j+b*G,t[9]=d*k+_*j+w*G,t[10]=h*k+m*j+S*G,t[11]=p*k+y*j+x*G,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function _A(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],f=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=s*i+u*r,t[6]=a*i+f*r,t[7]=l*i+d*r,t[8]=c*i-o*r,t[9]=u*i-s*r,t[10]=f*i-a*r,t[11]=d*i-l*r,t}function $5(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],l=e[3],c=e[8],u=e[9],f=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=s*i-u*r,t[2]=a*i-f*r,t[3]=l*i-d*r,t[8]=o*r+c*i,t[9]=s*r+u*i,t[10]=a*r+f*i,t[11]=l*r+d*i,t}function wA(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],s=e[1],a=e[2],l=e[3],c=e[4],u=e[5],f=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=s*i+u*r,t[2]=a*i+f*r,t[3]=l*i+d*r,t[4]=c*i-o*r,t[5]=u*i-s*r,t[6]=f*i-a*r,t[7]=d*i-l*r,t}function V5(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],s=e[5],a=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,s,a),t[2]=Math.hypot(l,c,u),t}function U5(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n+n,a=r+r,l=i+i,c=n*s,u=r*s,f=r*a,d=i*s,h=i*a,p=i*l,v=o*s,_=o*a,m=o*l;return t[0]=1-f-p,t[1]=u+m,t[2]=d-_,t[3]=0,t[4]=u-m,t[5]=1-c-p,t[6]=h+v,t[7]=0,t[8]=d+_,t[9]=h-v,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function H5(t,e,n,r,i,o,s){var a=1/(n-e),l=1/(i-r),c=1/(o-s);return t[0]=o*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o*2*l,t[6]=0,t[7]=0,t[8]=(n+e)*a,t[9]=(i+r)*l,t[10]=(s+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*c,t[15]=0,t}function W5(t,e,n,r,i){var o=1/Math.tan(e/2),s;return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0?(s=1/(r-i),t[10]=(i+r)*s,t[14]=2*i*r*s):(t[10]=-1,t[14]=-2*r),t}var G5=W5;function q5(t,e,n,r,i,o,s){var a=1/(e-n),l=1/(r-i),c=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*a,t[13]=(i+r)*l,t[14]=(s+o)*c,t[15]=1,t}var X5=q5;function K5(t,e,n,r){var i,o,s,a,l,c,u,f,d,h,p=e[0],v=e[1],_=e[2],m=r[0],y=r[1],b=r[2],w=n[0],S=n[1],x=n[2];return Math.abs(p-w)<Rc&&Math.abs(v-S)<Rc&&Math.abs(_-x)<Rc?D5(t):(u=p-w,f=v-S,d=_-x,h=1/Math.hypot(u,f,d),u*=h,f*=h,d*=h,i=y*d-b*f,o=b*u-m*d,s=m*f-y*u,h=Math.hypot(i,o,s),h?(h=1/h,i*=h,o*=h,s*=h):(i=0,o=0,s=0),a=f*s-d*o,l=d*i-u*s,c=u*o-f*i,h=Math.hypot(a,l,c),h?(h=1/h,a*=h,l*=h,c*=h):(a=0,l=0,c=0),t[0]=i,t[1]=a,t[2]=u,t[3]=0,t[4]=o,t[5]=l,t[6]=f,t[7]=0,t[8]=s,t[9]=c,t[10]=d,t[11]=0,t[12]=-(i*p+o*v+s*_),t[13]=-(a*p+l*v+c*_),t[14]=-(u*p+f*v+d*_),t[15]=1,t)}function Y5(){var t=new Oi(4);return Oi!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Z5(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function V1(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function Q5(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.hypot(e,n,r,i)}function J5(t){var e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function eB(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s)),t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=o*s,t}function tB(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function nB(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=s+r*(n[2]-s),t[3]=a+r*(n[3]-a),t}function Rl(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,t}function rB(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],l=n[2],c=n[3],u=c*r+a*o-l*i,f=c*i+l*r-s*o,d=c*o+s*i-a*r,h=-s*r-a*i-l*o;return t[0]=u*c+h*-s+f*-l-d*-a,t[1]=f*c+h*-a+d*-s-u*-l,t[2]=d*c+h*-l+u*-a-f*-s,t[3]=e[3],t}(function(){var t=Y5();return function(e,n,r,i,o,s){var a,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,a=r;a<l;a+=n)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}})();var n0;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(n0||(n0={}));const iB=45*Math.PI/180,oB=1,em=.1,tm=500,sB=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Tr extends bA{static get IDENTITY(){return lB()}static get ZERO(){return aB()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return n0}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,n,r,i,o,s,a,l,c,u,f,d,h,p,v,_){return this[0]=e,this[1]=n,this[2]=r,this[3]=i,this[4]=o,this[5]=s,this[6]=a,this[7]=l,this[8]=c,this[9]=u,this[10]=f,this[11]=d,this[12]=h,this[13]=p,this[14]=v,this[15]=_,this.check()}setRowMajor(e,n,r,i,o,s,a,l,c,u,f,d,h,p,v,_){return this[0]=e,this[1]=o,this[2]=c,this[3]=h,this[4]=n,this[5]=s,this[6]=u,this[7]=p,this[8]=r,this[9]=a,this[10]=f,this[11]=v,this[12]=i,this[13]=l,this[14]=d,this[15]=_,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(sB)}fromObject(e){return this.check()}fromQuaternion(e){return U5(this,e),this.check()}frustum(e){const{left:n,right:r,bottom:i,top:o,near:s=em,far:a=tm}=e;return a===1/0?cB(this,n,r,i,o,s):H5(this,n,r,i,o,s,a),this.check()}lookAt(e){const{eye:n,center:r=[0,0,0],up:i=[0,1,0]}=e;return K5(this,n,r,i),this.check()}ortho(e){const{left:n,right:r,bottom:i,top:o,near:s=em,far:a=tm}=e;return X5(this,n,r,i,o,s,a),this.check()}orthographic(e){const{fovy:n=iB,aspect:r=oB,focalDistance:i=1,near:o=em,far:s=tm}=e;SS(n);const a=n/2,l=i*Math.tan(a),c=l*r;return this.ortho({left:-c,right:c,bottom:-l,top:l,near:o,far:s})}perspective(e){const{fovy:n=45*Math.PI/180,aspect:r=1,near:i=.1,far:o=500}=e;return SS(n),G5(this,n,r,i,o),this.check()}determinant(){return B5(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],o=1/r[1],s=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*i,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*i,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,n){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],n=n||[-0,-0,-0];const r=this.getScale(n),i=1/r[0],o=1/r[1],s=1/r[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*i,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*i,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return z5(this,this),this.check()}invert(){return t0(this,this),this.check()}multiplyLeft(e){return Ls(this,e,this),this.check()}multiplyRight(e){return Ls(this,this,e),this.check()}rotateX(e){return _A(this,this,e),this.check()}rotateY(e){return $5(this,this,e),this.check()}rotateZ(e){return wA(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,n){return j5(this,this,e,n),this.check()}scale(e){return $1(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return Th(this,this,e),this.check()}transform(e,n){return e.length===4?(n=Rl(n||[-0,-0,-0,-0],e,this),Lc(n,4),n):this.transformAsPoint(e,n)}transformAsPoint(e,n){const{length:r}=e;let i;switch(r){case 2:i=h5(n||[-0,-0],e,this);break;case 3:i=B1(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Lc(i,e.length),i}transformAsVector(e,n){let r;switch(e.length){case 2:r=g5(n||[-0,-0],e,this);break;case 3:r=fA(n||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Lc(r,e.length),r}transformPoint(e,n){return this.transformAsPoint(e,n)}transformVector(e,n){return this.transformAsPoint(e,n)}transformDirection(e,n){return this.transformAsVector(e,n)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,n,r){return this.identity().translate([e,n,r])}}let Df,zf;function aB(){return Df||(Df=new Tr([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Df)),Df}function lB(){return zf||(zf=new Tr,Object.freeze(zf)),zf}function SS(t){if(t>Math.PI*2)throw Error("expected radians")}function cB(t,e,n,r,i,o){const s=2*o/(n-e),a=2*o/(i-r),l=(n+e)/(n-e),c=(i+r)/(i-r),u=-1,f=-1,d=-2*o;return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=l,t[9]=c,t[10]=u,t[11]=f,t[12]=0,t[13]=0,t[14]=d,t[15]=0,t}function ES(){var t=new Oi(4);return Oi!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function uB(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function SA(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function xS(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+s*a+i*c-o*l,t[1]=i*u+s*l+o*a-r*c,t[2]=o*u+s*c+r*l-i*a,t[3]=s*u-r*a-i*l-o*c,t}function fB(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+s*a,t[1]=i*l+o*a,t[2]=o*l-i*a,t[3]=s*l-r*a,t}function dB(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l-o*a,t[1]=i*l+s*a,t[2]=o*l+r*a,t[3]=s*l-i*a,t}function hB(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],s=e[3],a=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*a,t[1]=i*l-r*a,t[2]=o*l+s*a,t[3]=s*l-o*a,t}function gB(t,e){var n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t}function Pd(t,e,n,r){var i=e[0],o=e[1],s=e[2],a=e[3],l=n[0],c=n[1],u=n[2],f=n[3],d,h,p,v,_;return h=i*l+o*c+s*u+a*f,h<0&&(h=-h,l=-l,c=-c,u=-u,f=-f),1-h>Rc?(d=Math.acos(h),p=Math.sin(d),v=Math.sin((1-r)*d)/p,_=Math.sin(r*d)/p):(v=1-r,_=r),t[0]=v*i+_*l,t[1]=v*o+_*c,t[2]=v*s+_*u,t[3]=v*a+_*f,t}function pB(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o,a=s?1/s:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t}function mB(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function EA(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var o=(i+1)%3,s=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[o*3+o]-e[s*3+s]+1),t[i]=.5*r,r=.5/r,t[3]=(e[o*3+s]-e[s*3+o])*r,t[o]=(e[o*3+i]+e[i*3+o])*r,t[s]=(e[s*3+i]+e[i*3+s])*r}return t}var vB=Z5,yB=V1,bB=tB,_B=nB,wB=Q5,SB=J5,xA=eB,EB=function(){var t=hA(),e=bS(1,0,0),n=bS(0,1,0);return function(r,i,o){var s=gA(i,o);return s<-.999999?(Td(t,e,i),yA(t)<1e-6&&Td(t,n,i),w5(t,t),SA(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Td(t,i,o),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,xA(r,r))}}();(function(){var t=ES(),e=ES();return function(n,r,i,o,s,a){return Pd(t,r,s,a),Pd(e,i,o,a),Pd(n,t,e,2*a*(1-a)),n}})();(function(){var t=P5();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],xA(e,EA(e,t))}})();const xB=[0,0,0,1];class CS extends z1{constructor(e=0,n=0,r=0,i=1){super(-0,-0,-0,-0),Array.isArray(e)&&arguments.length===1?this.copy(e):this.set(e,n,r,i)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,n,r,i){return this[0]=e,this[1]=n,this[2]=r,this[3]=i,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return EA(this,e),this.check()}fromAxisRotation(e,n){return SA(this,e,n),this.check()}identity(){return uB(this),this.check()}setAxisAngle(e,n){return this.fromAxisRotation(e,n)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=Nt(e)}get y(){return this[1]}set y(e){this[1]=Nt(e)}get z(){return this[2]}set z(e){this[2]=Nt(e)}get w(){return this[3]}set w(e){this[3]=Nt(e)}len(){return wB(this)}lengthSquared(){return SB(this)}dot(e){return bB(this,e)}rotationTo(e,n){return EB(this,e,n),this.check()}add(e){return vB(this,this,e),this.check()}calculateW(){return gB(this,this),this.check()}conjugate(){return mB(this,this),this.check()}invert(){return pB(this,this),this.check()}lerp(e,n,r){return r===void 0?this.lerp(this,e,n):(_B(this,e,n,r),this.check())}multiplyRight(e){return xS(this,this,e),this.check()}multiplyLeft(e){return xS(this,e,this),this.check()}normalize(){const e=this.len(),n=e>0?1/e:0;return this[0]=this[0]*n,this[1]=this[1]*n,this[2]=this[2]*n,this[3]=this[3]*n,e===0&&(this[3]=1),this.check()}rotateX(e){return fB(this,this,e),this.check()}rotateY(e){return dB(this,this,e),this.check()}rotateZ(e){return hB(this,this,e),this.check()}scale(e){return yB(this,this,e),this.check()}slerp(e,n,r){let i,o,s;switch(arguments.length){case 1:({start:i=xB,target:o,ratio:s}=e);break;case 2:i=this,o=e,s=n;break;default:i=e,o=n,s=r}return Pd(this,i,o,s),this.check()}transformVector4(e,n=new j1){return rB(n,e,this),Lc(n,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,n){return this.setAxisAngle(e,n)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}}const CA={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,PI_OVER_TWO:Math.PI/2,PI_OVER_FOUR:Math.PI/4,PI_OVER_SIX:Math.PI/6,TWO_PI:Math.PI*2},TS=`#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))

struct AmbientLight {
 vec3 color;
};

struct PointLight {
 vec3 color;
 vec3 position;
 vec3 attenuation;
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform AmbientLight lighting_uAmbientLight;
uniform PointLight lighting_uPointLight[MAX_LIGHTS];
uniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];
uniform int lighting_uPointLightCount;
uniform int lighting_uDirectionalLightCount;

uniform bool lighting_uEnabled;

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

#endif
`,CB={lightSources:{}};function nm(){let{color:t=[0,0,0],intensity:e=1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.map(n=>n*e/255)}function TB(t){let{ambientLight:e,pointLights:n=[],directionalLights:r=[]}=t;const i={};return e?i["lighting_uAmbientLight.color"]=nm(e):i["lighting_uAmbientLight.color"]=[0,0,0],n.forEach((o,s)=>{i["lighting_uPointLight[".concat(s,"].color")]=nm(o),i["lighting_uPointLight[".concat(s,"].position")]=o.position,i["lighting_uPointLight[".concat(s,"].attenuation")]=o.attenuation||[1,0,0]}),i.lighting_uPointLightCount=n.length,r.forEach((o,s)=>{i["lighting_uDirectionalLight[".concat(s,"].color")]=nm(o),i["lighting_uDirectionalLight[".concat(s,"].direction")]=o.direction}),i.lighting_uDirectionalLightCount=r.length,i}function TA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CB;if("lightSources"in t){const{ambientLight:e,pointLights:n,directionalLights:r}=t.lightSources||{};return e||n&&n.length>0||r&&r.length>0?Object.assign({},TB({ambientLight:e,pointLights:n,directionalLights:r}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){const e={pointLights:[],directionalLights:[]};for(const n of t.lights||[])switch(n.type){case"ambient":e.ambientLight=n;break;case"directional":e.directionalLights.push(n);break;case"point":e.pointLights.push(n);break}return TA({lightSources:e})}return{}}const PB={name:"lights",vs:TS,fs:TS,getUniforms:TA,defines:{MAX_LIGHTS:3}},AB=new Uint8Array([0,255,255,255]),IB={pickingSelectedColor:null,pickingHighlightColor:AB,pickingActive:!1,pickingAttribute:!1};function MB(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:IB;const e={};if(t.pickingSelectedColor!==void 0)if(!t.pickingSelectedColor)e.picking_uSelectedColorValid=0;else{const n=t.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=n}if(t.pickingHighlightColor){const n=Array.from(t.pickingHighlightColor,r=>r/255);Number.isFinite(n[3])||(n[3]=1),e.picking_uHighlightColor=n}return t.pickingActive!==void 0&&(e.picking_uActive=!!t.pickingActive,e.picking_uAttribute=!!t.pickingAttribute),e}const OB=`uniform bool picking_uActive;
uniform bool picking_uAttribute;
uniform vec3 picking_uSelectedColor;
uniform bool picking_uSelectedColorValid;

out vec4 picking_vRGBcolor_Avalid;

const float COLOR_SCALE = 1. / 255.;

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.001;
}

bool isVertexPicked(vec3 vertexColor) {
  return
    picking_uSelectedColorValid &&
    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));
}

void picking_setPickingColor(vec3 pickingColor) {
  if (picking_uActive) {
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!picking_uAttribute) {
      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;
    }
  } else {
    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.r = value;
  }
}
void picking_setPickingAttribute(vec2 value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}
void picking_setPickingAttribute(vec3 value) {
  if (picking_uAttribute) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,LB=`uniform bool picking_uActive;
uniform vec3 picking_uSelectedColor;
uniform vec4 picking_uHighlightColor;

in vec4 picking_vRGBcolor_Avalid;
vec4 picking_filterHighlightColor(vec4 color) {
  if (picking_uActive) {
    return color;
  }
  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    float highLightAlpha = picking_uHighlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}
vec4 picking_filterPickingColor(vec4 color) {
  if (picking_uActive) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}
vec4 picking_filterColor(vec4 color) {
  vec4 highightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highightColor);
}

`,RB={name:"picking",vs:OB,fs:LB,getUniforms:MB},NB=`
uniform float lighting_uAmbient;
uniform float lighting_uDiffuse;
uniform float lighting_uShininess;
uniform vec3  lighting_uSpecularColor;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
    vec3 halfway_direction = normalize(light_direction + view_direction);
    float lambertian = dot(light_direction, normal_worldspace);
    float specular = 0.0;
    if (lambertian > 0.0) {
      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
      specular = pow(specular_angle, lighting_uShininess);
    }
    lambertian = max(lambertian, 0.0);
    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting_uEnabled) {
    vec3 view_direction = normalize(cameraPosition - position_worldspace);
    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uPointLightCount) {
        break;
      }
      PointLight pointLight = lighting_uPointLight[i];
      vec3 light_position_worldspace = pointLight.position;
      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
    }

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uDirectionalLightCount) {
        break;
      }
      DirectionalLight directionalLight = lighting_uDirectionalLight[i];
      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
    }
  }
  return lightColor;
}

vec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = vec3(0, 0, 0);
  vec3 surfaceColor = vec3(0, 0, 0);

  if (lighting_uEnabled) {
    vec3 view_direction = normalize(cameraPosition - position_worldspace);

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uPointLightCount) {
        break;
      }
      PointLight pointLight = lighting_uPointLight[i];
      vec3 light_position_worldspace = pointLight.position;
      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
    }

    for (int i = 0; i < MAX_LIGHTS; i++) {
      if (i >= lighting_uDirectionalLightCount) {
        break;
      }
      DirectionalLight directionalLight = lighting_uDirectionalLight[i];
      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
    }
  }
  return lightColor;
}
`,kB={};function FB(t){const{ambient:e=.35,diffuse:n=.6,shininess:r=32,specularColor:i=[30,30,30]}=t;return{lighting_uAmbient:e,lighting_uDiffuse:n,lighting_uShininess:r,lighting_uSpecularColor:i.map(o=>o/255)}}function DB(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kB;if(!("material"in t))return{};const{material:e}=t;return e?FB(e):{lighting_uEnabled:!1}}const zB={name:"gouraud-lighting",dependencies:[PB],vs:NB,defines:{LIGHTING_VERTEX:1},getUniforms:DB},BB=`attribute float transform_elementID;
vec2 transform_getPixelSizeHalf(vec2 size) {
  return vec2(1.) / (2. * size);
}

vec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {
  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);
  float xIndex = transform_elementID - (yIndex * texSize[0]);
  return vec2(xIndex, yIndex);
}
vec2 transform_getTexCoord(vec2 size) {
  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);
  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);
  vec2 coord = indices / size + pixelSizeHalf;
  return coord;
}
vec2 transform_getPos(vec2 size) {
  vec2 texCoord = transform_getTexCoord(size);
  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);
  return pos;
}
vec4 transform_getInput(sampler2D texSampler, vec2 size) {
  vec2 texCoord = transform_getTexCoord(size);
  vec4 textureColor = texture2D(texSampler, texCoord);
  return textureColor;
}
`,jB={name:"transform",vs:BB,fs:null};class Hu{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new Hu(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find(n=>n.name===e.name)||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const n=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(r=>r.name!==n),this.stateHash++}addShaderHook(e,n){n&&(e=Object.assign(n,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{vs:n="",fs:r="",defines:i={},inject:o={},varyings:s=[],bufferMode:a=35981,transpileToGLSL100:l=!1}=e,c=this._getModuleList(e.modules),u=this._getHash(n),f=this._getHash(r),d=c.map(b=>this._getHash(b.name)).sort(),h=s.map(b=>this._getHash(b)),p=Object.keys(i).sort(),v=Object.keys(o).sort(),_=[],m=[];for(const b of p)_.push(this._getHash(b)),_.push(this._getHash(i[b]));for(const b of v)m.push(this._getHash(b)),m.push(this._getHash(o[b]));const y="".concat(u,"/").concat(f,"D").concat(_.join("/"),"M").concat(d.join("/"),"I").concat(m.join("/"),"V").concat(h.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(l?"T":"");if(!this._programCache[y]){const b=Hz(this.gl,{vs:n,fs:r,modules:c,inject:o,defines:i,hookFunctions:this._hookFunctions,transpileToGLSL100:l});this._programCache[y]=new JP(this.gl,{hash:y,vs:b.vs,fs:b.fs,varyings:s,bufferMode:a}),this._getUniforms[y]=b.getUniforms||(w=>{}),this._useCounts[y]=0}return this._useCounts[y]++,this._programCache[y]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const n=e.hash;this._useCounts[n]--,this._useCounts[n]===0&&(this._programCache[n].delete(),delete this._programCache[n],delete this._getUniforms[n],delete this._useCounts[n])}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=new Array(this._defaultModules.length+e.length),r={};let i=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],l=a.name;n[i++]=a,r[l]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],l=a.name;r[l]||(n[i++]=a,r[l]=!0)}return n.length=i,n}}const $B={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function VB(t,e,n){const r={};let i=e.indices;for(const o in e.attributes){const s=e.attributes[o],a=UB(o,n);if(o==="indices")i=s;else if(s.constant)r[a]=s.value;else{const l=s.value,c={...s};delete c.value,r[a]=[new Lt(t,l),c],HB(o,c)}}if(i){const o=i.value||i;me(o instanceof Uint16Array||o instanceof Uint32Array,'attribute array for "indices" must be of integer type');const s={size:1,isIndexed:i.isIndexed===void 0?!0:i.isIndexed};r.indices=[new Lt(t,{data:o,target:34963}),s]}return r}function UB(t,e){const{attributeMap:n=$B}=e||{};return n&&n[t]||t}function HB(t,e){let n;switch(t){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors";break}switch(n){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2;break}me(Number.isFinite(e.size),"attribute ".concat(t," needs size"))}const pa=2,WB=1e4,GB="Model needs drawMode and vertexCount",PS=()=>{},qB={};class is{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{id:r=rs("model")}=n;me(pg(e)),this.id=r,this.gl=e,this.id=n.id||rs("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(n)}initialize(e){this.props={},this.programManager=e.programManager||Hu.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:n=null,vs:r,fs:i,modules:o,defines:s,inject:a,varyings:l,bufferMode:c,transpileToGLSL100:u}=e;this.programProps={program:n,vs:r,fs:i,modules:o,defines:s,inject:a,varyings:l,bufferMode:c,transpileToGLSL100:u},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=e.drawMode!==void 0?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},me(this.drawMode!==void 0&&Number.isFinite(this.vertexCount),GB)}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:n,vs:r,fs:i,modules:o,defines:s,inject:a,varyings:l,bufferMode:c,transpileToGLSL100:u}=e;this.programProps={program:n,vs:r,fs:i,modules:o,defines:s,inject:a,varyings:l,bufferMode:c,transpileToGLSL100:u},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return me(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return me(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=VB(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(hl(e))return this;const n={};for(const r in e){const i=e[r];n[r]=i.getValue?i.getValue():i}return this.vertexArray.setAttributes(n),this}setUniforms(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(this.uniforms,e),this}getModuleUniforms(e){this._checkProgram();const n=this.programManager.getUniforms(this.program);return n?n(e):{}}updateModuleSettings(e){const n=this.getModuleUniforms(e||{});return this.setUniforms(n)}clear(e){return R1(this.program.gl,e),this}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._checkProgram();const{moduleSettings:n=null,framebuffer:r,uniforms:i={},attributes:o={},transformFeedback:s=this.transformFeedback,parameters:a={},vertexArray:l=this.vertexArray}=e;this.setAttributes(o),this.updateModuleSettings(n),this.setUniforms(i);let c;Oe.priority>=pa&&(c=this._logDrawCallStart(pa));const u=this.vertexArray.getDrawParams(),{isIndexed:f=u.isIndexed,indexType:d=u.indexType,indexOffset:h=u.indexOffset,vertexArrayInstanced:p=u.isInstanced}=this.props;p&&!this.isInstanced&&Oe.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:v,instanceCount:_}=this,{onBeforeRender:m=PS,onAfterRender:y=PS}=this.props;m(),this.program.setUniforms(this.uniforms);const b=this.program.draw(Object.assign(qB,e,{logPriority:c,uniforms:null,framebuffer:r,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:l,transformFeedback:s,isIndexed:f,indexType:d,isInstanced:v,instanceCount:_,offset:f?h:0}));return y(),Oe.priority>=pa&&this._logDrawCallEnd(c,l,r),b}transform(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{discard:n=!0,feedbackBuffers:r,unbindModels:i=[]}=e;let{parameters:o}=e;r&&this._setFeedbackBuffers(r),n&&(o=Object.assign({},o,{35977:n})),i.forEach(s=>s.vertexArray.unbindBuffers());try{this.draw(Object.assign({},e,{parameters:o}))}finally{i.forEach(s=>s.vertexArray.bindBuffers())}return this}render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Oe.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:n}=this.programProps;if(n)this._managedProgram=!1;else{const{vs:r,fs:i,modules:o,inject:s,defines:a,varyings:l,bufferMode:c,transpileToGLSL100:u}=this.programProps;n=this.programManager.get({vs:r,fs:i,modules:o,inject:s,defines:a,varyings:l,bufferMode:c,transpileToGLSL100:u}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}me(n instanceof JP,"Model needs a program"),this._programDirty=!1,n!==this.program&&(this.program=n,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new oz(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const n=this.geometryBuffers[e][0]||this.geometryBuffers[e];n instanceof Lt&&n.delete()}}_setAnimationProps(e){this.animated&&me(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(hl(e))return this;const{gl:n}=this.program;return this.transformFeedback=this.transformFeedback||new eA(n,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const n=e>3?0:WB;if(!(Date.now()-this.lastLogTime<n))return this.lastLogTime=Date.now(),Oe.group(pa,">>> DRAWING MODEL ".concat(this.id),{collapsed:Oe.level<=2})(),e}_logDrawCallEnd(e,n,r,i){if(e===void 0)return;const o=lz({vertexArray:n,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:s,unusedTable:a,unusedCount:l}=aS({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r)}),{table:c,count:u}=aS({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,r),undefinedOnly:!0});u>0&&Oe.log("MISSING UNIFORMS",Object.keys(c))(),l>0&&Oe.log("UNUSED UNIFORMS",Object.keys(a))();const f=uz(this.vertexArray.configuration);Oe.table(e,o)(),Oe.table(e,s)(),Oe.table(e+1,f)(),i&&i.log({logLevel:pa,message:"Rendered to ".concat(i.id)}),Oe.groupEnd(pa)()}}class XB{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}setupResources(e){for(const n of this.bindings)this._setupTransformFeedback(n,e)}updateModelProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{varyings:n}=this;return n.length>0&&(e=Object.assign({},e,{varyings:n})),e}getDrawOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.bindings[this.currentIndex],{sourceBuffers:r,transformFeedback:i}=n;return{attributes:Object.assign({},r,e.attributes),transformFeedback:i}}swap(){return this.feedbackMap?(this.currentIndex=this._getNextIndex(),!0):!1}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupBuffers(e)}getBuffer(e){const{feedbackBuffers:n}=this.bindings[this.currentIndex],r=e?n[e]:null;return r?r instanceof Lt?r:r.buffer:null}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{varyingName:n}=e,r=this.getBuffer(n);return r?r.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&me(ot(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:n={}}=e,r={};if(this.bindings[this.currentIndex]&&Object.assign(r,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const i in this.feedbackMap){const o=this.feedbackMap[i];i in n&&(r[o]=i)}Object.assign(r,e.feedbackBuffers);for(const i in r){const o=r[i];if(typeof o=="string"){const s=n[o],{byteLength:a,usage:l,accessor:c}=s;r[i]=this._createNewBuffer(i,{byteLength:a,usage:l,accessor:c})}}return r}_setupBuffers(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:n=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const r=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:n,feedbackBuffers:r})}_setupTransformFeedback(e,n){let{model:r}=n;const{program:i}=r;e.transformFeedback=new eA(this.gl,{program:i,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:n,feedbackBuffers:r}=this._swapBuffers(this.bindings[this.currentIndex]),i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceBuffers:n,feedbackBuffers:r})}}_updateBinding(e,n){return e?(Object.assign(e.sourceBuffers,n.sourceBuffers),Object.assign(e.feedbackBuffers,n.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},n.sourceBuffers),feedbackBuffers:Object.assign({},n.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const n=Object.assign({},e.sourceBuffers),r=Object.assign({},e.feedbackBuffers);for(const i in this.feedbackMap){const o=this.feedbackMap[i];n[i]=e.feedbackBuffers[o],r[o]=e.sourceBuffers[i],me(r[o]instanceof Lt)}return{sourceBuffers:n,feedbackBuffers:r}}_createNewBuffer(e,n){const r=new Lt(this.gl,n);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=r,r}_getNextIndex(){return(this.currentIndex+1)%2}}const KB="transform_uSampler_",Ph="transform_uSize_",AS="transform_position";function YB(t){let{vs:e,sourceTextureMap:n,targetTextureVarying:r,targetTexture:i}=t,s=Object.keys(n).length,a=null;const l={};let c=e,u={};if(s>0||r){const f=c.split(`
`),d=f.slice();if(f.forEach((h,p,v)=>{if(s>0){const _=tj(h,n);if(_){const{updatedLine:m,inject:y}=_;d[p]=m,u=Zv([u,y]),Object.assign(l,_.samplerTextureMap),s--}}r&&!a&&(a=ej(h,r))}),r){me(i);const h="".concat(Ph).concat(r),p="uniform vec2 ".concat(h,`;
`),v="     vec2 ".concat(AS," = transform_getPos(").concat(h,`);
     gl_Position = vec4(`).concat(AS,`, 0, 1.);
`);u=Zv([u,{"vs:#decl":p,"vs:#main-start":v}])}c=d.join(`
`)}return{vs:c,targetTextureType:a,inject:u,samplerTextureMap:l}}function ZB(t){let{sourceTextureMap:e,targetTextureVarying:n,targetTexture:r}=t;const i={};let o,s;n&&({width:o,height:s}=r,i["".concat(Ph).concat(n)]=[o,s]);for(const a in e)({width:o,height:s}=e[a]),i["".concat(Ph).concat(a)]=[o,s];return i}function QB(t){return aA(t,["attribute","in"])}function JB(t){const e="".concat(KB).concat(t),n="".concat(Ph).concat(t),r="  uniform sampler2D ".concat(e,`;
  uniform vec2 `).concat(n,";");return{samplerName:e,sizeName:n,uniformDeclerations:r}}function ej(t,e){const n=aA(t,["varying","out"]);return n&&n.name===e?n.type:null}function tj(t,e){const n={},r=QB(t);if(!r)return null;const{type:i,name:o}=r;if(o&&e[o]){const s="// ".concat(t," => Replaced by Transform with a sampler"),{samplerName:a,sizeName:l,uniformDeclerations:c}=JB(o),u=Jz(i),f="  ".concat(i," ").concat(o," = transform_getInput(").concat(a,", ").concat(l,").").concat(u,`;
`);return n[a]=o,{updatedLine:s,inject:{"vs:#decl":c,"vs:#main-start":f},samplerTextureMap:n}}return null}const nj={10241:9728,10240:9728,10242:33071,10243:33071},rj="transform_output";class ij{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(n),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this._processVertexShader(e);return Object.assign({},e,n)}getDrawOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:n,sourceTextures:r,framebuffer:i,targetTexture:o}=this.bindings[this.currentIndex],s=Object.assign({},n,e.attributes),a=Object.assign({},e.uniforms),l=Object.assign({},e.parameters);let c=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){s.transform_elementID=this.elementIDBuffer;for(const f in this.samplerTextureMap){const d=this.samplerTextureMap[f];a[f]=r[d]}this._setSourceTextureParameters();const u=ZB({sourceTextureMap:r,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(a,u)}return this.hasTargetTexture&&(c=!1,l.viewport=[0,0,i.width,i.height]),{attributes:s,framebuffer:i,uniforms:a,discard:c,parameters:l}}swap(){return this._swapTexture?(this.currentIndex=this._getNextIndex(),!0):!1}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setupTextures(e)}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{framebuffer:n}=this.bindings[this.currentIndex],r=vg(n);if(!e)return r;const i=r.constructor,o=e5(this.targetTextureType),s=new i(r.length*o/4);let a=0;for(let l=0;l<r.length;l+=4)for(let c=0;c<o;c++)s[a++]=r[l+c];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{_targetTextureVarying:n,_swapTexture:r}=e;this._swapTexture=r,this.targetTextureVarying=n,this.hasTargetTexture=n,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:n,textureOrReference:r}=e;if(r instanceof Gr)return r;const i=n[r];return i?(this._targetRefTexName=r,this._createNewTexture(i)):null}_setupTextures(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceBuffers:n,_sourceTextures:r={},_targetTexture:i}=e,o=this._createTargetTexture({sourceTextures:r,textureOrReference:i});this.hasSourceTextures=this.hasSourceTextures||r&&Object.keys(r).length>0,this._updateBindings({sourceBuffers:n,sourceTextures:r,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if(typeof e!="number"||this.elementCount>=e)return;const n=new Float32Array(e);n.forEach((r,i,o)=>{o[i]=i}),this.elementIDBuffer?this.elementIDBuffer.setData({data:n}):this.elementIDBuffer=new Lt(this.gl,{data:n,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:n,targetTexture:r}=this._swapTextures(this.bindings[this.currentIndex]),i=this._getNextIndex();this.bindings[i]=this._updateBinding(this.bindings[i],{sourceTextures:n,targetTexture:r})}}_updateBinding(e,n){const{sourceBuffers:r,sourceTextures:i,targetTexture:o}=n;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,i),Object.assign(e.sourceBuffers,r),o){e.targetTexture=o;const{width:s,height:a}=o,{framebuffer:l}=e;l?(l.update({attachments:{36064:o},resizeAttachments:!1}),l.resize({width:s,height:a})):e.framebuffer=new In(this.gl,{id:"transform-framebuffer",width:s,height:a,attachments:{36064:o}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:n}=this.bindings[e];for(const r in n)n[r].setParameters(nj)}_swapTextures(e){if(!this._swapTexture)return null;const n=Object.assign({},e.sourceTextures);n[this._swapTexture]=e.targetTexture;const r=e.sourceTextures[this._swapTexture];return{sourceTextures:n,targetTexture:r}}_createNewTexture(e){const n=XD(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=n,n}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{sourceTextures:n,targetTexture:r}=this.bindings[this.currentIndex],{vs:i,uniforms:o,targetTextureType:s,inject:a,samplerTextureMap:l}=YB({vs:e.vs,sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:r}),c=Zv([e.inject||{},a]);this.targetTextureType=s,this.samplerTextureMap=l;const u=e._fs||lA({version:ZP(i),input:this.targetTextureVarying,inputType:s,output:rj}),f=this.hasSourceTextures||this.targetTextureVarying?[jB].concat(e.modules||[]):e.modules;return{vs:i,fs:u,modules:f,uniforms:o,inject:c}}}class U1{static isSupported(e){return ot(e)}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(n),Object.seal(this)}delete(){const{model:e,bufferTransform:n,textureTransform:r}=this;e&&e.delete(),n&&n.delete(),r&&r.delete()}run(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{clearRenderTarget:n=!0}=e,r=this._updateDrawOptions(e);n&&r.framebuffer&&r.framebuffer.clear({color:!0}),this.model.transform(r)}swap(){let e=!1;const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of n)e=e||r.swap();me(e,"Nothing to swap")}getBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of n){const i=r.getData(e);if(i)return i}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of n)r.update(e)}_initialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{gl:n}=this;this._buildResourceTransforms(n,e),e=this._updateModelProps(e),this.model=new is(n,Object.assign({},e,{fs:e.fs||lA({version:ZP(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let n=Object.assign({},e);const r=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of r)n=i.updateModelProps(n);return n}_buildResourceTransforms(e,n){oj(n)&&(this.bufferTransform=new XB(e,n)),sj(n)&&(this.textureTransform=new ij(e,n)),me(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let n=Object.assign({},e);const r=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of r)n=Object.assign(n,i.getDrawOptions(n));return n}}function oj(t){return!!(!hl(t.feedbackBuffers)||!hl(t.feedbackMap)||t.varyings&&t.varyings.length>0)}function sj(t){return!!(!hl(t._sourceTextures)||t._targetTexture||t._targetTextureVarying)}const IS={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class Nl{static get DRAW_MODE(){return IS}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:n=rs("geometry"),drawMode:r=IS.TRIANGLES,attributes:i={},indices:o=null,vertexCount:s=null}=e;this.id=n,this.drawMode=r|0,this.attributes={},this.userData={},this._setAttributes(i,o),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,n){n&&(this.indices=ArrayBuffer.isView(n)?{value:n,size:1}:n);for(const r in e){let i=e[r];i=ArrayBuffer.isView(i)?{value:i}:i,me(ArrayBuffer.isView(i.value),"".concat(this._print(r),": must be typed array or object with value as typed array")),(r==="POSITION"||r==="positions")&&!i.size&&(i.size=3),r==="indices"?(me(!this.indices),this.indices=i):this.attributes[r]=i}return this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,n){if(n)return n.value.length;let r=1/0;for(const i in e){const o=e[i],{value:s,size:a,constant:l}=o;!l&&s&&a>=1&&(r=Math.min(r,s.length/a))}return me(Number.isFinite(r)),r}}let aj=1,lj=1;class PA{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:n=0,duration:r=Number.POSITIVE_INFINITY,rate:i=1,repeat:o=1}=e,s=aj++,a={time:0,delay:n,duration:r,rate:i,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[n,r]of this.animations)r.channel===e&&this.detachAnimation(n)}isFinished(e){const n=this.channels.get(e);return n===void 0?!1:this.time>=n.delay+n.duration*n.repeat}getTime(e){if(e===void 0)return this.time;const n=this.channels.get(e);return n===void 0?-1:n.time}setTime(e){this.time=Math.max(0,e);const n=this.channels.values();for(const i of n)this._setChannelTime(i,this.time);const r=this.animations.values();for(const i of r){const{animation:o,channel:s}=i;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,n){const r=lj++;return this.animations.set(r,{animation:e,channel:n}),e.setTime(this.getTime(n)),r}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,n){const r=n-e.delay,i=e.duration*e.repeat;r>=i?e.time=e.duration*e.rate:(e.time=Math.max(0,r)%e.duration,e.time*=e.rate)}}const cj=[255,255,255],uj=1;let fj=0;class dj{constructor(e={}){P(this,"id",void 0),P(this,"color",void 0),P(this,"intensity",void 0),P(this,"type","ambient");const{color:n=cj}=e,{intensity:r=uj}=e;this.id=e.id||"ambient-".concat(fj++),this.color=n,this.intensity=r}}const hj=[255,255,255],gj=1,pj=[0,0,-1];let mj=0;class MS{constructor(e={}){P(this,"id",void 0),P(this,"color",void 0),P(this,"intensity",void 0),P(this,"type","directional"),P(this,"direction",void 0),P(this,"shadow",void 0);const{color:n=hj}=e,{intensity:r=gj}=e,{direction:i=pj}=e,{_shadow:o=!1}=e;this.id=e.id||"directional-".concat(mj++),this.color=n,this.intensity=r,this.type="directional",this.direction=new _e(i).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class vj{constructor(e,n={id:"pass"}){P(this,"id",void 0),P(this,"gl",void 0),P(this,"props",void 0);const{id:r}=n;this.id=r,this.gl=e,this.props={...n}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class H1 extends vj{constructor(...e){super(...e),P(this,"_lastRenderIndex",-1)}render(e){const n=this.gl;return po(n,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:n,moduleParameters:r,viewports:i,views:o,onViewportActive:s,clearStack:a=!0,clearCanvas:l=!0}=e;e.pass=e.pass||"unknown";const c=this.gl;l&&bj(c,n),a&&(this._lastRenderIndex=-1);const u=[];for(const f of i){const d=o&&o[f.id];s==null||s(f);const h=this._getDrawLayerParams(f,e),p=f.subViewports||[f];for(const v of p){const _=this._drawLayersInViewport(c,{target:n,moduleParameters:r,viewport:v,view:d,pass:e.pass,layers:e.layers},h);u.push(_)}}return u}_getDrawLayerParams(e,{layers:n,pass:r,isPicking:i=!1,layerFilter:o,cullRect:s,effects:a,moduleParameters:l},c=!1){const u=[],f=AA(this._lastRenderIndex+1),d={layer:n[0],viewport:e,isPicking:i,renderPass:r,cullRect:s},h={};for(let p=0;p<n.length;p++){const v=n[p],_=this._shouldDrawLayer(v,d,o,h),m={shouldDrawLayer:_};_&&!c&&(m.layerRenderIndex=f(v,_),m.moduleParameters=this._getModuleParameters(v,a,r,l),m.layerParameters=this.getLayerParameters(v,p,e)),u[p]=m}return u}_drawLayersInViewport(e,{layers:n,moduleParameters:r,pass:i,target:o,viewport:s,view:a},l){const c=yj(e,{moduleParameters:r,target:o,viewport:s});if(a&&a.props.clear){const f=a.props.clear===!0?{color:!0,depth:!0}:a.props.clear;Ti(e,{scissorTest:!0,scissor:c},()=>R1(e,f))}const u={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};po(e,{viewport:c});for(let f=0;f<n.length;f++){const d=n[f],{shouldDrawLayer:h,layerRenderIndex:p,moduleParameters:v,layerParameters:_}=l[f];if(h&&d.props.pickable&&u.pickableCount++,d.isComposite)u.compositeCount++;else if(h){u.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,p),v.viewport=s;try{d._drawLayer({moduleParameters:v,uniforms:{layerIndex:p},parameters:_})}catch(m){d.raiseError(m,"drawing ".concat(d," to ").concat(i))}}}return u}shouldDrawLayer(e){return!0}getModuleParameters(e,n){return null}getLayerParameters(e,n,r){return e.props.parameters}_shouldDrawLayer(e,n,r,i){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;n.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(n))return!1;n.layer=s,s=s.parent}if(r){const a=n.layer.id;if(a in i||(i[a]=r(n)),!i[a])return!1}return e.activateViewport(n.viewport),!0}_getModuleParameters(e,n,r,i){var o;const s=Object.assign(Object.create(((o=e.internalState)===null||o===void 0?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:dl(this.gl)});if(n)for(const l of n){var a;Object.assign(s,(a=l.getModuleParameters)===null||a===void 0?void 0:a.call(l,e))}return Object.assign(s,this.getModuleParameters(e,n),i)}}function AA(t=0,e={}){const n={},r=(i,o)=>{const s=i.props._offset,a=i.id,l=i.parent&&i.parent.id;let c;if(l&&!(l in e)&&r(i.parent,!1),l in n){const u=n[l]=n[l]||AA(e[l],e);c=u(i,o),n[a]=u}else Number.isFinite(s)?(c=s+(e[l]||0),n[a]=null):c=t;return o&&c>=t&&(t=c+1),e[a]=c,c};return r}function yj(t,{moduleParameters:e,target:n,viewport:r}){const i=n&&n.id!=="default-framebuffer",o=e&&e.devicePixelRatio||dl(t),s=i?n.height:t.drawingBufferHeight,a=r;return[a.x*o,s-(a.y+a.height)*o,a.width*o,a.height*o]}function bj(t,e){const n=e?e.width:t.drawingBufferWidth,r=e?e.height:t.drawingBufferHeight;po(t,{viewport:[0,0,n,r]}),t.clear(16640)}class _j extends H1{constructor(e,n){super(e,n),P(this,"shadowMap",void 0),P(this,"depthBuffer",void 0),P(this,"fbo",void 0),this.shadowMap=new Gr(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new Ba(e,{format:33189,width:1,height:1}),this.fbo=new In(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const n=this.fbo;Ti(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const r=e.viewports[0],i=dl(this.gl),o=r.width*i,s=r.height*i;(o!==n.width||s!==n.height)&&n.resize({width:o,height:s}),super.render({...e,target:n,pass:"shadow"})})}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const IA="#define SMOOTH_EDGE_RADIUS 0.5",wj=`
`.concat(IA,`

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`),Sj=`
`.concat(IA,`

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`),Ej={name:"geometry",vs:wj,fs:Sj},xj=Object.keys(ut).map(t=>"const int COORDINATE_SYSTEM_".concat(t," = ").concat(ut[t],";")).join(""),Cj=Object.keys(wi).map(t=>"const int PROJECTION_MODE_".concat(t," = ").concat(wi[t],";")).join(""),Tj=Object.keys(Ws).map(t=>"const int UNIT_".concat(t.toUpperCase()," = ").concat(Ws[t],";")).join(""),Pj="".concat(xj,`
`).concat(Cj,`
`).concat(Tj,`

uniform int project_uCoordinateSystem;
uniform int project_uProjectionMode;
uniform float project_uScale;
uniform bool project_uWrapLongitude;
uniform vec3 project_uCommonUnitsPerMeter;
uniform vec3 project_uCommonUnitsPerWorldUnit;
uniform vec3 project_uCommonUnitsPerWorldUnit2;
uniform vec4 project_uCenter;
uniform mat4 project_uModelMatrix;
uniform mat4 project_uViewProjectionMatrix;
uniform vec2 project_uViewportSize;
uniform float project_uDevicePixelRatio;
uniform float project_uFocalDistance;
uniform vec3 project_uCameraPosition;
uniform vec3 project_uCoordinateOrigin;
uniform vec3 project_uCommonOrigin;
uniform bool project_uPseudoMeters;

const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
  float y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

float project_size() {
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&
    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
    project_uPseudoMeters == false) {
    
    if (geometry.position.w == 0.0) {
      return project_size_at_latitude(geometry.worldPosition.y);
    }
  
    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    float y2 = y * y;
    float y4 = y2 * y2;
    float y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

float project_size_at_latitude(float meters, float lat) {
  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
  return meters * project_uCommonUnitsPerMeter.z * project_size();
}

vec2 project_size(vec2 meters) {
  return meters * project_uCommonUnitsPerMeter.xy * project_size();
}

vec3 project_size(vec3 meters) {
  return meters * project_uCommonUnitsPerMeter * project_size();
}

vec4 project_size(vec4 meters) {
  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
  vec3 uz = normalize(up);
  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
  vec3 uy = cross(uz, ux);
  return mat3(ux, uy, uz);
}

bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
    transform = project_get_orientation_matrix(commonPosition);
    return true;
  }
  return false;
}
vec3 project_normal(vec3 vector) {
  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);
  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);
  mat3 rotation;
  if (project_needs_rotation(geometry.position.xyz, rotation)) {
    n = rotation * n;
  }
  return n;
}

vec4 project_offset_(vec4 offset) {
  float dy = offset.y;
  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;
  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
  float x = lnglat.x;
  if (project_uWrapLongitude) {
    x = mod(x + 180., 360.0) - 180.;
  }
  float y = clamp(lnglat.y, -89.9, 89.9);
  return vec2(
    radians(x) + PI,
    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

vec3 project_globe_(vec3 lnglatz) {
  float lambda = radians(lnglatz.x);
  float phi = radians(lnglatz.y);
  float cosPhi = cos(phi);
  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;

  return vec3(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
  vec4 position_world = project_uModelMatrix * position;
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4(
        project_mercator_(position_world.xy),
        project_size_at_latitude(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world.xyz += project_uCoordinateOrigin;
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {
        return vec4(
          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,
          project_size(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||
    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world.xyz -= project_uCoordinateOrigin;
  }
  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));
}

vec4 project_position(vec4 position) {
  return project_position(position, ZERO_64_LOW);
}

vec3 project_position(vec3 position, vec3 position64Low) {
  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
  return projected_position.xyz;
}

vec3 project_position(vec3 position) {
  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

vec2 project_position(vec2 position) {
  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;
  return offset * project_uFocalDistance;
}

float project_size_to_pixel(float meters) {
  return project_size(meters) * project_uScale;
}
float project_size_to_pixel(float size, int unit) {
  if (unit == UNIT_METERS) return project_size_to_pixel(size);
  if (unit == UNIT_COMMON) return size * project_uScale;
  return size;
}
float project_pixel_size(float pixels) {
  return pixels / project_uScale;
}
vec2 project_pixel_size(vec2 pixels) {
  return pixels / project_uScale;
}
`);function Aj(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}function Wu(t){let e={},n;return r=>{for(const i in r)if(!Aj(r[i],e[i])){n=t(r),e=r;break}return n}}const OS=[0,0,0,0],Ij=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],MA=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Mj=[0,0,0],OA=[0,0,0],Oj=Wu(Nj);function LA(t,e,n=OA){n.length<3&&(n=[n[0],n[1],0]);let r=n,i,o=!0;switch(e===ut.LNGLAT_OFFSETS||e===ut.METER_OFFSETS?i=n:i=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case wi.WEB_MERCATOR:(e===ut.LNGLAT||e===ut.CARTESIAN)&&(i=[0,0,0],o=!1);break;case wi.WEB_MERCATOR_AUTO_OFFSET:e===ut.LNGLAT?r=i:e===ut.CARTESIAN&&(r=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],i=t.unprojectPosition(r),r[0]-=n[0],r[1]-=n[1],r[2]-=n[2]);break;case wi.IDENTITY:r=t.position.map(Math.fround),r[2]=r[2]||0;break;case wi.GLOBE:o=!1,i=null;break;default:o=!1}return{geospatialOrigin:i,shaderCoordinateOrigin:r,offsetMode:o}}function Lj(t,e,n){const{viewMatrixUncentered:r,projectionMatrix:i}=t;let{viewMatrix:o,viewProjectionMatrix:s}=t,a=OS,l=OS,c=t.cameraPosition;const{geospatialOrigin:u,shaderCoordinateOrigin:f,offsetMode:d}=LA(t,e,n);return d&&(l=t.projectPosition(u||f),c=[c[0]-l[0],c[1]-l[1],c[2]-l[2]],l[3]=1,a=Rl([],l,s),o=r||o,s=Ls([],i,o),s=Ls([],s,Ij)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:f,geospatialOrigin:u}}function Rj({viewport:t,devicePixelRatio:e=1,modelMatrix:n=null,coordinateSystem:r=ut.DEFAULT,coordinateOrigin:i=OA,autoWrapLongitude:o=!1}){r===ut.DEFAULT&&(r=t.isGeospatial?ut.LNGLAT:ut.CARTESIAN);const s=Oj({viewport:t,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:i});return s.project_uWrapLongitude=o,s.project_uModelMatrix=n||MA,s}function Nj({viewport:t,devicePixelRatio:e,coordinateSystem:n,coordinateOrigin:r}){const{projectionCenter:i,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:l,geospatialOrigin:c}=Lj(t,n,r),u=t.getDistanceScales(),f=[t.width*e,t.height*e],d=Rl([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,h={project_uCoordinateSystem:n,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:l,project_uCommonOrigin:s.slice(0,3),project_uCenter:i,project_uPseudoMeters:!!t._pseudoMeters,project_uViewportSize:f,project_uDevicePixelRatio:e,project_uFocalDistance:d,project_uCommonUnitsPerMeter:u.unitsPerMeter,project_uCommonUnitsPerWorldUnit:u.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:Mj,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:o,project_uModelMatrix:MA,project_uCameraPosition:a};if(c){const p=t.getDistanceScales(c);switch(n){case ut.METER_OFFSETS:h.project_uCommonUnitsPerWorldUnit=p.unitsPerMeter,h.project_uCommonUnitsPerWorldUnit2=p.unitsPerMeter2;break;case ut.LNGLAT:case ut.LNGLAT_OFFSETS:t._pseudoMeters||(h.project_uCommonUnitsPerMeter=p.unitsPerMeter),h.project_uCommonUnitsPerWorldUnit=p.unitsPerDegree,h.project_uCommonUnitsPerWorldUnit2=p.unitsPerDegree2;break;case ut.CARTESIAN:h.project_uCommonUnitsPerWorldUnit=[1,1,p.unitsPerMeter[2]],h.project_uCommonUnitsPerWorldUnit2=[0,0,p.unitsPerMeter2[2]];break}}return h}const kj={};function Fj(t=kj){return"viewport"in t?Rj(t):{}}const W1={name:"project",dependencies:[r5,Ej],vs:Pj,getUniforms:Fj};function Dj(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function tl(t,e){const n=Rl([],e,t);return V1(n,n,1/n[3]),n}function LS(t,e){const n=t%e;return n<0?e+n:n}function r0(t,e,n){return t<e?e:t>n?n:t}function zj(t){return Math.log(t)*Math.LOG2E}const G1=Math.log2||zj;function mo(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Si=Math.PI,RA=Si/4,si=Si/180,i0=180/Si,pl=512,Ah=4003e4,Bf=85.051129,Bj=1.5;function jj(t){return G1(t)}function os(t){const[e,n]=t;mo(Number.isFinite(e)),mo(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=e*si,i=n*si,o=pl*(r+Si)/(2*Si),s=pl*(Si+Math.log(Math.tan(RA+i*.5)))/(2*Si);return[o,s]}function ml(t){const[e,n]=t,r=e/pl*(2*Si)-Si,i=2*(Math.atan(Math.exp(n/pl*(2*Si)-Si))-RA);return[r*i0,i*i0]}function $j(t){const{latitude:e}=t;mo(Number.isFinite(e));const n=Math.cos(e*si);return jj(Ah*n)-9}function rm(t){const e=Math.cos(t*si);return pl/Ah/e}function o0(t){const{latitude:e,longitude:n,highPrecision:r=!1}=t;mo(Number.isFinite(e)&&Number.isFinite(n));const i=pl,o=Math.cos(e*si),s=i/360,a=s/o,l=i/Ah/o,c={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[s,a,l],degreesPerUnit:[1/s,1/a,1/l]};if(r){const u=si*Math.tan(e*si)/o,f=s*u/2,d=i/Ah*u,h=d/a*l;c.unitsPerDegree2=[0,f,d],c.unitsPerMeter2=[h,0,h]}return c}function NA(t,e){const[n,r,i]=t,[o,s,a]=e,{unitsPerMeter:l,unitsPerMeter2:c}=o0({longitude:n,latitude:r,highPrecision:!0}),u=os(t);u[0]+=o*(l[0]+c[0]*s),u[1]+=s*(l[1]+c[1]*s);const f=ml(u),d=(i||0)+(a||0);return Number.isFinite(i)||Number.isFinite(a)?[f[0],f[1],d]:f}function Vj(t){const{height:e,pitch:n,bearing:r,altitude:i,scale:o,center:s}=t,a=Dj();Th(a,a,[0,0,-i]),_A(a,a,-n*si),wA(a,a,r*si);const l=o/e;return $1(a,a,[l,l,l]),s&&Th(a,a,_5([],s)),a}function Uj(t){const{width:e,height:n,altitude:r,pitch:i=0,offset:o,center:s,scale:a,nearZMultiplier:l=1,farZMultiplier:c=1}=t;let{fovy:u=Ih(Bj)}=t;r!==void 0&&(u=Ih(r));const f=u*si,d=i*si,h=kA(u);let p=h;s&&(p+=s[2]*a/Math.cos(d)/n);const v=f*(.5+(o?o[1]:0)/n),_=Math.sin(v)*p/Math.sin(r0(Math.PI/2-d-v,.01,Math.PI-.01)),m=Math.sin(d)*_+p,y=p*10,b=Math.min(m*c,y);return{fov:f,aspect:e/n,focalDistance:h,near:l,far:b}}function Ih(t){return 2*Math.atan(.5/t)*i0}function kA(t){return .5/Math.tan(.5*t*si)}function FA(t,e){const[n,r,i=0]=t;return mo(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(i)),tl(e,[n,r,i,1])}function q1(t,e,n=0){const[r,i,o]=t;if(mo(Number.isFinite(r)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(o))return tl(e,[r,i,o,1]);const s=tl(e,[r,i,0,1]),a=tl(e,[r,i,1,1]),l=s[2],c=a[2],u=l===c?0:((n||0)-l)/(c-l);return uA([],s,a,u)}function Hj(t){const{width:e,height:n,bounds:r,minExtent:i=0,maxZoom:o=24,offset:s=[0,0]}=t,[[a,l],[c,u]]=r,f=Wj(t.padding),d=os([a,r0(u,-Bf,Bf)]),h=os([c,r0(l,-Bf,Bf)]),p=[Math.max(Math.abs(h[0]-d[0]),i),Math.max(Math.abs(h[1]-d[1]),i)],v=[e-f.left-f.right-Math.abs(s[0])*2,n-f.top-f.bottom-Math.abs(s[1])*2];mo(v[0]>0&&v[1]>0);const _=v[0]/p[0],m=v[1]/p[1],y=(f.right-f.left)/2/_,b=(f.top-f.bottom)/2/m,w=[(h[0]+d[0])/2+y,(h[1]+d[1])/2+b],S=ml(w),x=Math.min(o,G1(Math.abs(Math.min(_,m))));return mo(Number.isFinite(x)),{longitude:S[0],latitude:S[1],zoom:x}}function Wj(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(mo(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const RS=Math.PI/180;function Gj(t,e=0){const{width:n,height:r,unproject:i}=t,o={targetZ:e},s=i([0,r],o),a=i([n,r],o);let l,c;const u=t.fovy?.5*t.fovy*RS:Math.atan(.5/t.altitude),f=(90-t.pitch)*RS;return u>f-.01?(l=NS(t,0,e),c=NS(t,n,e)):(l=i([0,0],o),c=i([n,0],o)),[s,a,c,l]}function NS(t,e,n){const{pixelUnprojectionMatrix:r}=t,i=tl(r,[e,0,1,1]),o=tl(r,[e,t.height,1,1]),a=(n*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2]),l=uA([],i,o,a),c=ml(l);return c.push(n),c}const kS=512;function qj(t){const{width:e,height:n,pitch:r=0}=t;let{longitude:i,latitude:o,zoom:s,bearing:a=0}=t;(i<-180||i>180)&&(i=LS(i+180,360)-180),(a<-180||a>180)&&(a=LS(a+180,360)-180);const l=G1(n/kS);if(s<=l)s=l,o=0;else{const c=n/2/Math.pow(2,s),u=ml([0,c])[1];if(o<u)o=u;else{const f=ml([0,kS-c])[1];o>f&&(o=f)}}return{width:e,height:n,longitude:i,latitude:o,zoom:s,pitch:r,bearing:a}}const Xj=`
const int max_lights = 2;
uniform mat4 shadow_uViewProjectionMatrices[max_lights];
uniform vec4 shadow_uProjectCenters[max_lights];
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform int shadow_uLightId;
uniform float shadow_uLightCount;

varying vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  if (shadow_uDrawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);
  }
  if (shadow_uUseShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow_uLightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,Kj=`
const int max_lights = 2;
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;
uniform vec4 shadow_uColor;
uniform float shadow_uLightCount;

varying vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture2D(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow_uDrawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow_uUseShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow_uLightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,Yj=Wu(t$),Zj=Wu(n$),Qj=[0,0,0,1],Jj=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function e$(t,e){const[n,r,i]=t,o=q1([n,r,i],e);return Number.isFinite(i)?o:[o[0],o[1],0]}function t$({viewport:t,center:e}){return new Tr(t.viewProjectionMatrix).invert().transform(e)}function n$({viewport:t,shadowMatrices:e}){const n=[],r=t.pixelUnprojectionMatrix,i=t.isGeospatial?void 0:1,o=[[0,0,i],[t.width,0,i],[0,t.height,i],[t.width,t.height,i],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map(s=>e$(s,r));for(const s of e){const a=s.clone().translate(new _e(t.center).negate()),l=o.map(u=>a.transform(u)),c=new Tr().ortho({left:Math.min(...l.map(u=>u[0])),right:Math.max(...l.map(u=>u[0])),bottom:Math.min(...l.map(u=>u[1])),top:Math.max(...l.map(u=>u[1])),near:Math.min(...l.map(u=>-u[2])),far:Math.max(...l.map(u=>-u[2]))});n.push(c.multiplyRight(s))}return n}function r$(t,e){const{shadowEnabled:n=!0}=t;if(!n||!t.shadowMatrices||!t.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const r={shadow_uDrawShadowMap:!!t.drawToShadowMap,shadow_uUseShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,shadow_uColor:t.shadowColor||Qj,shadow_uLightId:t.shadowLightId||0,shadow_uLightCount:t.shadowMatrices.length},i=Yj({viewport:t.viewport,center:e.project_uCenter}),o=[],s=Zj({shadowMatrices:t.shadowMatrices,viewport:t.viewport}).slice();for(let a=0;a<t.shadowMatrices.length;a++){const l=s[a],c=l.clone().translate(new _e(t.viewport.center).negate());e.project_uCoordinateSystem===ut.LNGLAT&&e.project_uProjectionMode===wi.WEB_MERCATOR?(s[a]=c,o[a]=i):(s[a]=l.clone().multiplyRight(Jj),o[a]=c.transform(i))}for(let a=0;a<s.length;a++)r["shadow_uViewProjectionMatrices[".concat(a,"]")]=s[a],r["shadow_uProjectCenters[".concat(a,"]")]=o[a],t.shadowMaps&&t.shadowMaps.length>0?r["shadow_uShadowMap".concat(a)]=t.shadowMaps[a]:r["shadow_uShadowMap".concat(a)]=t.dummyShadowMap;return r}const im={name:"shadow",dependencies:[W1],vs:Xj,fs:Kj,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:(t={},e={})=>"viewport"in t&&(t.drawToShadowMap||t.shadowMaps&&t.shadowMaps.length>0)?r$(t,e):{}},i$={color:[255,255,255],intensity:1},FS=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],o$=[0,0,0,200/255];class DA{constructor(e={}){P(this,"id","lighting-effect"),P(this,"props",void 0),P(this,"shadowColor",o$),P(this,"shadow",void 0),P(this,"ambientLight",void 0),P(this,"directionalLights",void 0),P(this,"pointLights",void 0),P(this,"shadowPasses",[]),P(this,"shadowMaps",[]),P(this,"dummyShadowMap",null),P(this,"programManager",void 0),P(this,"shadowMatrices",void 0),this.setProps(e)}setProps(e){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const n in e){const r=e[n];switch(r.type){case"ambient":this.ambientLight=r;break;case"directional":this.directionalLights.push(r);break;case"point":this.pointLights.push(r);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(n=>n.shadow),this.props=e}preRender(e,{layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),this.shadowPasses.length===0&&this._createShadowPasses(e),this.programManager||(this.programManager=Hu.getDefaultProgramManager(e),im&&this.programManager.addDefaultModule(im)),this.dummyShadowMap||(this.dummyShadowMap=new Gr(e,{width:1,height:1}));for(let a=0;a<this.shadowPasses.length;a++)this.shadowPasses[a].render({layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:s,moduleParameters:{shadowLightId:a,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const n=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return n.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(r=>r.getProjectedLight({layer:e})),pointLights:this.pointLights.map(r=>r.getProjectedLight({layer:e}))},n}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(im),this.programManager=null)}_calculateMatrices(){const e=[];for(const n of this.directionalLights){const r=new Tr().lookAt({eye:new _e(n.direction).negate()});e.push(r)}return e}_createShadowPasses(e){for(let n=0;n<this.directionalLights.length;n++){const r=new _j(e);this.shadowPasses[n]=r,this.shadowMaps[n]=r.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:n,directionalLights:r}=this;!e&&n.length===0&&r.length===0&&(this.ambientLight=new dj(i$),this.directionalLights.push(new MS(FS[0]),new MS(FS[1])))}}class s${constructor(e={}){P(this,"_pool",[]),P(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,n,{size:r=1,type:i,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:l}){const c=i||e&&e.constructor||Float32Array,u=n*r+o;if(ArrayBuffer.isView(e)){if(u<=e.length)return e;if(u*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new c(e.buffer,0,u)}let f=1/0;l&&(f=l*r+o);const d=this._allocate(c,u,a,f);return e&&s?d.set(e):a||d.fill(0,0,4),this._release(e),d}release(e){this._release(e)}_allocate(e,n,r,i){let o=Math.max(Math.ceil(n*this.opts.overAlloc),1);o>i&&(o=i);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,l=s.findIndex(c=>c.byteLength>=a);if(l>=0){const c=new e(s.splice(l,1)[0],0,o);return r&&c.fill(0),c}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const n=this._pool,{buffer:r}=e,{byteLength:i}=r,o=n.findIndex(s=>s.byteLength>=i);o<0?n.push(r):(o>0||n.length<this.opts.poolSize)&&n.splice(o,0,r),n.length>this.opts.poolSize&&n.shift()}}const vl=new s$;function mc(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function a$(t){return[t[12],t[13],t[14]]}function l$(t){return{left:ma(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:ma(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:ma(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:ma(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:ma(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:ma(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const DS=new _e;function ma(t,e,n,r){DS.set(t,e,n);const i=DS.len();return{distance:r/i,normal:new _e(-t/i,-e/i,-n/i)}}function c$(t){return t-Math.fround(t)}let nc;function om(t,e){const{size:n=1,startIndex:r=0}=e,i=e.endIndex!==void 0?e.endIndex:t.length,o=(i-r)/n;nc=vl.allocate(nc,o,{type:Float32Array,size:n*2});let s=r,a=0;for(;s<i;){for(let l=0;l<n;l++){const c=t[s++];nc[a+l]=c,nc[a+l+n]=c$(c)}a+=n*2}return nc.subarray(0,o*n*2)}function u$(t){let e=null,n=!1;for(const r of t)r&&(e?(n||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],n=!0),e[0][0]=Math.min(e[0][0],r[0][0]),e[0][1]=Math.min(e[0][1],r[0][1]),e[1][0]=Math.max(e[1][0],r[1][0]),e[1][1]=Math.max(e[1][1],r[1][1])):e=r);return e}const f$=Math.PI/180,d$=mc(),zS=[0,0,0],h$={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function g$({width:t,height:e,orthographic:n,fovyRadians:r,focalDistance:i,padding:o,near:s,far:a}){const l=t/e,c=n?new Tr().orthographic({fovy:r,aspect:l,focalDistance:i,near:s,far:a}):new Tr().perspective({fovy:r,aspect:l,near:s,far:a});if(o){const{left:u=0,right:f=0,top:d=0,bottom:h=0}=o,p=Bo((u+t-f)/2,0,t)-t/2,v=Bo((d+e-h)/2,0,e)-e/2;c[8]-=p*2/t,c[9]+=v*2/e}return c}class ia{constructor(e={}){P(this,"id",void 0),P(this,"x",void 0),P(this,"y",void 0),P(this,"width",void 0),P(this,"height",void 0),P(this,"padding",void 0),P(this,"isGeospatial",void 0),P(this,"zoom",void 0),P(this,"focalDistance",void 0),P(this,"position",void 0),P(this,"modelMatrix",void 0),P(this,"distanceScales",void 0),P(this,"scale",void 0),P(this,"center",void 0),P(this,"cameraPosition",void 0),P(this,"projectionMatrix",void 0),P(this,"viewMatrix",void 0),P(this,"viewMatrixUncentered",void 0),P(this,"viewMatrixInverse",void 0),P(this,"viewProjectionMatrix",void 0),P(this,"pixelProjectionMatrix",void 0),P(this,"pixelUnprojectionMatrix",void 0),P(this,"resolution",void 0),P(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||h$,this.focalDistance=e.focalDistance||1,this.position=e.position||zS,this.modelMatrix=e.modelMatrix||null;const{longitude:n,latitude:r}=e;this.isGeospatial=Number.isFinite(r)&&Number.isFinite(n),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?wi.WEB_MERCATOR:wi.WEB_MERCATOR_AUTO_OFFSET:wi.IDENTITY}equals(e){return e instanceof ia?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&lo(e.projectionMatrix,this.projectionMatrix)&&lo(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:n=!0}={}){const r=this.projectPosition(e),i=FA(r,this.pixelProjectionMatrix),[o,s]=i,a=n?s:this.height-s;return e.length===2?[o,a]:[o,a,i[2]]}unproject(e,{topLeft:n=!0,targetZ:r}={}){const[i,o,s]=e,a=n?o:this.height-o,l=r&&r*this.distanceScales.unitsPerMeter[2],c=q1([i,a,s],this.pixelUnprojectionMatrix,l),[u,f,d]=this.unprojectPosition(c);return Number.isFinite(s)?[u,f,d]:Number.isFinite(r)?[u,f,r]:[u,f]}projectPosition(e){const[n,r]=this.projectFlat(e),i=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[n,r,i]}unprojectPosition(e){const[n,r]=this.unprojectFlat(e),i=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[n,r,i]}projectFlat(e){if(this.isGeospatial){const n=os(e);return n[1]=Bo(n[1],-318,830),n}return e}unprojectFlat(e){return this.isGeospatial?ml(e):e}getBounds(e={}){const n={targetZ:e.z||0},r=this.unproject([0,0],n),i=this.unproject([this.width,0],n),o=this.unproject([0,this.height],n),s=this.unproject([this.width,this.height],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}getDistanceScales(e){return e?o0({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:n,width:r=1,height:i=1}){return e<this.x+this.width&&this.x<e+r&&n<this.y+this.height&&this.y<n+i}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,l$(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,n){return null}_initProps(e){const n=e.longitude,r=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=$j({latitude:r})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||o0({latitude:r,longitude:n}));const i=Math.pow(2,this.zoom);this.scale=i;const{position:o,modelMatrix:s}=e;let a=zS;if(o&&(a=s?new Tr(s).transformAsVector(o,[]):o),this.isGeospatial){const l=this.projectPosition([n,r,0]);this.center=new _e(a).scale(this.distanceScales.unitsPerMeter).add(l)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:n=d$,projectionMatrix:r=null,orthographic:i=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:l=1e3,padding:c=null,focalDistance:u=1}=e;this.viewMatrixUncentered=n,this.viewMatrix=new Tr().multiplyRight(n).translate(new _e(this.center).negate()),this.projectionMatrix=r||g$({width:this.width,height:this.height,orthographic:i,fovyRadians:o||s*f$,focalDistance:u,padding:c,near:a,far:l});const f=mc();Ls(f,f,this.projectionMatrix),Ls(f,f,this.viewMatrix),this.viewProjectionMatrix=f,this.viewMatrixInverse=t0([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=a$(this.viewMatrixInverse);const d=mc(),h=mc();$1(d,d,[this.width/2,-this.height/2,1]),Th(d,d,[1,-1,0]),Ls(h,d,this.viewProjectionMatrix),this.pixelProjectionMatrix=h,this.pixelUnprojectionMatrix=t0(mc(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||it.warn("Pixel project matrix not invertible")()}}P(ia,"displayName","Viewport");class ss extends ia{constructor(e={}){const{latitude:n=0,longitude:r=0,zoom:i=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:l=1.01,nearZ:c,farZ:u,orthographic:f=!1,projectionMatrix:d,repeat:h=!1,worldOffset:p=0,position:v,padding:_,legacyMeterSizes:m=!1}=e;let{width:y,height:b,altitude:w=1.5}=e;const S=Math.pow(2,i);y=y||1,b=b||1;let x,E=null;if(d)w=d[5]/2,x=Ih(w);else{e.fovy?(x=e.fovy,w=kA(x)):x=Ih(w);let M;if(_){const{top:O=0,bottom:R=0}=_;M=[0,Bo((O+b-R)/2,0,b)-b/2]}E=Uj({width:y,height:b,scale:S,center:v&&[0,0,v[2]*rm(n)],offset:M,pitch:o,fovy:x,nearZMultiplier:a,farZMultiplier:l}),Number.isFinite(c)&&(E.near=c),Number.isFinite(u)&&(E.far=u)}let I=Vj({height:b,pitch:o,bearing:s,scale:S,altitude:w});p&&(I=new Tr().translate([512*p,0,0]).multiplyLeft(I)),super({...e,width:y,height:b,viewMatrix:I,longitude:r,latitude:n,zoom:i,...E,fovy:x,focalDistance:w}),P(this,"longitude",void 0),P(this,"latitude",void 0),P(this,"pitch",void 0),P(this,"bearing",void 0),P(this,"altitude",void 0),P(this,"fovy",void 0),P(this,"orthographic",void 0),P(this,"_subViewports",void 0),P(this,"_pseudoMeters",void 0),this.latitude=n,this.longitude=r,this.zoom=i,this.pitch=o,this.bearing=s,this.altitude=w,this.fovy=x,this.orthographic=f,this._subViewports=h?[]:null,this._pseudoMeters=m,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),n=Math.floor((e[0]+180)/360),r=Math.ceil((e[2]-180)/360);for(let i=n;i<=r;i++){const o=i?new ss({...this,worldOffset:i}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[n,r]=this.projectFlat(e),i=(e[2]||0)*rm(e[1]);return[n,r,i]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[n,r]=this.unprojectFlat(e),i=(e[2]||0)/rm(r);return[n,r,i]}addMetersToLngLat(e,n){return NA(e,n)}panByPosition(e,n){const r=q1(n,this.pixelUnprojectionMatrix),i=this.projectFlat(e),o=yS([],i,f5([],r)),s=yS([],this.center,o),[a,l]=this.unprojectFlat(s);return{longitude:a,latitude:l}}getBounds(e={}){const n=Gj(this,e.z||0);return[Math.min(n[0][0],n[1][0],n[2][0],n[3][0]),Math.min(n[0][1],n[1][1],n[2][1],n[3][1]),Math.max(n[0][0],n[1][0],n[2][0],n[3][0]),Math.max(n[0][1],n[1][1],n[2][1],n[3][1])]}fitBounds(e,n={}){const{width:r,height:i}=this,{longitude:o,latitude:s,zoom:a}=Hj({width:r,height:i,bounds:e,...n});return new ss({width:r,height:i,longitude:o,latitude:s,zoom:a})}}P(ss,"displayName","WebMercatorViewport");const BS=[0,0,0];function sm(t,e,n=!1){const r=e.projectPosition(t);if(n&&e instanceof ss){const[i,o,s=0]=t,a=e.getDistanceScales([i,o]);r[2]=s*a.unitsPerMeter[2]}return r}function p$(t){const{viewport:e,modelMatrix:n,coordinateOrigin:r}=t;let{coordinateSystem:i,fromCoordinateSystem:o,fromCoordinateOrigin:s}=t;return i===ut.DEFAULT&&(i=e.isGeospatial?ut.LNGLAT:ut.CARTESIAN),o===void 0&&(o=i),s===void 0&&(s=r),{viewport:e,coordinateSystem:i,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:o,fromCoordinateOrigin:s}}function zA(t,{viewport:e,modelMatrix:n,coordinateSystem:r,coordinateOrigin:i,offsetMode:o}){let[s,a,l=0]=t;switch(n&&([s,a,l]=Rl([],[s,a,l,1],n)),r){case ut.LNGLAT:return sm([s,a,l],e,o);case ut.LNGLAT_OFFSETS:return sm([s+i[0],a+i[1],l+(i[2]||0)],e,o);case ut.METER_OFFSETS:return sm(NA(i,[s,a,l]),e,o);case ut.CARTESIAN:default:return e.isGeospatial?[s+i[0],a+i[1],l+i[2]]:e.projectPosition([s,a,l])}}function m$(t,e){const{viewport:n,coordinateSystem:r,coordinateOrigin:i,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=p$(e),{autoOffset:l=!0}=e,{geospatialOrigin:c=BS,shaderCoordinateOrigin:u=BS,offsetMode:f=!1}=l?LA(n,r,i):{},d=zA(t,{viewport:n,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:f});if(f){const h=n.projectPosition(c||u);vA(d,d,h)}return d}const jS={blendFunc:[1,0,32771,0],blendEquation:32774};class BA extends H1{constructor(...e){super(...e),P(this,"pickZ",void 0),P(this,"_colorEncoderState",null)}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:n,views:r,viewports:i,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:l,width:c,height:u},cullRect:f,effects:d,pass:h="picking",pickZ:p,moduleParameters:v}){const _=this.gl;this.pickZ=p;const m=this._resetColorEncoder(p),y=Ti(_,{scissorTest:!0,scissor:[a,l,c,u],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...jS,blend:!p},()=>super.render({target:s,layers:e,layerFilter:n,views:r,viewports:i,onViewportActive:o,cullRect:f,effects:d==null?void 0:d.filter(w=>w.useInPicking),pass:h,isPicking:!0,moduleParameters:v}));return this._colorEncoderState=null,{decodePickingColor:m&&y$.bind(null,m),stats:y}}shouldDrawLayer(e){const{pickable:n,operation:r}=e.props;return n&&r.includes("draw")||r.includes("terrain")}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,n,r){const i={...e.props.parameters},{pickable:o,operation:s}=e.props;return this._colorEncoderState?o&&s.includes("draw")&&(Object.assign(i,jS),i.blend=!0,i.blendColor=v$(this._colorEncoderState,e,r)):i.blend=!1,s.includes("terrain")&&(i.blend=!1),i}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function v$(t,e,n){const{byLayer:r,byAlpha:i}=t;let o,s=r.get(e);return s?(s.viewports.push(n),o=s.a):(o=r.size+1,o<=255?(s={a:o,layer:e,viewports:[n]},r.set(e,s),i[o]=s):(it.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}function y$(t,e){const n=t.byAlpha[e[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(e)}}const Ca={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},Mh=Symbol.for("component"),es=Symbol.for("propTypes"),am=Symbol.for("deprecatedProps"),nl=Symbol.for("asyncPropDefaults"),Xs=Symbol.for("asyncPropOriginal"),jo=Symbol.for("asyncPropResolved");function yg(t,e=()=>!0){return Array.isArray(t)?jA(t,e,[]):e(t)?[t]:[]}function jA(t,e,n){let r=-1;for(;++r<t.length;){const i=t[r];Array.isArray(i)?jA(i,e,n):e(i)&&n.push(i)}return n}function b$({target:t,source:e,start:n=0,count:r=1}){const i=e.length,o=r*i;let s=0;for(let a=n;s<i;s++)t[a++]=e[s];for(;s<o;)s<o-s?(t.copyWithin(n+s,n,n+s),s*=2):(t.copyWithin(n+s,n,n+o-s),s=o);return t}class _${constructor(e,n,r){P(this,"id",void 0),P(this,"context",void 0),P(this,"isLoaded",void 0),P(this,"persistent",void 0),P(this,"_loadCount",0),P(this,"_subscribers",new Set),P(this,"_data",void 0),P(this,"_loader",void 0),P(this,"_error",void 0),P(this,"_content",void 0),this.id=e,this.context=r,this.setData(n)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,n){if(e===this._data&&!n)return;this._data=e;const r=++this._loadCount;let i=e;typeof e=="string"&&(i=wh(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then(o=>{this._loadCount===r&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===r&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class w${constructor({gl:e,protocol:n}){P(this,"protocol",void 0),P(this,"_context",void 0),P(this,"_resources",void 0),P(this,"_consumers",void 0),P(this,"_pruneRequest",void 0),this.protocol=n||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:n,forceUpdate:r=!1,persistent:i=!0}){let o=this._resources[e];o?o.setData(n,r):(o=new _$(e,n,this._context),this._resources[e]=o),o.persistent=i}remove(e){const n=this._resources[e];n&&(n.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const n=this._consumers[e];if(n){for(const r in n){const i=n[r],o=this._resources[i.resourceId];o&&o.unsubscribe(i)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:n,consumerId:r,requestId:i="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(e=e.replace(s,""),o[e]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(r,i,a,n),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,n,r,i){const o=this._consumers,s=o[e]=o[e]||{},a=s[n]||{},l=a.resourceId&&this._resources[a.resourceId];l&&(l.unsubscribe(a),this.prune()),r&&(s[n]=a,a.onChange=i,a.resourceId=r.id,r.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const n=this._resources[e];!n.persistent&&!n.inUse()&&(n.delete(),delete this._resources[e])}}}const S$=`
vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,kl={name:"project32",dependencies:[W1],vs:S$},Fl={inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:#decl":`
uniform bool picking_uAttribute;
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}},...RB},E$=[W1],x$=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function C$(t){const e=Hu.getDefaultProgramManager(t);for(const n of E$)e.addDefaultModule(n);for(const n of x$)e.addShaderHook(n);return e}const T$="layerManager.setLayers",P$="layerManager.activateViewport";class A${constructor(e,{deck:n,stats:r,viewport:i,timeline:o}={}){P(this,"layers",void 0),P(this,"context",void 0),P(this,"resourceManager",void 0),P(this,"_lastRenderedLayers",[]),P(this,"_needsRedraw",!1),P(this,"_needsUpdate",!1),P(this,"_nextLayers",null),P(this,"_debug",!1),P(this,"activateViewport",s=>{er(P$,this,s),s&&(this.context.viewport=s)}),this.layers=[],this.resourceManager=new w$({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:n,programManager:e&&C$(e),stats:r||new O1({id:"deck.gl"}),viewport:i||new ia({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:o||new PA,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const r of this.layers){const i=r.getNeedsRedraw(e);n=n||i}return n}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(n=>e.find(r=>n.id.indexOf(r)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,n){er(T$,this,n,e),this._lastRenderedLayers=e;const r=yg(e,Boolean);for(const i of r)i.context=this.context;this._updateLayers(this.layers,r)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,n,r){r.raiseError(n,"".concat(e," of ").concat(r))}_updateLayers(e,n){const r={};for(const s of e)r[s.id]?it.warn("Multiple old layers with same id ".concat(s.id))():r[s.id]=s;const i=[];this._updateSublayersRecursively(n,r,i),this._finalizeOldLayers(r);let o=!1;for(const s of i)if(s.hasUniformTransition()){o="Uniform transition in ".concat(s);break}this._needsUpdate=o,this.layers=i}_updateSublayersRecursively(e,n,r){for(const i of e){i.context=this.context;const o=n[i.id];o===null&&it.warn("Multiple new layers with same id ".concat(i.id))(),n[i.id]=null;let s=null;try{this._debug&&o!==i&&i.validateProps(),o?(this._transferLayerState(o,i),this._updateLayer(i)):this._initializeLayer(i),r.push(i),s=i.isComposite?i.getSubLayers():null}catch(a){this._handleError("matching",a,i)}s&&this._updateSublayersRecursively(s,n,r)}}_finalizeOldLayers(e){for(const n in e){const r=e[n];r&&this._finalizeLayer(r)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=Ca.INITIALIZED}catch(n){this._handleError("initialization",n,e)}}_transferLayerState(e,n){n._transferState(e),n.lifecycle=Ca.MATCHED,n!==e&&(e.lifecycle=Ca.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(n){this._handleError("update",n,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=Ca.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=Ca.FINALIZED}catch(n){this._handleError("finalization",n,e)}}}function Ui(t,e,n){if(t===e)return!0;if(!n||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Ui(t[r],e[r],n-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(const o of r)if(!e.hasOwnProperty(o)||!Ui(t[o],e[o],n-1))return!1;return!0}return!1}class I${constructor(e){P(this,"width",void 0),P(this,"height",void 0),P(this,"views",void 0),P(this,"viewState",void 0),P(this,"controllers",void 0),P(this,"timeline",void 0),P(this,"_viewports",void 0),P(this,"_viewportMap",void 0),P(this,"_isUpdating",void 0),P(this,"_needsRedraw",void 0),P(this,"_needsUpdate",void 0),P(this,"_eventManager",void 0),P(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const n=this.controllers[e];n&&n.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const n=this.controllers[e];n&&n.updateTransition()}}getViewports(e){return e?this._viewports.filter(n=>n.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(n=>{e[n.id]=n}),e}getView(e){return this.views.find(n=>n.id===e)}getViewState(e){const n=typeof e=="string"?this.getView(e):e,r=n&&this.viewState[n.getViewStateId()]||this.viewState;return n?n.filterViewState(r):r}getViewport(e){return this._viewportMap[e]}unproject(e,n){const r=this.getViewports(),i={x:e[0],y:e[1]};for(let o=r.length-1;o>=0;--o){const s=r[o];if(s.containsPixel(i)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,n)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,n){(e!==this.width||n!==this.height)&&(this.width=e,this.height=n,this.setNeedsUpdate("Size changed"))}_setViews(e){e=yg(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!Ui(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):it.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,n){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...n,viewId:e})}_createController(e,n){const r=n.type;return new r({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,n.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return(s=this.getView(e.id))===null||s===void 0?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,n,r,i){const o=e.controller;if(o&&r){const s={...n,...o,id:e.id,x:r.x,y:r.y,width:r.width,height:r.height};return(!i||i.constructor!==o.type)&&(i=this._createController(e,s)),i&&i.setProps(s),i}return null}_rebuildViewports(){const{views:e}=this,n=this.controllers;this._viewports=[],this.controllers={};let r=!1;for(let i=e.length;i--;){const o=e[i],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let l=n[o.id];const c=!!o.controller;c&&!l&&(r=!0),(r||!c)&&l&&(l.finalize(),l=null),this.controllers[o.id]=this._updateController(o,s,a,l),a&&this._viewports.unshift(a)}for(const i in n){const o=n[i];o&&!this.controllers[i]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,n){return e.length!==n.length?!0:e.some((r,i)=>!e[i].equals(n[i]))}}const M$=/([0-9]+\.?[0-9]*)(%|px)/;function Po(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=M$.exec(t);if(e&&e.length>=3){const n=e[2]==="%",r=parseFloat(e[1]);return{position:n?r/100:r,relative:n}}default:throw new Error("Could not parse position string ".concat(t))}}function Ao(t,e){return t.relative?Math.round(t.position*e):t.position}function Rn(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class yl{constructor(e){P(this,"id",void 0),P(this,"viewportInstance",void 0),P(this,"_x",void 0),P(this,"_y",void 0),P(this,"_width",void 0),P(this,"_height",void 0),P(this,"_padding",void 0),P(this,"props",void 0);const{id:n,x:r=0,y:i=0,width:o="100%",height:s="100%",padding:a=null,viewportInstance:l}=e||{};Rn(!l||l instanceof ia),this.viewportInstance=l,this.id=n||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=Po(r),this._y=Po(i),this._width=Po(o),this._height=Po(s),this._padding=a&&{left:Po(a.left||0),right:Po(a.right||0),top:Po(a.top||0),bottom:Po(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.viewportInstance?e.viewportInstance?this.viewportInstance.equals(e.viewportInstance):!1:this.ViewportType===e.ViewportType&&Ui(this.props,e.props,2)}makeViewport({width:e,height:n,viewState:r}){if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);const i=this.getDimensions({width:e,height:n});return!i.height||!i.width?null:new this.ViewportType({...r,...this.props,...i})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:(e==null?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const n={...e};for(const r in this.props.viewState)r!=="id"&&(n[r]=this.props.viewState[r]);return n}return e}getDimensions({width:e,height:n}){const r={x:Ao(this._x,e),y:Ao(this._y,n),width:Ao(this._width,e),height:Ao(this._height,n)};return this._padding&&(r.padding={left:Ao(this._padding.left,e),top:Ao(this._padding.top,n),right:Ao(this._padding.right,e),bottom:Ao(this._padding.bottom,n)}),r}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}class Gu{constructor(e){P(this,"_inProgress",void 0),P(this,"_handle",void 0),P(this,"_timeline",void 0),P(this,"time",void 0),P(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var n,r;this.cancel(),this.settings=e,this._inProgress=!0,(n=(r=this.settings).onStart)===null||n===void 0||n.call(r,this)}end(){if(this._inProgress){var e,n;this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(e=(n=this.settings).onEnd)===null||e===void 0||e.call(n,this)}}cancel(){if(this._inProgress){var e,n;(e=(n=this.settings).onInterrupt)===null||e===void 0||e.call(n,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1}}update(){var e,n;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:r,settings:i}=this;this._handle=r.addChannel({delay:r.getTime(),duration:i.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(e=(n=this.settings).onUpdate)===null||e===void 0||e.call(n,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const $S=()=>{},s0={BREAK:1,SNAP_TO_END:2,IGNORE:3},O$=t=>t,L$=s0.BREAK;class R${constructor(e){P(this,"getControllerState",void 0),P(this,"props",void 0),P(this,"propsInTransition",void 0),P(this,"transition",void 0),P(this,"onViewStateChange",void 0),P(this,"onStateChange",void 0),P(this,"_onTransitionUpdate",n=>{const{time:r,settings:{interpolator:i,startProps:o,endProps:s,duration:a,easing:l}}=n,c=l(r/a),u=i.interpolateProps(o,s,c);this.propsInTransition=this.getControllerState({...this.props,...u}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new Gu(e.timeline),this.onViewStateChange=e.onViewStateChange||$S,this.onStateChange=e.onStateChange||$S}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let n=!1;const r=this.props;if(this.props=e,!r||this._shouldIgnoreViewportChange(r,e))return!1;if(this._isTransitionEnabled(e)){let i=r;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;i={...r,...o===s0.SNAP_TO_END?s:this.propsInTransition||r}}this._triggerTransition(i,e),n=!0}else this.transition.cancel();return n}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:n,transitionInterpolator:r}=e;return(n>0||n==="auto")&&!!r}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,n){return this.transition.inProgress?this.transition.settings.interruption===s0.IGNORE||this._isUpdateDueToCurrentTransition(n):this._isTransitionEnabled(n)?n.transitionInterpolator.arePropsEqual(e,n):!0}_triggerTransition(e,n){const r=this.getControllerState(e),i=this.getControllerState(n).shortestPathFrom(r),o=n.transitionInterpolator,s=o.getDuration?o.getDuration(e,n):n.transitionDuration;if(s===0)return;const a=o.initializeProps(e,i);this.propsInTransition={};const l={duration:s,easing:n.transitionEasing||O$,interpolator:o,interruption:n.transitionInterruption||L$,startProps:a.start,endProps:a.end,onStart:n.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(n.onTransitionInterrupt),onEnd:this._onTransitionEnd(n.onTransitionEnd)};this.transition.start(l),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return n=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e==null||e(n)}}}class N${constructor(e){P(this,"_propsToCompare",void 0),P(this,"_propsToExtract",void 0),P(this,"_requiredProps",void 0);const{compare:n,extract:r,required:i}=e;this._propsToCompare=n,this._propsToExtract=r||n,this._requiredProps=i}arePropsEqual(e,n){for(const r of this._propsToCompare)if(!(r in e)||!(r in n)||!lo(e[r],n[r]))return!1;return!0}initializeProps(e,n){const r={},i={};for(const o of this._propsToExtract)(o in e||o in n)&&(r[o]=e[o],i[o]=n[o]);return this._checkRequiredProps(r),this._checkRequiredProps(i),{start:r,end:i}}getDuration(e,n){return n.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(n=>{const r=e[n];Rn(Number.isFinite(r)||Array.isArray(r),"".concat(n," is required for transition"))})}}const k$=["longitude","latitude","zoom","bearing","pitch"],F$=["longitude","latitude","zoom"];class $A extends N${constructor(e={}){const n=Array.isArray(e)?e:e.transitionProps,r=Array.isArray(e)?{}:e;r.transitionProps=Array.isArray(n)?{compare:n,required:n}:n||{compare:k$,required:F$},super(r.transitionProps),P(this,"opts",void 0),this.opts=r}initializeProps(e,n){const r=super.initializeProps(e,n),{makeViewport:i,around:o}=this.opts;if(i&&o){const s=i(e),a=i(n),l=s.unproject(o);r.start.around=o,Object.assign(r.end,{around:a.project(l),aroundPosition:l,width:n.width,height:n.height})}return r}interpolateProps(e,n,r){const i={};for(const o of this._propsToExtract)i[o]=Os(e[o]||0,n[o]||0,r);if(n.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...n,...i});Object.assign(i,o.panByPosition(n.aroundPosition,Os(e.around,n.around,r)))}return i}}const Io={transitionDuration:0},D$=300,jf=t=>1-(1-t)*(1-t),va={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},ds={};class z${constructor(e){P(this,"props",void 0),P(this,"state",{}),P(this,"transitionManager",void 0),P(this,"eventManager",void 0),P(this,"onViewStateChange",void 0),P(this,"onStateChange",void 0),P(this,"makeViewport",void 0),P(this,"_controllerState",void 0),P(this,"_events",{}),P(this,"_interactionState",{isDragging:!1}),P(this,"_customEvents",[]),P(this,"_eventStartBlocked",null),P(this,"_panMove",!1),P(this,"invertPan",!1),P(this,"dragMode","rotate"),P(this,"inertia",0),P(this,"scrollZoom",!0),P(this,"dragPan",!0),P(this,"dragRotate",!0),P(this,"doubleClickZoom",!0),P(this,"touchZoom",!0),P(this,"touchRotate",!1),P(this,"keyboard",!0),this.transitionManager=new R$({...e,getControllerState:n=>new this.ControllerState(n),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const n in this._events)if(this._events[n]){var e;(e=this.eventManager)===null||e===void 0||e.off(n,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const n=this._eventStartBlocked;switch(e.type){case"panstart":return n?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return n?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return n?!1:this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:n,y:r}=this.props,{offsetCenter:i}=e;return[i.x-n,i.y-r]}isPointInBounds(e,n){const{width:r,height:i}=this.props;if(n&&n.handled)return!1;const o=e[0]>=0&&e[0]<=r&&e[1]>=0&&e[1]<=i;return o&&n&&n.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:n}=e;return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const n=setTimeout(()=>{this._eventStartBlocked===n&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=n}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:n}=e;this.inertia=Number.isFinite(n)?n:n===!0?D$:0;const{scrollZoom:r=!0,dragPan:i=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:l=!1,keyboard:c=!0}=e,u=!!this.onViewStateChange;this.toggleEvents(va.WHEEL,u&&r),this.toggleEvents(va.PAN,u),this.toggleEvents(va.PINCH,u&&(a||l)),this.toggleEvents(va.TRIPLE_PAN,u&&l),this.toggleEvents(va.DOUBLE_TAP,u&&s),this.toggleEvents(va.KEYBOARD,u&&c),this.scrollZoom=r,this.dragPan=i,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=l,this.keyboard=c}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,n){this.eventManager&&e.forEach(r=>{this._events[r]!==n&&(this._events[r]=n,n?this.eventManager.on(r,this.handleEvent):this.eventManager.off(r,this.handleEvent))})}updateViewport(e,n=null,r={}){const i={...e.getViewportProps(),...n},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(r),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:i,interactionState:this._interactionState,oldViewState:s})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;let r=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(r=!r);const i=this.controllerState[r?"panStart":"rotateStart"]({pos:n});return this._panMove=r,this.updateViewport(i,Io,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const n=this.getCenter(e),r=this.controllerState.pan({pos:n});return this.updateViewport(r,Io,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:n}=this;if(this.dragPan&&n&&e.velocity){const r=this.getCenter(e),i=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.controllerState.pan({pos:i}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:jf},{isDragging:!1,isPanning:!0})}else{const r=this.controllerState.panEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const n=this.getCenter(e),r=this.controllerState.rotate({pos:n});return this.updateViewport(r,Io,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:n}=this;if(this.dragRotate&&n&&e.velocity){const r=this.getCenter(e),i=[r[0]+e.velocityX*n/2,r[1]+e.velocityY*n/2],o=this.controllerState.rotate({pos:i}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:jf},{isDragging:!1,isRotating:!0})}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const{speed:r=.01,smooth:i=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*r)));o<0&&s!==0&&(s=1/s);const a=this.controllerState.zoom({pos:n,scale:s});return this.updateViewport(a,{...this._getTransitionProps({around:n}),transitionDuration:i?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.rotateStart({pos:n});return this.updateViewport(r,Io,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const n=this.getCenter(e);n[0]-=e.deltaX;const r=this.controllerState.rotate({pos:n});return this.updateViewport(r,Io,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this;if(this.touchRotate&&n&&e.velocityY){const r=this.getCenter(e),i=[r[0],r[1]+=e.velocityY*n/2],o=this.controllerState.rotate({pos:i});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:n,transitionEasing:jf},{isDragging:!1,isRotating:!0}),this.blockEvents(n)}else{const r=this.controllerState.rotateEnd();this.updateViewport(r,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.controllerState.zoomStart({pos:n}).rotateStart({pos:n});return ds._startPinchRotation=e.rotation,ds._lastPinchEvent=e,this.updateViewport(r,Io,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let n=this.controllerState;if(this.touchZoom){const{scale:r}=e,i=this.getCenter(e);n=n.zoom({pos:i,scale:r})}if(this.touchRotate){const{rotation:r}=e;n=n.rotate({deltaAngleX:ds._startPinchRotation-r})}return this.updateViewport(n,Io,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),ds._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:n}=this,{_lastPinchEvent:r}=ds;if(this.touchZoom&&n&&r&&e.scale!==r.scale){const i=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(r.scale))/(e.deltaTime-r.deltaTime),l=Math.pow(2,s+a*n/2);o=o.zoom({pos:i,scale:l}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:i}),transitionDuration:n,transitionEasing:jf},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(n)}else{const i=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return ds._startPinchRotation=null,ds._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const n=this.getCenter(e);if(!this.isPointInBounds(n,e))return!1;const r=this.isFunctionKeyPressed(e),i=this.controllerState.zoom({pos:n,scale:r?.5:2});return this.updateViewport(i,this._getTransitionProps({around:n}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const n=this.isFunctionKeyPressed(e),{zoomSpeed:r,moveSpeed:i,rotateSpeedX:o,rotateSpeedY:s}=this.keyboard===!0?{}:this.keyboard,{controllerState:a}=this;let l;const c={};switch(e.srcEvent.code){case"Minus":l=n?a.zoomOut(r).zoomOut(r):a.zoomOut(r),c.isZooming=!0;break;case"Equal":l=n?a.zoomIn(r).zoomIn(r):a.zoomIn(r),c.isZooming=!0;break;case"ArrowLeft":n?(l=a.rotateLeft(o),c.isRotating=!0):(l=a.moveLeft(i),c.isPanning=!0);break;case"ArrowRight":n?(l=a.rotateRight(o),c.isRotating=!0):(l=a.moveRight(i),c.isPanning=!0);break;case"ArrowUp":n?(l=a.rotateUp(s),c.isRotating=!0):(l=a.moveUp(i),c.isPanning=!0);break;case"ArrowDown":n?(l=a.rotateDown(s),c.isRotating=!0):(l=a.moveDown(i),c.isPanning=!0);break;default:return!1}return this.updateViewport(l,this._getTransitionProps(),c),!0}_getTransitionProps(e){const{transition:n}=this;return!n||!n.transitionInterpolator?Io:e?{...n,transitionInterpolator:new $A({...e,...n.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:n}}class B${constructor(e,n){P(this,"_viewportProps",void 0),P(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=n}getViewportProps(){return this._viewportProps}getState(){return this._state}}const VS=5,j$=1.2;class $$ extends B${constructor(e){const{width:n,height:r,latitude:i,longitude:o,zoom:s,bearing:a=0,pitch:l=0,altitude:c=1.5,position:u=[0,0,0],maxZoom:f=20,minZoom:d=0,maxPitch:h=60,minPitch:p=0,startPanLngLat:v,startZoomLngLat:_,startRotatePos:m,startBearing:y,startPitch:b,startZoom:w,normalize:S=!0}=e;Rn(Number.isFinite(o)),Rn(Number.isFinite(i)),Rn(Number.isFinite(s)),super({width:n,height:r,latitude:i,longitude:o,zoom:s,bearing:a,pitch:l,altitude:c,maxZoom:f,minZoom:d,maxPitch:h,minPitch:p,normalize:S,position:u},{startPanLngLat:v,startZoomLngLat:_,startRotatePos:m,startBearing:y,startPitch:b,startZoom:w}),P(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:n}){const r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(r,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:n=0,deltaAngleY:r=0}){const{startRotatePos:i,startBearing:o,startPitch:s}=this.getState();if(!i||o===void 0||s===void 0)return this;let a;return e?a=this._getNewRotation(e,i,s,o):a={bearing:o+n,pitch:s+r},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:n,scale:r}){let{startZoom:i,startZoomLngLat:o}=this.getState();if(o||(i=this.getViewportProps().zoom,o=this._unproject(n)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let l=i+Math.log2(r);l=Bo(l,a,s);const c=this.makeViewport({...this.getViewportProps(),zoom:l});return this._getUpdatedState({zoom:l,...c.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const n=e.getViewportProps(),r={...this.getViewportProps()},{bearing:i,longitude:o}=r;return Math.abs(i-n.bearing)>180&&(r.bearing=i<0?i+360:i-360),Math.abs(o-n.longitude)>180&&(r.longitude=o<0?o+360:o-360),r}applyConstraints(e){const{maxZoom:n,minZoom:r,zoom:i}=e;e.zoom=Bo(i,r,n);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=Bo(a,s,o);const{normalize:l=!0}=e;return l&&Object.assign(e,qj(e)),e}_zoomFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.zoom({pos:[n/2,r/2],scale:e})}_panFromCenter(e){const{width:n,height:r}=this.getViewportProps();return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const n=this.makeViewport(this.getViewportProps());return e&&n.unproject(e)}_getNewRotation(e,n,r,i){const o=e[0]-n[0],s=e[1]-n[1],a=e[1],l=n[1],{width:c,height:u}=this.getViewportProps(),f=o/c;let d=0;s>0?Math.abs(u-l)>VS&&(d=s/(l-u)*j$):s<0&&l>VS&&(d=1-a/l),d=Bo(d,-1,1);const{minPitch:h,maxPitch:p}=this.getViewportProps(),v=i+180*f;let _=r;return d>0?_=r+d*(p-r):d<0&&(_=r-d*(h-r)),{pitch:_,bearing:v}}}let V$=class extends z${constructor(...e){super(...e),P(this,"ControllerState",$$),P(this,"transition",{transitionDuration:300,transitionInterpolator:new $A({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),P(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const n=this.props;super.setProps(e),(!n||n.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}};class X1 extends yl{get ViewportType(){return ss}get ControllerType(){return V$}}P(X1,"displayName","MapView");const U$=new DA;function H$(t,e){var n,r;const i=(n=t.order)!==null&&n!==void 0?n:1/0,o=(r=e.order)!==null&&r!==void 0?r:1/0;return i-o}class W${constructor(){P(this,"effects",void 0),P(this,"_resolvedEffects",[]),P(this,"_defaultEffects",[]),P(this,"_needsRedraw",void 0),this.effects=[],this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const n=this._defaultEffects;if(!n.find(r=>r.id===e.id)){const r=n.findIndex(i=>H$(i,e)>0);r<0?n.push(e):n.splice(r,0,e),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(Ui(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}getEffects(){return this._resolvedEffects}_setEffects(e){const n={};for(const i of this.effects)n[i.id]=i;const r=[];for(const i of e){const o=n[i.id];o&&o!==i?o.setProps?(o.setProps(i.props),r.push(o)):(o.cleanup(),r.push(i)):r.push(i),delete n[i.id]}for(const i in n)n[i].cleanup();this.effects=r,this._resolvedEffects=r.concat(this._defaultEffects),e.some(i=>i instanceof DA)||this._resolvedEffects.push(U$),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup();this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class G$ extends H1{shouldDrawLayer(e){const{operation:n}=e.props;return n.includes("draw")||n.includes("terrain")}}const q$="deckRenderer.renderLayers";class X${constructor(e){P(this,"gl",void 0),P(this,"layerFilter",void 0),P(this,"drawPickingColors",void 0),P(this,"drawLayersPass",void 0),P(this,"pickLayersPass",void 0),P(this,"renderCount",void 0),P(this,"_needsRedraw",void 0),P(this,"renderBuffers",void 0),P(this,"lastPostProcessEffect",void 0),this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new G$(e),this.pickLayersPass=new BA(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const n=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,r={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e,target:e.target||In.getDefaultFramebuffer(this.gl)};r.effects&&this._preRender(r.effects,r);const i=this.lastPostProcessEffect?this.renderBuffers[0]:r.target,o=n.render({...r,target:i});r.effects&&this._postRender(r.effects,r),this.renderCount++,er(q$,this,o,e)}needsRedraw(e={clearRedrawFlags:!1}){const n=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),n}finalize(){const{renderBuffers:e}=this;for(const n of e)n.delete();e.length=0}_preRender(e,n){this.lastPostProcessEffect=null,n.preRenderStats=n.preRenderStats||{};for(const r of e)n.preRenderStats[r.id]=r.preRender(this.gl,n),r.postRender&&(this.lastPostProcessEffect=r.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this;e.length===0&&e.push(new In(this.gl),new In(this.gl));for(const n of e)n.resize()}_postRender(e,n){const{renderBuffers:r}=this,i={...n,inputBuffer:r[0],swapBuffer:r[1],target:null};for(const o of e)if(o.postRender){if(o.id===this.lastPostProcessEffect){i.target=n.target,o.postRender(this.gl,i);break}const s=o.postRender(this.gl,i);i.inputBuffer=s,i.swapBuffer=s===r[0]?r[1]:r[0]}}}const K$={pickedColor:null,pickedObjectIndex:-1};function Y$({pickedColors:t,decodePickingColor:e,deviceX:n,deviceY:r,deviceRadius:i,deviceRect:o}){const{x:s,y:a,width:l,height:c}=o;let u=i*i,f=-1,d=0;for(let h=0;h<c;h++){const p=h+a-r,v=p*p;if(v>u)d+=4*l;else for(let _=0;_<l;_++){if(t[d+3]-1>=0){const y=_+s-n,b=y*y+v;b<=u&&(u=b,f=d)}d+=4}}if(f>=0){const h=t.slice(f,f+4),p=e(h);if(p){const v=Math.floor(f/4/l),_=f/4-v*l;return{...p,pickedColor:h,pickedX:s+_,pickedY:a+v}}it.error("Picked non-existent layer. Is picking buffer corrupt?")()}return K$}function Z$({pickedColors:t,decodePickingColor:e}){const n=new Map;if(t){for(let r=0;r<t.length;r+=4)if(t[r+3]-1>=0){const o=t.slice(r,r+4),s=o.join(",");if(!n.has(s)){const a=e(o);a?n.set(s,{...a,color:o}):it.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(n.values())}function VA({pickInfo:t,viewports:e,pixelRatio:n,x:r,y:i,z:o}){let s=e[0];e.length>1&&(s=J$((t==null?void 0:t.pickedViewports)||e,{x:r,y:i}));let a;if(s){const l=[r-s.x,i-s.y];o!==void 0&&(l[2]=o),a=s.unproject(l)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:r,y:i,pixel:[r,i],coordinate:a,devicePixel:t&&"pickedX"in t?[t.pickedX,t.pickedY]:void 0,pixelRatio:n}}function Q$(t){const{pickInfo:e,lastPickedInfo:n,mode:r,layers:i}=t,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,l=s?[s]:[];if(r==="hover"){const f=n.index,d=n.layerId,h=s?s.props.id:null;if(h!==d||a!==f){if(h!==d){const p=i.find(v=>v.props.id===d);p&&l.unshift(p)}n.layerId=h,n.index=a,n.info=null}}const c=VA(t),u=new Map;return u.set(null,c),l.forEach(f=>{let d={...c};f===s&&(d.color=o,d.index=a,d.picked=!0),d=UA({layer:f,info:d,mode:r});const h=d.layer;f===s&&r==="hover"&&(n.info=d),u.set(h.id,d),r==="hover"&&h.updateAutoHighlight(d)}),u}function UA({layer:t,info:e,mode:n}){for(;t&&e;){const r=e.layer||null;e.sourceLayer=r,e.layer=t,e=t.getPickingInfo({info:e,mode:n,sourceLayer:r}),t=t.parent}return e}function J$(t,e){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.containsPixel(e))return r}return t[0]}class eV{constructor(e){P(this,"gl",void 0),P(this,"pickingFBO",void 0),P(this,"depthFBO",void 0),P(this,"pickLayersPass",void 0),P(this,"layerFilter",void 0),P(this,"lastPickedInfo",void 0),P(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new BA(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:n,layers:r,viewports:i},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,l=s?r.find(d=>d.id===s):null,c=a&&i.find(d=>d.id===a)||i[0],u=c&&c.unproject([e-c.x,n-c.y]);return{...o,...{x:e,y:n,viewport:c,coordinate:u,layer:l}}}_resizeBuffer(){var e,n;const{gl:r}=this;if(!this.pickingFBO&&(this.pickingFBO=new In(r),In.isSupported(r,{colorBufferFloat:!0}))){const i=new In(r);i.attach({36064:new Gr(r,{format:ot(r)?34836:6408,type:5126})}),this.depthFBO=i}(e=this.pickingFBO)===null||e===void 0||e.resize({width:r.canvas.width,height:r.canvas.height}),(n=this.depthFBO)===null||n===void 0||n.resize({width:r.canvas.width,height:r.canvas.height})}_getPickable(e){if(this._pickable===!1)return null;const n=e.filter(r=>this.pickLayersPass.shouldDrawLayer(r)&&!r.isComposite);return n.length?n:null}_pickClosestObject({layers:e,views:n,viewports:r,x:i,y:o,radius:s=0,depth:a=1,mode:l="query",unproject3D:c,onViewportActive:u,effects:f}){const d=this._getPickable(e),h=dl(this.gl);if(!d)return{result:[],emptyInfo:VA({viewports:r,x:i,y:o,pixelRatio:h})};this._resizeBuffer();const p=Up(this.gl,[i,o],!0),v=[p.x+Math.floor(p.width/2),p.y+Math.floor(p.height/2)],_=Math.round(s*h),{width:m,height:y}=this.pickingFBO,b=this._getPickingRect({deviceX:v[0],deviceY:v[1],deviceRadius:_,deviceWidth:m,deviceHeight:y}),w={x:i-s,y:o-s,width:s*2+1,height:s*2+1};let S;const x=[],E=new Set;for(let I=0;I<a;I++){let M;if(b){const R=this._drawAndSample({layers:d,views:n,viewports:r,onViewportActive:u,deviceRect:b,cullRect:w,effects:f,pass:"picking:".concat(l)});M=Y$({...R,deviceX:v[0],deviceY:v[1],deviceRadius:_,deviceRect:b})}else M={pickedColor:null,pickedObjectIndex:-1};let O;if(M.pickedLayer&&c&&this.depthFBO){const{pickedColors:R}=this._drawAndSample({layers:[M.pickedLayer],views:n,viewports:r,onViewportActive:u,deviceRect:{x:M.pickedX,y:M.pickedY,width:1,height:1},cullRect:w,effects:f,pass:"picking:".concat(l,":z")},!0);R[3]&&(O=R[0])}M.pickedLayer&&I+1<a&&(E.add(M.pickedLayer),M.pickedLayer.disablePickingIndex(M.pickedObjectIndex)),S=Q$({pickInfo:M,lastPickedInfo:this.lastPickedInfo,mode:l,layers:d,viewports:r,x:i,y:o,z:O,pixelRatio:h});for(const R of S.values())R.layer&&x.push(R);if(!M.pickedColor)break}for(const I of E)I.restorePickingColors();return{result:x,emptyInfo:S.get(null)}}_pickVisibleObjects({layers:e,views:n,viewports:r,x:i,y:o,width:s=1,height:a=1,mode:l="query",maxObjects:c=null,onViewportActive:u,effects:f}){const d=this._getPickable(e);if(!d)return[];this._resizeBuffer();const h=dl(this.gl),p=Up(this.gl,[i,o],!0),v=p.x,_=p.y+p.height,m=Up(this.gl,[i+s,o+a],!0),y=m.x+m.width,b=m.y,w={x:v,y:b,width:y-v,height:_-b},S=this._drawAndSample({layers:d,views:n,viewports:r,onViewportActive:u,deviceRect:w,cullRect:{x:i,y:o,width:s,height:a},effects:f,pass:"picking:".concat(l)}),x=Z$(S),E=new Map,I=Number.isFinite(c);for(let M=0;M<x.length&&!(I&&c&&E.size>=c);M++){const O=x[M];let R={color:O.pickedColor,layer:null,index:O.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:h};R=UA({layer:O.pickedLayer,info:R,mode:l}),E.has(R.object)||E.set(R.object,R)}return Array.from(E.values())}_drawAndSample({layers:e,views:n,viewports:r,onViewportActive:i,deviceRect:o,cullRect:s,effects:a,pass:l},c=!1){const u=c?this.depthFBO:this.pickingFBO,f={layers:e,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:i,pickingFBO:u,deviceRect:o,cullRect:s,effects:a,pass:l,pickZ:c,preRenderStats:{}};for(const y of a)y.useInPicking&&(f.preRenderStats[y.id]=y.preRender(this.gl,f));const{decodePickingColor:d}=this.pickLayersPass.render(f),{x:h,y:p,width:v,height:_}=o,m=new(c?Float32Array:Uint8Array)(v*_*4);return vg(u,{sourceX:h,sourceY:p,sourceWidth:v,sourceHeight:_,target:m}),{pickedColors:m,decodePickingColor:d}}_getPickingRect({deviceX:e,deviceY:n,deviceRadius:r,deviceWidth:i,deviceHeight:o}){const s=Math.max(0,e-r),a=Math.max(0,n-r),l=Math.min(i,e+r+1)-s,c=Math.min(o,n+r+1)-a;return l<=0||c<=0?null:{x:s,y:a,width:l,height:c}}}const tV={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class nV{constructor(e){P(this,"el",null),P(this,"isVisible",!1);const n=e.parentElement;n&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,tV),n.appendChild(this.el))}setTooltip(e,n,r){const i=this.el;if(i){if(typeof e=="string")i.innerText=e;else if(e)e.text&&(i.innerText=e.text),e.html&&(i.innerHTML=e.html),e.className&&(i.className=e.className);else{this.isVisible=!1,i.style.display="none";return}this.isVisible=!0,i.style.display="block",i.style.transform="translate(".concat(n,"px, ").concat(r,"px)"),e&&typeof e=="object"&&"style"in e&&Object.assign(i.style,e.style)}}remove(){this.el&&(this.el.remove(),this.el=null)}}var HA={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(t){(function(e,n,r,i){var o=["","webkit","Moz","MS","ms","o"],s=n.createElement("div"),a="function",l=Math.round,c=Math.abs,u=Date.now;function f(C,T,L){return setTimeout(b(C,L),T)}function d(C,T,L){return Array.isArray(C)?(h(C,L[T],L),!0):!1}function h(C,T,L){var H;if(C)if(C.forEach)C.forEach(T,L);else if(C.length!==i)for(H=0;H<C.length;)T.call(L,C[H],H,C),H++;else for(H in C)C.hasOwnProperty(H)&&T.call(L,C[H],H,C)}function p(C,T,L){var H="DEPRECATED METHOD: "+T+`
`+L+` AT 
`;return function(){var K=new Error("get-stack-trace"),he=K&&K.stack?K.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Ke=e.console&&(e.console.warn||e.console.log);return Ke&&Ke.call(e.console,H,he),C.apply(this,arguments)}}var v;typeof Object.assign!="function"?v=function(T){if(T===i||T===null)throw new TypeError("Cannot convert undefined or null to object");for(var L=Object(T),H=1;H<arguments.length;H++){var K=arguments[H];if(K!==i&&K!==null)for(var he in K)K.hasOwnProperty(he)&&(L[he]=K[he])}return L}:v=Object.assign;var _=p(function(T,L,H){for(var K=Object.keys(L),he=0;he<K.length;)(!H||H&&T[K[he]]===i)&&(T[K[he]]=L[K[he]]),he++;return T},"extend","Use `assign`."),m=p(function(T,L){return _(T,L,!0)},"merge","Use `assign`.");function y(C,T,L){var H=T.prototype,K;K=C.prototype=Object.create(H),K.constructor=C,K._super=H,L&&v(K,L)}function b(C,T){return function(){return C.apply(T,arguments)}}function w(C,T){return typeof C==a?C.apply(T&&T[0]||i,T):C}function S(C,T){return C===i?T:C}function x(C,T,L){h(O(T),function(H){C.addEventListener(H,L,!1)})}function E(C,T,L){h(O(T),function(H){C.removeEventListener(H,L,!1)})}function I(C,T){for(;C;){if(C==T)return!0;C=C.parentNode}return!1}function M(C,T){return C.indexOf(T)>-1}function O(C){return C.trim().split(/\s+/g)}function R(C,T,L){if(C.indexOf&&!L)return C.indexOf(T);for(var H=0;H<C.length;){if(L&&C[H][L]==T||!L&&C[H]===T)return H;H++}return-1}function D(C){return Array.prototype.slice.call(C,0)}function k(C,T,L){for(var H=[],K=[],he=0;he<C.length;){var Ke=T?C[he][T]:C[he];R(K,Ke)<0&&H.push(C[he]),K[he]=Ke,he++}return L&&(T?H=H.sort(function(Ut,an){return Ut[T]>an[T]}):H=H.sort()),H}function j(C,T){for(var L,H,K=T[0].toUpperCase()+T.slice(1),he=0;he<o.length;){if(L=o[he],H=L?L+K:T,H in C)return H;he++}return i}var G=1;function F(){return G++}function N(C){var T=C.ownerDocument||C;return T.defaultView||T.parentWindow||e}var A=/mobile|tablet|ip(ad|hone|od)|android/i,z="ontouchstart"in e,B=j(e,"PointerEvent")!==i,U=z&&A.test(navigator.userAgent),W="touch",Y="pen",re="mouse",se="kinect",ge=25,ae=1,J=2,q=4,Z=8,ue=1,ie=2,Q=4,oe=8,Ie=16,Le=ie|Q,Te=oe|Ie,Fe=Le|Te,ce=["x","y"],Pe=["clientX","clientY"];function fe(C,T){var L=this;this.manager=C,this.callback=T,this.element=C.element,this.target=C.options.inputTarget,this.domHandler=function(H){w(C.options.enable,[C])&&L.handler(H)},this.init()}fe.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(N(this.element),this.evWin,this.domHandler)}};function le(C){var T,L=C.options.inputClass;return L?T=L:B?T=Pt:U?T=pe:z?T=jt:T=Ft,new T(C,De)}function De(C,T,L){var H=L.pointers.length,K=L.changedPointers.length,he=T&ae&&H-K===0,Ke=T&(q|Z)&&H-K===0;L.isFirst=!!he,L.isFinal=!!Ke,he&&(C.session={}),L.eventType=T,tt(C,L),C.emit("hammer.input",L),C.recognize(L),C.session.prevInput=L}function tt(C,T){var L=C.session,H=T.pointers,K=H.length;L.firstInput||(L.firstInput=pt(T)),K>1&&!L.firstMultiple?L.firstMultiple=pt(T):K===1&&(L.firstMultiple=!1);var he=L.firstInput,Ke=L.firstMultiple,Mt=Ke?Ke.center:he.center,Ut=T.center=mt(H);T.timeStamp=u(),T.deltaTime=T.timeStamp-he.timeStamp,T.angle=Tt(Mt,Ut),T.distance=$e(Mt,Ut),He(L,T),T.offsetDirection=Ze(T.deltaX,T.deltaY);var an=Ye(T.deltaTime,T.deltaX,T.deltaY);T.overallVelocityX=an.x,T.overallVelocityY=an.y,T.overallVelocity=c(an.x)>c(an.y)?an.x:an.y,T.scale=Ke?xn(Ke.pointers,H):1,T.rotation=Ke?dn(Ke.pointers,H):0,T.maxPointers=L.prevInput?T.pointers.length>L.prevInput.maxPointers?T.pointers.length:L.prevInput.maxPointers:T.pointers.length,Me(L,T);var Kn=C.element;I(T.srcEvent.target,Kn)&&(Kn=T.srcEvent.target),T.target=Kn}function He(C,T){var L=T.center,H=C.offsetDelta||{},K=C.prevDelta||{},he=C.prevInput||{};(T.eventType===ae||he.eventType===q)&&(K=C.prevDelta={x:he.deltaX||0,y:he.deltaY||0},H=C.offsetDelta={x:L.x,y:L.y}),T.deltaX=K.x+(L.x-H.x),T.deltaY=K.y+(L.y-H.y)}function Me(C,T){var L=C.lastInterval||T,H=T.timeStamp-L.timeStamp,K,he,Ke,Mt;if(T.eventType!=Z&&(H>ge||L.velocity===i)){var Ut=T.deltaX-L.deltaX,an=T.deltaY-L.deltaY,Kn=Ye(H,Ut,an);he=Kn.x,Ke=Kn.y,K=c(Kn.x)>c(Kn.y)?Kn.x:Kn.y,Mt=Ze(Ut,an),C.lastInterval=T}else K=L.velocity,he=L.velocityX,Ke=L.velocityY,Mt=L.direction;T.velocity=K,T.velocityX=he,T.velocityY=Ke,T.direction=Mt}function pt(C){for(var T=[],L=0;L<C.pointers.length;)T[L]={clientX:l(C.pointers[L].clientX),clientY:l(C.pointers[L].clientY)},L++;return{timeStamp:u(),pointers:T,center:mt(T),deltaX:C.deltaX,deltaY:C.deltaY}}function mt(C){var T=C.length;if(T===1)return{x:l(C[0].clientX),y:l(C[0].clientY)};for(var L=0,H=0,K=0;K<T;)L+=C[K].clientX,H+=C[K].clientY,K++;return{x:l(L/T),y:l(H/T)}}function Ye(C,T,L){return{x:T/C||0,y:L/C||0}}function Ze(C,T){return C===T?ue:c(C)>=c(T)?C<0?ie:Q:T<0?oe:Ie}function $e(C,T,L){L||(L=ce);var H=T[L[0]]-C[L[0]],K=T[L[1]]-C[L[1]];return Math.sqrt(H*H+K*K)}function Tt(C,T,L){L||(L=ce);var H=T[L[0]]-C[L[0]],K=T[L[1]]-C[L[1]];return Math.atan2(K,H)*180/Math.PI}function dn(C,T){return Tt(T[1],T[0],Pe)+Tt(C[1],C[0],Pe)}function xn(C,T){return $e(T[0],T[1],Pe)/$e(C[0],C[1],Pe)}var kt={mousedown:ae,mousemove:J,mouseup:q},gt="mousedown",wt="mousemove mouseup";function Ft(){this.evEl=gt,this.evWin=wt,this.pressed=!1,fe.apply(this,arguments)}y(Ft,fe,{handler:function(T){var L=kt[T.type];L&ae&&T.button===0&&(this.pressed=!0),L&J&&T.which!==1&&(L=q),this.pressed&&(L&q&&(this.pressed=!1),this.callback(this.manager,L,{pointers:[T],changedPointers:[T],pointerType:re,srcEvent:T}))}});var ct={pointerdown:ae,pointermove:J,pointerup:q,pointercancel:Z,pointerout:Z},vt={2:W,3:Y,4:re,5:se},Qt="pointerdown",nt="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Qt="MSPointerDown",nt="MSPointerMove MSPointerUp MSPointerCancel");function Pt(){this.evEl=Qt,this.evWin=nt,fe.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}y(Pt,fe,{handler:function(T){var L=this.store,H=!1,K=T.type.toLowerCase().replace("ms",""),he=ct[K],Ke=vt[T.pointerType]||T.pointerType,Mt=Ke==W,Ut=R(L,T.pointerId,"pointerId");he&ae&&(T.button===0||Mt)?Ut<0&&(L.push(T),Ut=L.length-1):he&(q|Z)&&(H=!0),!(Ut<0)&&(L[Ut]=T,this.callback(this.manager,he,{pointers:L,changedPointers:[T],pointerType:Ke,srcEvent:T}),H&&L.splice(Ut,1))}});var rt={touchstart:ae,touchmove:J,touchend:q,touchcancel:Z},Se="touchstart",qe="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=Se,this.evWin=qe,this.started=!1,fe.apply(this,arguments)}y(ve,fe,{handler:function(T){var L=rt[T.type];if(L===ae&&(this.started=!0),!!this.started){var H=Re.call(this,T,L);L&(q|Z)&&H[0].length-H[1].length===0&&(this.started=!1),this.callback(this.manager,L,{pointers:H[0],changedPointers:H[1],pointerType:W,srcEvent:T})}}});function Re(C,T){var L=D(C.touches),H=D(C.changedTouches);return T&(q|Z)&&(L=k(L.concat(H),"identifier",!0)),[L,H]}var ee={touchstart:ae,touchmove:J,touchend:q,touchcancel:Z},be="touchstart touchmove touchend touchcancel";function pe(){this.evTarget=be,this.targetIds={},fe.apply(this,arguments)}y(pe,fe,{handler:function(T){var L=ee[T.type],H=ye.call(this,T,L);H&&this.callback(this.manager,L,{pointers:H[0],changedPointers:H[1],pointerType:W,srcEvent:T})}});function ye(C,T){var L=D(C.touches),H=this.targetIds;if(T&(ae|J)&&L.length===1)return H[L[0].identifier]=!0,[L,L];var K,he,Ke=D(C.changedTouches),Mt=[],Ut=this.target;if(he=L.filter(function(an){return I(an.target,Ut)}),T===ae)for(K=0;K<he.length;)H[he[K].identifier]=!0,K++;for(K=0;K<Ke.length;)H[Ke[K].identifier]&&Mt.push(Ke[K]),T&(q|Z)&&delete H[Ke[K].identifier],K++;if(Mt.length)return[k(he.concat(Mt),"identifier",!0),Mt]}var Je=2500,et=25;function jt(){fe.apply(this,arguments);var C=b(this.handler,this);this.touch=new pe(this.manager,C),this.mouse=new Ft(this.manager,C),this.primaryTouch=null,this.lastTouches=[]}y(jt,fe,{handler:function(T,L,H){var K=H.pointerType==W,he=H.pointerType==re;if(!(he&&H.sourceCapabilities&&H.sourceCapabilities.firesTouchEvents)){if(K)Jt.call(this,L,H);else if(he&&yt.call(this,H))return;this.callback(T,L,H)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Jt(C,T){C&ae?(this.primaryTouch=T.changedPointers[0].identifier,At.call(this,T)):C&(q|Z)&&At.call(this,T)}function At(C){var T=C.changedPointers[0];if(T.identifier===this.primaryTouch){var L={x:T.clientX,y:T.clientY};this.lastTouches.push(L);var H=this.lastTouches,K=function(){var he=H.indexOf(L);he>-1&&H.splice(he,1)};setTimeout(K,Je)}}function yt(C){for(var T=C.srcEvent.clientX,L=C.srcEvent.clientY,H=0;H<this.lastTouches.length;H++){var K=this.lastTouches[H],he=Math.abs(T-K.x),Ke=Math.abs(L-K.y);if(he<=et&&Ke<=et)return!0}return!1}var on=j(s.style,"touchAction"),hn=on!==i,Gn="compute",Ne="auto",xe="manipulation",ke="none",ft="pan-x",$t="pan-y",Dt=Ri();function qn(C,T){this.manager=C,this.set(T)}qn.prototype={set:function(C){C==Gn&&(C=this.compute()),hn&&this.manager.element.style&&Dt[C]&&(this.manager.element.style[on]=C),this.actions=C.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var C=[];return h(this.manager.recognizers,function(T){w(T.options.enable,[T])&&(C=C.concat(T.getTouchAction()))}),Xi(C.join(" "))},preventDefaults:function(C){var T=C.srcEvent,L=C.offsetDirection;if(this.manager.session.prevented){T.preventDefault();return}var H=this.actions,K=M(H,ke)&&!Dt[ke],he=M(H,$t)&&!Dt[$t],Ke=M(H,ft)&&!Dt[ft];if(K){var Mt=C.pointers.length===1,Ut=C.distance<2,an=C.deltaTime<250;if(Mt&&Ut&&an)return}if(!(Ke&&he)&&(K||he&&L&Le||Ke&&L&Te))return this.preventSrc(T)},preventSrc:function(C){this.manager.session.prevented=!0,C.preventDefault()}};function Xi(C){if(M(C,ke))return ke;var T=M(C,ft),L=M(C,$t);return T&&L?ke:T||L?T?ft:$t:M(C,xe)?xe:Ne}function Ri(){if(!hn)return!1;var C={},T=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(L){C[L]=T?e.CSS.supports("touch-action",L):!0}),C}var pr=1,Rt=2,Mr=4,sr=8,yn=sr,Yr=16,bn=32;function gn(C){this.options=v({},this.defaults,C||{}),this.id=F(),this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=pr,this.simultaneous={},this.requireFail=[]}gn.prototype={defaults:{},set:function(C){return v(this.options,C),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(C){if(d(C,"recognizeWith",this))return this;var T=this.simultaneous;return C=Or(C,this),T[C.id]||(T[C.id]=C,C.recognizeWith(this)),this},dropRecognizeWith:function(C){return d(C,"dropRecognizeWith",this)?this:(C=Or(C,this),delete this.simultaneous[C.id],this)},requireFailure:function(C){if(d(C,"requireFailure",this))return this;var T=this.requireFail;return C=Or(C,this),R(T,C)===-1&&(T.push(C),C.requireFailure(this)),this},dropRequireFailure:function(C){if(d(C,"dropRequireFailure",this))return this;C=Or(C,this);var T=R(this.requireFail,C);return T>-1&&this.requireFail.splice(T,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(C){return!!this.simultaneous[C.id]},emit:function(C){var T=this,L=this.state;function H(K){T.manager.emit(K,C)}L<sr&&H(T.options.event+Zr(L)),H(T.options.event),C.additionalEvent&&H(C.additionalEvent),L>=sr&&H(T.options.event+Zr(L))},tryEmit:function(C){if(this.canEmit())return this.emit(C);this.state=bn},canEmit:function(){for(var C=0;C<this.requireFail.length;){if(!(this.requireFail[C].state&(bn|pr)))return!1;C++}return!0},recognize:function(C){var T=v({},C);if(!w(this.options.enable,[this,T])){this.reset(),this.state=bn;return}this.state&(yn|Yr|bn)&&(this.state=pr),this.state=this.process(T),this.state&(Rt|Mr|sr|Yr)&&this.tryEmit(T)},process:function(C){},getTouchAction:function(){},reset:function(){}};function Zr(C){return C&Yr?"cancel":C&sr?"end":C&Mr?"move":C&Rt?"start":""}function di(C){return C==Ie?"down":C==oe?"up":C==ie?"left":C==Q?"right":""}function Or(C,T){var L=T.manager;return L?L.get(C):C}function Kt(){gn.apply(this,arguments)}y(Kt,gn,{defaults:{pointers:1},attrTest:function(C){var T=this.options.pointers;return T===0||C.pointers.length===T},process:function(C){var T=this.state,L=C.eventType,H=T&(Rt|Mr),K=this.attrTest(C);return H&&(L&Z||!K)?T|Yr:H||K?L&q?T|sr:T&Rt?T|Mr:Rt:bn}});function Lr(){Kt.apply(this,arguments),this.pX=null,this.pY=null}y(Lr,Kt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fe},getTouchAction:function(){var C=this.options.direction,T=[];return C&Le&&T.push($t),C&Te&&T.push(ft),T},directionTest:function(C){var T=this.options,L=!0,H=C.distance,K=C.direction,he=C.deltaX,Ke=C.deltaY;return K&T.direction||(T.direction&Le?(K=he===0?ue:he<0?ie:Q,L=he!=this.pX,H=Math.abs(C.deltaX)):(K=Ke===0?ue:Ke<0?oe:Ie,L=Ke!=this.pY,H=Math.abs(C.deltaY))),C.direction=K,L&&H>T.threshold&&K&T.direction},attrTest:function(C){return Kt.prototype.attrTest.call(this,C)&&(this.state&Rt||!(this.state&Rt)&&this.directionTest(C))},emit:function(C){this.pX=C.deltaX,this.pY=C.deltaY;var T=di(C.direction);T&&(C.additionalEvent=this.options.event+T),this._super.emit.call(this,C)}});function Ve(){Kt.apply(this,arguments)}y(Ve,Kt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ke]},attrTest:function(C){return this._super.attrTest.call(this,C)&&(Math.abs(C.scale-1)>this.options.threshold||this.state&Rt)},emit:function(C){if(C.scale!==1){var T=C.scale<1?"in":"out";C.additionalEvent=this.options.event+T}this._super.emit.call(this,C)}});function ze(){gn.apply(this,arguments),this._timer=null,this._input=null}y(ze,gn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ne]},process:function(C){var T=this.options,L=C.pointers.length===T.pointers,H=C.distance<T.threshold,K=C.deltaTime>T.time;if(this._input=C,!H||!L||C.eventType&(q|Z)&&!K)this.reset();else if(C.eventType&ae)this.reset(),this._timer=f(function(){this.state=yn,this.tryEmit()},T.time,this);else if(C.eventType&q)return yn;return bn},reset:function(){clearTimeout(this._timer)},emit:function(C){this.state===yn&&(C&&C.eventType&q?this.manager.emit(this.options.event+"up",C):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}});function Vt(){Kt.apply(this,arguments)}y(Vt,Kt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ke]},attrTest:function(C){return this._super.attrTest.call(this,C)&&(Math.abs(C.rotation)>this.options.threshold||this.state&Rt)}});function sn(){Kt.apply(this,arguments)}y(sn,Kt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Le|Te,pointers:1},getTouchAction:function(){return Lr.prototype.getTouchAction.call(this)},attrTest:function(C){var T=this.options.direction,L;return T&(Le|Te)?L=C.overallVelocity:T&Le?L=C.overallVelocityX:T&Te&&(L=C.overallVelocityY),this._super.attrTest.call(this,C)&&T&C.offsetDirection&&C.distance>this.options.threshold&&C.maxPointers==this.options.pointers&&c(L)>this.options.velocity&&C.eventType&q},emit:function(C){var T=di(C.offsetDirection);T&&this.manager.emit(this.options.event+T,C),this.manager.emit(this.options.event,C)}});function St(){gn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}y(St,gn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[xe]},process:function(C){var T=this.options,L=C.pointers.length===T.pointers,H=C.distance<T.threshold,K=C.deltaTime<T.time;if(this.reset(),C.eventType&ae&&this.count===0)return this.failTimeout();if(H&&K&&L){if(C.eventType!=q)return this.failTimeout();var he=this.pTime?C.timeStamp-this.pTime<T.interval:!0,Ke=!this.pCenter||$e(this.pCenter,C.center)<T.posThreshold;this.pTime=C.timeStamp,this.pCenter=C.center,!Ke||!he?this.count=1:this.count+=1,this._input=C;var Mt=this.count%T.taps;if(Mt===0)return this.hasRequireFailures()?(this._timer=f(function(){this.state=yn,this.tryEmit()},T.interval,this),Rt):yn}return bn},failTimeout:function(){return this._timer=f(function(){this.state=bn},this.options.interval,this),bn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==yn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function It(C,T){return T=T||{},T.recognizers=S(T.recognizers,It.defaults.preset),new Xn(C,T)}It.VERSION="2.0.7",It.defaults={domEvents:!1,touchAction:Gn,enable:!0,inputTarget:null,inputClass:null,preset:[[Vt,{enable:!1}],[Ve,{enable:!1},["rotate"]],[sn,{direction:Le}],[Lr,{direction:Le},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[ze]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Fn=1,Qr=2;function Xn(C,T){this.options=v({},It.defaults,T||{}),this.options.inputTarget=this.options.inputTarget||C,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=C,this.input=le(this),this.touchAction=new qn(this,this.options.touchAction),mr(this,!0),h(this.options.recognizers,function(L){var H=this.add(new L[0](L[1]));L[2]&&H.recognizeWith(L[2]),L[3]&&H.requireFailure(L[3])},this)}Xn.prototype={set:function(C){return v(this.options,C),C.touchAction&&this.touchAction.update(),C.inputTarget&&(this.input.destroy(),this.input.target=C.inputTarget,this.input.init()),this},stop:function(C){this.session.stopped=C?Qr:Fn},recognize:function(C){var T=this.session;if(!T.stopped){this.touchAction.preventDefaults(C);var L,H=this.recognizers,K=T.curRecognizer;(!K||K&&K.state&yn)&&(K=T.curRecognizer=null);for(var he=0;he<H.length;)L=H[he],T.stopped!==Qr&&(!K||L==K||L.canRecognizeWith(K))?L.recognize(C):L.reset(),!K&&L.state&(Rt|Mr|sr)&&(K=T.curRecognizer=L),he++}},get:function(C){if(C instanceof gn)return C;for(var T=this.recognizers,L=0;L<T.length;L++)if(T[L].options.event==C)return T[L];return null},add:function(C){if(d(C,"add",this))return this;var T=this.get(C.options.event);return T&&this.remove(T),this.recognizers.push(C),C.manager=this,this.touchAction.update(),C},remove:function(C){if(d(C,"remove",this))return this;if(C=this.get(C),C){var T=this.recognizers,L=R(T,C);L!==-1&&(T.splice(L,1),this.touchAction.update())}return this},on:function(C,T){if(C!==i&&T!==i){var L=this.handlers;return h(O(C),function(H){L[H]=L[H]||[],L[H].push(T)}),this}},off:function(C,T){if(C!==i){var L=this.handlers;return h(O(C),function(H){T?L[H]&&L[H].splice(R(L[H],T),1):delete L[H]}),this}},emit:function(C,T){this.options.domEvents&&vr(C,T);var L=this.handlers[C]&&this.handlers[C].slice();if(!(!L||!L.length)){T.type=C,T.preventDefault=function(){T.srcEvent.preventDefault()};for(var H=0;H<L.length;)L[H](T),H++}},destroy:function(){this.element&&mr(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function mr(C,T){var L=C.element;if(L.style){var H;h(C.options.cssProps,function(K,he){H=j(L.style,he),T?(C.oldCssProps[H]=L.style[H],L.style[H]=K):L.style[H]=C.oldCssProps[H]||""}),T||(C.oldCssProps={})}}function vr(C,T){var L=n.createEvent("Event");L.initEvent(C,!0,!0),L.gesture=T,T.target.dispatchEvent(L)}v(It,{INPUT_START:ae,INPUT_MOVE:J,INPUT_END:q,INPUT_CANCEL:Z,STATE_POSSIBLE:pr,STATE_BEGAN:Rt,STATE_CHANGED:Mr,STATE_ENDED:sr,STATE_RECOGNIZED:yn,STATE_CANCELLED:Yr,STATE_FAILED:bn,DIRECTION_NONE:ue,DIRECTION_LEFT:ie,DIRECTION_RIGHT:Q,DIRECTION_UP:oe,DIRECTION_DOWN:Ie,DIRECTION_HORIZONTAL:Le,DIRECTION_VERTICAL:Te,DIRECTION_ALL:Fe,Manager:Xn,Input:fe,TouchAction:qn,TouchInput:pe,MouseInput:Ft,PointerEventInput:Pt,TouchMouseInput:jt,SingleTouchInput:ve,Recognizer:gn,AttrRecognizer:Kt,Tap:St,Pan:Lr,Swipe:sn,Pinch:Ve,Rotate:Vt,Press:ze,on:x,off:E,each:h,merge:m,extend:_,assign:v,inherit:y,bindFn:b,prefixed:j});var Eo=typeof e<"u"?e:typeof self<"u"?self:{};Eo.Hammer=It,typeof i=="function"&&i.amd?i(function(){return It}):t.exports?t.exports=It:e[r]=It})(window,document,"Hammer")})(HA);var qu=HA.exports;const rV=Lu(qu),Fi=xy({__proto__:null,default:rV},[qu]),WA=1,GA=2,a0=4,iV={mousedown:WA,mousemove:GA,mouseup:a0};function oV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function sV(t){const e=t.prototype.handler;t.prototype.handler=function(r){const i=this.store;r.button>0&&r.type==="pointerdown"&&(oV(i,o=>o.pointerId===r.pointerId)||i.push(r)),e.call(this,r)}}function aV(t){t.prototype.handler=function(n){let r=iV[n.type];r&WA&&n.button>=0&&(this.pressed=!0),r&GA&&n.which===0&&(r=a0),this.pressed&&(r&a0&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[n],changedPointers:[n],pointerType:"mouse",srcEvent:n}))}}sV(qu.PointerEventInput);aV(qu.MouseInput);const lV=qu.Manager;let bg=class{constructor(e,n,r){this.element=e,this.callback=n,this.options={enable:!0,...r}}};const cV=Fi?[[Fi.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Fi.Rotate,{enable:!1}],[Fi.Pinch,{enable:!1}],[Fi.Swipe,{enable:!1}],[Fi.Pan,{threshold:0,enable:!1}],[Fi.Press,{enable:!1}],[Fi.Tap,{event:"doubletap",taps:2,enable:!1}],[Fi.Tap,{event:"anytap",enable:!1}],[Fi.Tap,{enable:!1}]]:null,US={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},uV={doubletap:["tap"]},fV={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},K1={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},dV={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},HS={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},hV=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",ja=typeof window<"u"?window:global;let l0=!1;try{const t={get passive(){return l0=!0,!0}};ja.addEventListener("test",null,t),ja.removeEventListener("test",null)}catch{l0=!1}const gV=hV.indexOf("firefox")!==-1,{WHEEL_EVENTS:pV}=K1,WS="wheel",GS=4.000244140625,mV=40,vV=.25;class yV extends bg{constructor(e,n,r){super(e,n,r),this.handleEvent=i=>{if(!this.options.enable)return;let o=i.deltaY;ja.WheelEvent&&(gV&&i.deltaMode===ja.WheelEvent.DOM_DELTA_PIXEL&&(o/=ja.devicePixelRatio),i.deltaMode===ja.WheelEvent.DOM_DELTA_LINE&&(o*=mV)),o!==0&&o%GS===0&&(o=Math.floor(o/GS)),i.shiftKey&&o&&(o=o*vV),this.callback({type:WS,center:{x:i.clientX,y:i.clientY},delta:-o,srcEvent:i,pointerType:"mouse",target:i.target})},this.events=(this.options.events||[]).concat(pV),this.events.forEach(i=>e.addEventListener(i,this.handleEvent,l0?{passive:!1}:!1))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e===WS&&(this.options.enable=n)}}const{MOUSE_EVENTS:bV}=K1,qS="pointermove",XS="pointerover",KS="pointerout",YS="pointerenter",ZS="pointerleave";class _V extends bg{constructor(e,n,r){super(e,n,r),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,this.events=(this.options.events||[]).concat(bV),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e===qS&&(this.enableMoveEvent=n),e===XS&&(this.enableOverEvent=n),e===KS&&(this.enableOutEvent=n),e===YS&&(this.enableEnterEvent=n),e===ZS&&(this.enableLeaveEvent=n)}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit(XS,e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit(KS,e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit(YS,e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit(ZS,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.which===0&&(this.pressed=!1),this.pressed||this._emit(qS,e);break;case"mouseup":this.pressed=!1;break}}_emit(e,n){this.callback({type:e,center:{x:n.clientX,y:n.clientY},srcEvent:n,pointerType:"mouse",target:n.target})}}const{KEY_EVENTS:wV}=K1,QS="keydown",JS="keyup";class SV extends bg{constructor(e,n,r){super(e,n,r),this.handleEvent=i=>{const o=i.target||i.srcElement;o.tagName==="INPUT"&&o.type==="text"||o.tagName==="TEXTAREA"||(this.enableDownEvent&&i.type==="keydown"&&this.callback({type:QS,srcEvent:i,key:i.key,target:i.target}),this.enableUpEvent&&i.type==="keyup"&&this.callback({type:JS,srcEvent:i,key:i.key,target:i.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(wV),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(i=>e.addEventListener(i,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,n){e===QS&&(this.enableDownEvent=n),e===JS&&(this.enableUpEvent=n)}}const eE="contextmenu";class EV extends bg{constructor(e,n,r){super(e,n,r),this.handleEvent=i=>{this.options.enable&&this.callback({type:eE,center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,n){e===eE&&(this.options.enable=n)}}const c0=1,Oh=2,u0=4,xV={pointerdown:c0,pointermove:Oh,pointerup:u0,mousedown:c0,mousemove:Oh,mouseup:u0},CV=1,TV=2,PV=3,AV=0,IV=1,MV=2,OV=1,LV=2,RV=4;function NV(t){const e=xV[t.srcEvent.type];if(!e)return null;const{buttons:n,button:r,which:i}=t.srcEvent;let o=!1,s=!1,a=!1;return e===u0||e===Oh&&!Number.isFinite(n)?(o=i===CV,s=i===TV,a=i===PV):e===Oh?(o=!!(n&OV),s=!!(n&RV),a=!!(n&LV)):e===c0&&(o=r===AV,s=r===IV,a=r===MV),{leftButton:o,middleButton:s,rightButton:a}}function kV(t,e){const n=t.center;if(!n)return null;const r=e.getBoundingClientRect(),i=r.width/e.offsetWidth||1,o=r.height/e.offsetHeight||1,s={x:(n.x-r.left-e.clientLeft)/i,y:(n.y-r.top-e.clientTop)/o};return{center:n,offsetCenter:s}}const lm={srcElement:"root",priority:0};class FV{constructor(e){this.handleEvent=n=>{if(this.isEmpty())return;const r=this._normalizeEvent(n);let i=n.srcEvent.target;for(;i&&i!==r.rootElement;){if(this._emit(r,i),r.handled)return;i=i.parentNode}this._emit(r,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,n,r,i=!1,o=!1){const{handlers:s,handlersByElement:a}=this;let l=lm;typeof r=="string"||r&&r.addEventListener?l={...lm,srcElement:r}:r&&(l={...lm,...r});let c=a.get(l.srcElement);c||(c=[],a.set(l.srcElement,c));const u={type:e,handler:n,srcElement:l.srcElement,priority:l.priority};i&&(u.once=!0),o&&(u.passive=!0),s.push(u),this._active=this._active||!u.passive;let f=c.length-1;for(;f>=0&&!(c[f].priority>=u.priority);)f--;c.splice(f+1,0,u)}remove(e,n){const{handlers:r,handlersByElement:i}=this;for(let o=r.length-1;o>=0;o--){const s=r[o];if(s.type===e&&s.handler===n){r.splice(o,1);const a=i.get(s.srcElement);a.splice(a.indexOf(s),1),a.length===0&&i.delete(s.srcElement)}}this._active=r.some(o=>!o.passive)}_emit(e,n){const r=this.handlersByElement.get(n);if(r){let i=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,i=!0},a=[];for(let l=0;l<r.length;l++){const{type:c,handler:u,once:f}=r[l];if(u({...e,type:c,stopPropagation:o,stopImmediatePropagation:s}),f&&a.push(r[l]),i)break}for(let l=0;l<a.length;l++){const{type:c,handler:u}=a[l];this.remove(c,u)}}}_normalizeEvent(e){const n=this.eventManager.getElement();return{...e,...NV(e),...kV(e,n),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:n}}}const DV={events:null,recognizers:null,recognizerOptions:{},Manager:lV,touchAction:"none",tabIndex:0};class zV{constructor(e=null,n){this._onBasicInput=i=>{const{srcEvent:o}=i,s=fV[o.type];s&&this.manager.emit(s,i)},this._onOtherEvent=i=>{this.manager.emit(i.type,i)},this.options={...DV,...n},this.events=new Map,this.setElement(e);const{events:r}=this.options;r&&this.on(r)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:n}=this,r=n.Manager;this.manager=new r(e,{touchAction:n.touchAction,recognizers:n.recognizers||cV}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(US).forEach(i=>{const o=this.manager.get(i);o&&US[i].forEach(s=>{o.recognizeWith(s)})});for(const i in n.recognizerOptions){const o=this.manager.get(i);if(o){const s=n.recognizerOptions[i];delete s.enable,o.set(s)}}this.wheelInput=new yV(e,this._onOtherEvent,{enable:!1}),this.moveInput=new _V(e,this._onOtherEvent,{enable:!1}),this.keyInput=new SV(e,this._onOtherEvent,{enable:!1,tabIndex:n.tabIndex}),this.contextmenuInput=new EV(e,this._onOtherEvent,{enable:!1});for(const[i,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(i,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,n,r){this._addEventHandler(e,n,r,!1)}once(e,n,r){this._addEventHandler(e,n,r,!0)}watch(e,n,r){this._addEventHandler(e,n,r,!1,!0)}off(e,n){this._removeEventHandler(e,n)}_toggleRecognizer(e,n){const{manager:r}=this;if(!r)return;const i=r.get(e);if(i&&i.options.enable!==n){i.set({enable:n});const o=uV[e];o&&!this.options.recognizers&&o.forEach(s=>{const a=r.get(s);n?(a.requireFailure(e),i.dropRequireFailure(s)):a.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,n),this.moveInput.enableEventType(e,n),this.keyInput.enableEventType(e,n),this.contextmenuInput.enableEventType(e,n)}_addEventHandler(e,n,r,i,o){if(typeof e!="string"){r=n;for(const u in e)this._addEventHandler(u,e[u],r,i,o);return}const{manager:s,events:a}=this,l=HS[e]||e;let c=a.get(l);c||(c=new FV(this),a.set(l,c),c.recognizerName=dV[l]||l,s&&s.on(l,c.handleEvent)),c.add(e,n,r,i,o),c.isEmpty()||this._toggleRecognizer(c.recognizerName,!0)}_removeEventHandler(e,n){if(typeof e!="string"){for(const s in e)this._removeEventHandler(s,e[s]);return}const{events:r}=this,i=HS[e]||e,o=r.get(i);if(o&&(o.remove(e,n),o.isEmpty())){const{recognizerName:s}=o;let a=!1;for(const l of r.values())if(l.recognizerName===s&&!l.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}}function hs(){}const BV=({isDragging:t})=>t?"grabbing":"grab",qA={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:hs,onResize:hs,onViewStateChange:hs,onInteractionStateChange:hs,onBeforeRender:hs,onAfterRender:hs,onLoad:hs,onError:t=>it.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:BV,getTooltip:null,debug:!1,drawPickingColors:!1};class _g{constructor(e){P(this,"props",void 0),P(this,"width",0),P(this,"height",0),P(this,"userData",{}),P(this,"canvas",null),P(this,"viewManager",null),P(this,"layerManager",null),P(this,"effectManager",null),P(this,"deckRenderer",null),P(this,"deckPicker",null),P(this,"eventManager",null),P(this,"tooltip",null),P(this,"metrics",void 0),P(this,"animationLoop",void 0),P(this,"stats",void 0),P(this,"viewState",void 0),P(this,"cursorState",void 0),P(this,"_needsRedraw",void 0),P(this,"_pickRequest",void 0),P(this,"_lastPointerDownInfo",null),P(this,"_metricsCounter",void 0),P(this,"_onPointerMove",n=>{const{_pickRequest:r}=this;if(n.type==="pointerleave")r.x=-1,r.y=-1,r.radius=0;else{if(n.leftButton||n.rightButton)return;{const i=n.offsetCenter;if(!i)return;r.x=i.x,r.y=i.y,r.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:r.x,y:r.y}),r.event=n}),P(this,"_onEvent",n=>{const r=Lw[n.type],i=n.offsetCenter;if(!r||!i||!this.layerManager)return;const o=this.layerManager.getLayers(),s=this.deckPicker.getLastPickedObject({x:i.x,y:i.y,layers:o,viewports:this.getViewports(i)},this._lastPointerDownInfo),{layer:a}=s,l=a&&(a[r.handler]||a.props[r.handler]),c=this.props[r.handler];let u=!1;l&&(u=l.call(a,s,n)),!u&&c&&c(s,n)}),P(this,"_onPointerDown",n=>{const r=n.offsetCenter,i=this._pick("pickObject","pickObject Time",{x:r.x,y:r.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=i.result[0]||i.emptyInfo}),this.props={...qA,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&it.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),RP()==="IE"&&it.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||typeof document<"u"&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new O1({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&vl.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,n,r,i,o,s,a,l;if((e=this.animationLoop)===null||e===void 0||e.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,(n=this.layerManager)===null||n===void 0||n.finalize(),this.layerManager=null,(r=this.viewManager)===null||r===void 0||r.finalize(),this.viewManager=null,(i=this.effectManager)===null||i===void 0||i.finalize(),this.effectManager=null,(o=this.deckRenderer)===null||o===void 0||o.finalize(),this.deckRenderer=null,(s=this.deckPicker)===null||s===void 0||s.finalize(),this.deckPicker=null,(a=this.eventManager)===null||a===void 0||a.destroy(),this.eventManager=null,(l=this.tooltip)===null||l===void 0||l.remove(),this.tooltip=null,!this.props.canvas&&!this.props.gl&&this.canvas){var c;(c=this.canvas.parentElement)===null||c===void 0||c.removeChild(this.canvas),this.canvas=null}}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&it.removed("onLayerHover","onHover")(),"onLayerClick"in e&&it.removed("onLayerClick","onClick")(),e.initialViewState&&!Ui(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const n=Object.create(this.props);Object.assign(n,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(n),this.layerManager&&(this.viewManager.setProps(n),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(n),this.effectManager.setProps(n),this.deckRenderer.setProps(n),this.deckPicker.setProps(n)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let n=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const r=this.viewManager.needsRedraw(e),i=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return n=n||r||i||o||s,n}redraw(e){if(!this.layerManager)return;let n=this.needsRedraw({clearRedrawFlags:!0});n=e||n,n&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(n):this._drawLayers(n))}get isInitialized(){return this.viewManager!==null}getViews(){return Rn(this.viewManager),this.viewManager.views}getViewports(e){return Rn(this.viewManager),this.viewManager.getViewports(e)}pickObject(e){const n=this._pick("pickObject","pickObject Time",e).result;return n.length?n[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,n=!1){for(const r in e)this.layerManager.resourceManager.add({resourceId:r,data:e[r],forceUpdate:n})}_removeResources(e){for(const n of e)this.layerManager.resourceManager.remove(n)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_pick(e,n,r){Rn(this.deckPicker);const{stats:i}=this;i.get("Pick Count").incrementCount(),i.get(n).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(r),views:this.viewManager.getViews(),viewports:this.getViewports(r),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...r});return i.get(n).timeEnd(),o}_createCanvas(e){let n=e.canvas;return typeof n=="string"&&(n=document.getElementById(n),Rn(n)),n||(n=document.createElement("canvas"),n.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(n)),Object.assign(n.style,e.style),n}_setCanvasSize(e){if(!this.canvas)return;const{width:n,height:r}=e;if(n||n===0){const o=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.width=o}if(r||r===0){var i;const o=Number.isFinite(r)?"".concat(r,"px"):r;this.canvas.style.position=((i=e.style)===null||i===void 0?void 0:i.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){var e,n;const{canvas:r}=this;if(!r)return;const i=(e=r.clientWidth)!==null&&e!==void 0?e:r.width,o=(n=r.clientHeight)!==null&&n!==void 0?n:r.height;if(i!==this.width||o!==this.height){var s,a;this.width=i,this.height=o,(s=this.viewManager)===null||s===void 0||s.setProps({width:i,height:o}),(a=this.layerManager)===null||a===void 0||a.activateViewport(this.getViewports()[0]),this.props.onResize({width:i,height:o})}}_createAnimationLoop(e){const{width:n,height:r,gl:i,glOptions:o,debug:s,onError:a,onBeforeRender:l,onAfterRender:c,useDevicePixels:u}=e;return new dz({width:n,height:r,useDevicePixels:u,autoResizeDrawingBuffer:!i,autoResizeViewport:!1,gl:i,onCreateContext:f=>jP({...o,...f,canvas:this.canvas,debug:s,onContextLost:()=>this._onContextLost()}),onInitialize:f=>this._setGLContext(f.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:l,onAfterRender:c,onError:a})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new X1({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:r,emptyInfo:i}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=r.length>0;let o=i,s=!1;for(const a of r){var n;o=a,s=((n=a.layer)===null||n===void 0?void 0:n.onHover(a,e.event))||s}if(!s&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){const a=this.props.getTooltip(o);this.tooltip.setTooltip(a,o.x,o.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,M1(e,{enable:!0,copyState:!0})),this.tooltip=new nV(this.canvas),po(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const n=new PA;n.play(),this.animationLoop.attachTimeline(n),this.eventManager=new zV(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const i in Lw)this.eventManager.on(i,this._onEvent);this.viewManager=new I$({timeline:n,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const r=this.viewManager.getViewports()[0];this.layerManager=new A$(e,{deck:this,stats:this.stats,viewport:r,timeline:n}),this.effectManager=new W$,this.deckRenderer=new X$(e),this.deckPicker=new eV(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,n){const{gl:r}=this.layerManager.context;po(r,this.props.parameters),this.props.onBeforeRender({gl:r}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...n}),this.props.onAfterRender({gl:r})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),it.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const n=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:n},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const n=this.animationLoop.stats;e.get("GPU Time").addTime(n.get("GPU Time").lastTiming),e.get("CPU Time").addTime(n.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:n}=this;e.fps=n.get("frameRate").getHz(),e.setPropsTime=n.get("setProps Time").time,e.updateAttributesTime=n.get("Update Attributes").time,e.framesRedrawn=n.get("Redraw Count").count,e.pickTime=n.get("pickObject Time").time+n.get("pickMultipleObjects Time").time+n.get("pickObjects Time").time,e.pickCount=n.get("Pick Count").count,e.gpuTime=n.get("GPU Time").time,e.cpuTime=n.get("CPU Time").time,e.gpuTimePerFrame=n.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=n.get("CPU Time").getAverageTime();const r=Es.get("Memory Usage");e.bufferMemory=r.get("Buffer Memory").count,e.textureMemory=r.get("Texture Memory").count,e.renderbufferMemory=r.get("Renderbuffer Memory").count,e.gpuMemory=r.get("GPU Memory").count}}P(_g,"defaultProps",qA);P(_g,"VERSION",h4);class cm{constructor(e,n){P(this,"opts",void 0),P(this,"source",void 0),this.opts=n,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),n=this.getAccessor();if(e)return[e,n];const{value:r}=this.source,{size:i}=n;let o=r;if(r&&r.length!==i){o=new Float32Array(i);const s=n.elementOffset||0;for(let a=0;a<i;++a)o[a]=r[s+a]}return o}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function jV(t){switch(t){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}function Ad(t){return t.stride||t.size*t.bytesPerElement}function XA(t,e){e.offset&&it.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=Ad(t),r=e.vertexOffset!==void 0?e.vertexOffset:t.vertexOffset||0,i=e.elementOffset||0,o=r*n+i*t.bytesPerElement+(t.offset||0);return{...e,offset:o,stride:n}}function $V(t,e){const n=XA(t,e);return{high:n,low:{...n,offset:n.offset+t.size*4}}}class VV{constructor(e,n,r){P(this,"gl",void 0),P(this,"id",void 0),P(this,"size",void 0),P(this,"settings",void 0),P(this,"value",void 0),P(this,"doublePrecision",void 0),P(this,"_buffer",void 0),P(this,"state",void 0),this.gl=e,this.id=n.id||"",this.size=n.size||1;const i=n.logicalType||n.type,o=i===5130;let{defaultValue:s}=n;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0);let a;o?a=5126:!i&&n.isIndexed?a=e&&VD(e,qt.ELEMENT_INDEX_UINT32)?5125:5123:a=i||5126;let l=jV(i||a||5126);this.doublePrecision=o,o&&n.fp64===!1&&(l=Float32Array),this.value=null,this.settings={...n,defaultType:l,defaultValue:s,logicalType:i,type:a,size:this.size,bytesPerElement:l.BYTES_PER_ELEMENT},this.state={...r,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:n}=this.settings;this._buffer=new Lt(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:n}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*Ad(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),vl.release(this.state.allocatedValue)}getShaderAttributes(e,n){if(this.doublePrecision){const r={},i=this.value instanceof Float64Array,o=$V(this.getAccessor(),n||{});return r[e]=new cm(this,o.high),r["".concat(e,"64Low")]=i?new cm(this,o.low):new Float32Array(this.size),r}if(n){const r=XA(this.getAccessor(),n);return{[e]:new cm(this,r)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const n=Array.from(this.value);e=[n,n]}else{const{value:n,numInstances:r,size:i}=this,o=r*i;if(n&&o&&n.length>=o){const s=new Array(i).fill(1/0),a=new Array(i).fill(-1/0);for(let l=0;l<o;)for(let c=0;c<i;c++){const u=n[l++];u<s[c]&&(s[c]=u),u>a[c]&&(a[c]=u)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:n}=this;let r;ArrayBuffer.isView(e)?r={value:e}:e instanceof Lt?r={buffer:e}:r=e;const i={...this.settings,...r};if(n.bufferAccessor=i,n.bounds=null,r.constant){let o=r.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),!(!n.constant||!this._areValuesEqual(o,this.value)))return!1;n.externalBuffer=null,n.constant=!0,this.value=o}else if(r.buffer){const o=r.buffer;n.externalBuffer=o,n.constant=!1,this.value=r.value||null;const s=r.value instanceof Float64Array;i.type=r.type||o.accessor.type,i.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(s?2:1),i.stride=Ad(i)}else if(r.value){this._checkExternalBuffer(r);let o=r.value;n.externalBuffer=null,n.constant=!1,this.value=o,i.bytesPerElement=o.BYTES_PER_ELEMENT,i.stride=Ad(i);const{buffer:s,byteOffset:a}=this;this.doublePrecision&&o instanceof Float64Array&&(o=om(o,i));const l=o.byteLength+a+i.stride*2;s.byteLength<l&&s.reallocate(l),s.setAccessor(null),s.subData({data:o,offset:a}),i.type=r.type||s.accessor.type}return!0}updateSubBuffer(e={}){this.state.bounds=null;const n=this.value,{startOffset:r=0,endOffset:i}=e;this.buffer.subData({data:this.doublePrecision&&n instanceof Float64Array?om(n,{size:this.size,startIndex:r,endIndex:i}):n.subarray(r,i),offset:r*n.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e,n=!1){const{state:r}=this,i=r.allocatedValue,o=vl.allocate(i,e+1,{size:this.size,type:this.settings.defaultType,copy:n});this.value=o;const{buffer:s,byteOffset:a}=this;return s.byteLength<o.byteLength+a&&(s.reallocate(o.byteLength+a),n&&i&&s.subData({data:i instanceof Float64Array?om(i,this):i,offset:a})),r.allocatedValue=o,r.constant=!1,r.externalBuffer=null,r.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:n}=e;if(!ArrayBuffer.isView(n))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const r=this.settings.defaultType;let i=!1;if(this.doublePrecision&&(i=n.BYTES_PER_ELEMENT<4),i)throw new Error("Attribute ".concat(this.id," does not support ").concat(n.constructor.name));!(n instanceof r)&&this.settings.normalized&&!("normalized"in e)&&it.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map(n=>(n+128)/255*2-1);case 5122:return new Float32Array(e).map(n=>(n+32768)/65535*2-1);case 5121:return new Float32Array(e).map(n=>n/255);case 5123:return new Float32Array(e).map(n=>n/65535);default:return e}}_normalizeValue(e,n,r){const{defaultValue:i,size:o}=this.settings;if(Number.isFinite(e))return n[r]=e,n;if(!e){let s=o;for(;--s>=0;)n[r+s]=i[s];return n}switch(o){case 4:n[r+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:n[r+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:n[r+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:n[r+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:let s=o;for(;--s>=0;)n[r+s]=Number.isFinite(e[s])?e[s]:i[s]}return n}_areValuesEqual(e,n){if(!e||!n)return!1;const{size:r}=this;for(let i=0;i<r;i++)if(e[i]!==n[i])return!1;return!0}}const tE=[],nE=[];function wg(t,e=0,n=1/0){let r=tE;const i={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?r=t:t.length>0&&(nE.length=t.length,r=nE):r=tE,(e>0||Number.isFinite(n))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(e,n),i.index=e-1),{iterable:r,objectInfo:i}}function KA(t){return t&&t[Symbol.asyncIterator]}function YA(t,e){const{size:n,stride:r,offset:i,startIndices:o,nested:s}=e,a=t.BYTES_PER_ELEMENT,l=r?r/a:n,c=i?i/a:0,u=Math.floor((t.length-c)/l);return(f,{index:d,target:h})=>{if(!o){const m=d*l+c;for(let y=0;y<n;y++)h[y]=t[m+y];return h}const p=o[d],v=o[d+1]||u;let _;if(s){_=new Array(v-p);for(let m=p;m<v;m++){const y=m*l+c;h=new Array(n);for(let b=0;b<n;b++)h[b]=t[y+b];_[m-p]=h}}else if(l===n)_=t.subarray(p*n+c,v*n+c);else{_=new t.constructor((v-p)*n);let m=0;for(let y=p;y<v;y++){const b=y*l+c;for(let w=0;w<n;w++)_[m++]=t[b+w]}}return _}}const UV=[],Id=[[0,1/0]];function HV(t,e){if(t===Id||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const n=[],r=t.length;let i=0;for(let o=0;o<r;o++){const s=t[o];s[1]<e[0]?(n.push(s),i=o+1):s[0]>e[1]?n.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return n.splice(i,0,e),n}function um(t){const{source:e,target:n,start:r=0,size:i,getData:o}=t,s=t.end||n.length,a=e.length,l=s-r;if(a>l){n.set(e.subarray(0,l),r);return}if(n.set(e,r),!o)return;let c=a;for(;c<l;){const u=o(c,e);for(let f=0;f<i;f++)n[r+c]=u[f]||0,c++}}function WV({source:t,target:e,size:n,getData:r,sourceStartIndices:i,targetStartIndices:o}){if(!Array.isArray(o))return um({source:t,target:e,size:n,getData:r}),e;let s=0,a=0;const l=r&&((u,f)=>r(u+a,f)),c=Math.min(i.length,o.length);for(let u=1;u<c;u++){const f=i[u]*n,d=o[u]*n;um({source:t.subarray(s,f),target:e,start:a,end:d,size:n,getData:l}),s=f,a=d}return a<e.length&&um({source:[],target:e,start:a,size:n,getData:l}),e}const GV={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function ZA(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const n=t.type||"interpolation";return{...GV[n],...e,...t,type:n}}function QA(t,e){const n=e.getBuffer();return n?[n,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function JA(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(t,'"'))}}function eI(t){t.push(t.shift())}function Y1(t,e){const{doublePrecision:n,settings:r,value:i,size:o}=t,s=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:e*o)*s}function tI({buffer:t,numInstances:e,attribute:n,fromLength:r,fromStartIndices:i,getData:o=s=>s}){const s=n.doublePrecision&&n.value instanceof Float64Array?2:1,a=n.size*s,l=n.byteOffset,c=n.startIndices,u=i&&c,f=Y1(n,e),d=n.isConstant;if(!u&&r>=f)return;const h=d?n.value:n.getBuffer().getData({srcByteOffset:l});if(n.settings.normalized&&!d){const m=o;o=(y,b)=>n.normalizeConstant(m(y,b))}const p=d?(m,y)=>o(h,y):(m,y)=>o(h.subarray(m,m+a),y),v=t.getData({length:r}),_=new Float32Array(f);WV({source:v,target:_,sourceStartIndices:i,targetStartIndices:c,size:a,getData:p}),t.byteLength<_.byteLength+l&&t.reallocate(_.byteLength+l),t.subData({data:_,offset:l})}class Z1 extends VV{constructor(e,n){super(e,n,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:Id}),P(this,"constant",!1),this.settings.update=n.update||(n.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const n=this.state.needsRedraw;return this.state.needsRedraw=n&&!e,n}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:n}=this.settings,r=this.settings.transition,i=Array.isArray(n)?e[n.find(o=>e[o])]:e[n];return ZA(i,r)}setNeedsUpdate(e=this.id,n){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),n){const{startRow:r=0,endRow:i=1/0}=n;this.state.updateRanges=HV(this.state.updateRanges,[r,i])}else this.state.updateRanges=Id}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=UV}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:n,settings:r}=this;return r.noAlloc?!1:r.update?(super.allocate(e,n.updateRanges!==Id),!0):!1}updateBuffer({numInstances:e,data:n,props:r,context:i}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let l=!0;if(s){for(const[c,u]of o)s.call(i,this,{data:n,startRow:c,endRow:u,props:r,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[c,u]of o){const f=Number.isFinite(c)?this.getVertexOffset(c):0,d=Number.isFinite(u)?this.getVertexOffset(u):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:f,endOffset:d})}this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}setConstantValue(e){return e===void 0||typeof e=="function"?!1:(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:n}=this;return e?(this.clearNeedsUpdate(),n.lastExternalBuffer===e||(n.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(n.lastExternalBuffer=null,!1)}setBinaryValue(e,n=null){const{state:r,settings:i}=this;if(!e)return r.binaryValue=null,r.binaryAccessor=null,!1;if(i.noAlloc)return!1;if(r.binaryValue===e)return this.clearNeedsUpdate(),!0;if(r.binaryValue=e,this.setNeedsRedraw(),i.transform||n!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;Rn(ArrayBuffer.isView(s.value),"invalid ".concat(i.accessor));const a=!!s.size&&s.size!==this.size;return r.binaryAccessor=YA(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:n,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:n}=this;return(n?e<n.length?n[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},n={};for(const r in e)Object.assign(n,super.getShaderAttributes(r,e[r]));return n}_autoUpdater(e,{data:n,startRow:r,endRow:i,props:o,numInstances:s}){if(e.constant)return;const{settings:a,state:l,value:c,size:u,startIndices:f}=e,{accessor:d,transform:h}=a,p=l.binaryAccessor||(typeof d=="function"?d:o[d]);Rn(typeof p=="function",'accessor "'.concat(d,'" is not a function'));let v=e.getVertexOffset(r);const{iterable:_,objectInfo:m}=wg(n,r,i);for(const y of _){m.index++;let b=p(y,m);if(h&&(b=h.call(this,b)),f){const w=(m.index<f.length-1?f[m.index+1]:s)-f[m.index];if(b&&Array.isArray(b[0])){let S=v;for(const x of b)e._normalizeValue(x,c,S),S+=u}else b&&b.length>u?c.set(b,v):(e._normalizeValue(b,m.target,0),b$({target:c,source:m.target,start:v,count:w}));v+=w*u}else e._normalizeValue(b,c,v),v+=u}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,n=Math.min(4,this.size);if(e&&e.length>=n){let r=!0;switch(n){case 4:r=r&&Number.isFinite(e[3]);case 3:r=r&&Number.isFinite(e[2]);case 2:r=r&&Number.isFinite(e[1]);case 1:r=r&&Number.isFinite(e[0]);break;default:r=!1}if(!r)throw new Error("Illegal attribute generated for ".concat(this.id))}}}class qV{constructor({gl:e,attribute:n,timeline:r}){P(this,"gl",void 0),P(this,"type","interpolation"),P(this,"attributeInTransition",void 0),P(this,"settings",void 0),P(this,"attribute",void 0),P(this,"transition",void 0),P(this,"currentStartIndices",void 0),P(this,"currentLength",void 0),P(this,"transform",void 0),P(this,"buffers",void 0),this.gl=e,this.transition=new Gu(r),this.attribute=n,this.attributeInTransition=new Z1(e,n.settings),this.currentStartIndices=n.startIndices,this.currentLength=0,this.transform=KV(e,n);const i={byteLength:0,usage:35050};this.buffers=[new Lt(e,i),new Lt(e,i)]}get inProgress(){return this.transition.inProgress}start(e,n){if(e.duration<=0){this.transition.cancel();return}this.settings=e;const{gl:r,buffers:i,attribute:o}=this;eI(i);const s={numInstances:n,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of i)tI({buffer:a,...s});this.currentStartIndices=o.startIndices,this.currentLength=Y1(o,n),this.attributeInTransition.setData({buffer:i[1],value:o.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aFrom:i[0],aTo:QA(r,o)},feedbackBuffers:{vCurrent:i[1]}})}update(){const e=this.transition.update();if(e){const{duration:n,easing:r}=this.settings,{time:i}=this.transition;let o=i/n;r&&(o=r(o)),this.transform.run({uniforms:{time:o}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}}const XV=`
#define SHADER_NAME interpolation-transition-vertex-shader

uniform float time;
attribute ATTRIBUTE_TYPE aFrom;
attribute ATTRIBUTE_TYPE aTo;
varying ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, time);
  gl_Position = vec4(0.0);
}
`;function KV(t,e){const n=JA(e.size);return new U1(t,{vs:XV,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}class YV{constructor({gl:e,attribute:n,timeline:r}){P(this,"gl",void 0),P(this,"type","spring"),P(this,"attributeInTransition",void 0),P(this,"settings",void 0),P(this,"attribute",void 0),P(this,"transition",void 0),P(this,"currentStartIndices",void 0),P(this,"currentLength",void 0),P(this,"texture",void 0),P(this,"framebuffer",void 0),P(this,"transform",void 0),P(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new Gu(r),this.attribute=n,this.attributeInTransition=new Z1(e,{...n.settings,normalized:!1}),this.currentStartIndices=n.startIndices,this.currentLength=0,this.texture=QV(e),this.framebuffer=JV(e,this.texture),this.transform=ZV(e,n,this.framebuffer);const i={byteLength:0,usage:35050};this.buffers=[new Lt(e,i),new Lt(e,i),new Lt(e,i)]}get inProgress(){return this.transition.inProgress}start(e,n){const{gl:r,buffers:i,attribute:o}=this,s={numInstances:n,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of i)tI({buffer:a,...s});this.settings=e,this.currentStartIndices=o.startIndices,this.currentLength=Y1(o,n),this.attributeInTransition.setData({buffer:i[1],value:o.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aTo:QA(r,o)}})}update(){const{buffers:e,transform:n,framebuffer:r,transition:i}=this;if(!i.update())return!1;const s=this.settings;return n.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),n.run({framebuffer:r,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:s.stiffness,damping:s.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),eI(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),vg(r)[0]>0||i.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}function ZV(t,e,n){const r=JA(e.size);return new U1(t,{framebuffer:n,vs:`
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

uniform float stiffness;
uniform float damping;
attribute ATTRIBUTE_TYPE aPrev;
attribute ATTRIBUTE_TYPE aCur;
attribute ATTRIBUTE_TYPE aTo;
varying ATTRIBUTE_TYPE vNext;
varying float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE spring = delta * stiffness;
  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;
  return spring + damper + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,fs:`
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

varying float vIsTransitioningFlag;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  gl_FragColor = vec4(1.0);
}`,defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}function QV(t){return new Gr(t,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}function JV(t,e){return new In(t,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}const eU={interpolation:qV,spring:YV};class tU{constructor(e,{id:n,timeline:r}){P(this,"id",void 0),P(this,"isSupported",void 0),P(this,"gl",void 0),P(this,"timeline",void 0),P(this,"transitions",void 0),P(this,"needsRedraw",void 0),P(this,"numInstances",void 0),this.id=n,this.gl=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=U1.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:n,numInstances:r}){this.numInstances=r||1;for(const i in e){const o=e[i],s=o.getTransitionSetting(n);s&&this._updateAttribute(i,o,s)}for(const i in this.transitions){const o=e[i];(!o||!o.getTransitionSetting(n))&&this._removeTransition(i)}}hasAttribute(e){const n=this.transitions[e];return n&&n.inProgress}getAttributes(){const e={};for(const n in this.transitions){const r=this.transitions[n];r.inProgress&&(e[n]=r.attributeInTransition)}return e}run(){if(!this.isSupported||this.numInstances===0)return!1;for(const n in this.transitions)this.transitions[n].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,n,r){const i=this.transitions[e];let o=!i||i.type!==r.type;if(o){if(!this.isSupported){it.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();return}i&&this._removeTransition(e);const s=eU[r.type];s?this.transitions[e]=new s({attribute:n,timeline:this.timeline,gl:this.gl}):(it.error("unsupported transition type '".concat(r.type,"'"))(),o=!1)}(o||n.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(r,this.numInstances))}}const rE="attributeManager.invalidate",nU="attributeManager.updateStart",rU="attributeManager.updateEnd",iU="attribute.updateStart",oU="attribute.allocate",sU="attribute.updateEnd";class aU{constructor(e,{id:n="attribute-manager",stats:r,timeline:i}={}){P(this,"id",void 0),P(this,"gl",void 0),P(this,"attributes",void 0),P(this,"updateTriggers",void 0),P(this,"needsRedraw",void 0),P(this,"userData",void 0),P(this,"stats",void 0),P(this,"attributeTransitionManager",void 0),P(this,"mergeBoundsMemoized",Wu(u$)),this.id=n,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=r,this.attributeTransitionManager=new tU(e,{id:"".concat(n,"-transitions"),timeline:i}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const n=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,n&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const n of e)this.attributes[n]!==void 0&&(this.attributes[n].delete(),delete this.attributes[n])}invalidate(e,n){const r=this._invalidateTrigger(e,n);er(rE,this,e,r)}invalidateAll(e){for(const n in this.attributes)this.attributes[n].setNeedsUpdate(n,e);er(rE,this,"all")}update({data:e,numInstances:n,startIndices:r=null,transitions:i,props:o={},buffers:s={},context:a={}}){let l=!1;er(nU,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const c in this.attributes){const u=this.attributes[c],f=u.settings.accessor;u.startIndices=r,u.numInstances=n,o[c]&&it.removed("props.".concat(c),"data.attributes.".concat(c))(),u.setExternalBuffer(s[c])||u.setBinaryValue(typeof f=="string"?s[f]:void 0,e.startIndices)||typeof f=="string"&&!s[f]&&u.setConstantValue(o[f])||u.needsUpdate()&&(l=!0,this._updateAttribute({attribute:u,numInstances:n,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||u.needsRedraw()}l&&er(rU,this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:i})}updateTransition(){const{attributeTransitionManager:e}=this,n=e.run();return this.needsRedraw=this.needsRedraw||n,n}getAttributes(){return this.attributes}getBounds(e){const n=e.map(r=>{var i;return(i=this.attributes[r])===null||i===void 0?void 0:i.getBounds()});return this.mergeBoundsMemoized(n)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:n,attributeTransitionManager:r}=this,i={...r.getAttributes()};for(const o in n){const s=n[o];s.needsRedraw(e)&&!r.hasAttribute(o)&&(i[o]=s)}return i}getShaderAttributes(e,n={}){e||(e=this.getAttributes());const r={};for(const i in e)n[i]||Object.assign(r,e[i].getShaderAttributes());return r}_add(e,n={}){for(const r in e){const i=e[r];this.attributes[r]=this._createAttribute(r,i,n)}this._mapUpdateTriggersToAttributes()}_createAttribute(e,n,r){const i={...n,id:e,size:n.isIndexed&&1||n.size||1,divisor:r.instanced?1:n.divisor||0};return new Z1(this.gl,i)}_mapUpdateTriggersToAttributes(){const e={};for(const n in this.attributes)this.attributes[n].getUpdateTriggers().forEach(i=>{e[i]||(e[i]=[]),e[i].push(n)});this.updateTriggers=e}_invalidateTrigger(e,n){const{attributes:r,updateTriggers:i}=this,o=i[e];return o&&o.forEach(s=>{const a=r[s];a&&a.setNeedsUpdate(a.id,n)}),o}_updateAttribute(e){const{attribute:n,numInstances:r}=e;if(er(iU,n),n.constant){n.setConstantValue(n.value);return}n.allocate(r)&&er(oU,n,r),n.updateBuffer(e)&&(this.needsRedraw=!0,er(sU,n,r))}}class lU extends Gu{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:n,toValue:r,duration:i,easing:o}}=this,s=o(e/i);this._value=Os(n,r,s)}}const iE=1e-5;function oE(t,e,n,r,i){const o=e-t,a=(n-e)*i,l=-o*r;return a+l+o+e}function cU(t,e,n,r,i){if(Array.isArray(n)){const o=[];for(let s=0;s<n.length;s++)o[s]=oE(t[s],e[s],n[s],r,i);return o}return oE(t,e,n,r,i)}function sE(t,e){if(Array.isArray(t)){let n=0;for(let r=0;r<t.length;r++){const i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}return Math.abs(t-e)}class uU extends Gu{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:n,damping:r,stiffness:i}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=cU(o,s,n,r,i);const l=sE(a,n),c=sE(a,s);l<iE&&c<iE&&(a=n,this.end()),this._prevValue=s,this._currValue=a}}const fU={interpolation:lU,spring:uU};class dU{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,n,r,i){const{transitions:o}=this;if(o.has(e)){const l=o.get(e),{value:c=l.settings.fromValue}=l;n=c,this.remove(e)}if(i=ZA(i),!i)return;const s=fU[i.type];if(!s){it.error("unsupported transition type '".concat(i.type,"'"))();return}const a=new s(this.timeline);a.start({...i,fromValue:n,toValue:r}),o.set(e,a)}remove(e){const{transitions:n}=this;n.has(e)&&(n.get(e).cancel(),n.delete(e))}update(){const e={};for(const[n,r]of this.transitions)r.update(),e[n]=r.value,r.inProgress||this.remove(n);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function hU(t){const e=t[es];for(const n in e){const r=e[n],{validate:i}=r;if(i&&!i(t[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(t[n]))}}function gU(t,e){const n=nI({newProps:t,oldProps:e,propTypes:t[es],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=mU(t,e);let i=!1;return r||(i=vU(t,e)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:yU(t,e),transitionsChanged:pU(t,e)}}function pU(t,e){if(!t.transitions)return!1;const n={},r=t[es];let i=!1;for(const o in t.transitions){const s=r[o],a=s&&s.type;(a==="number"||a==="color"||a==="array")&&f0(t[o],e[o],s)&&(n[o]=!0,i=!0)}return i?n:!1}function nI({newProps:t,oldProps:e,ignoreProps:n={},propTypes:r={},triggerName:i="props"}){if(e===t)return!1;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return"".concat(i," changed shallowly");for(const o of Object.keys(t))if(!(o in n)){if(!(o in e))return"".concat(i,".").concat(o," added");const s=f0(t[o],e[o],r[o]);if(s)return"".concat(i,".").concat(o," ").concat(s)}for(const o of Object.keys(e))if(!(o in n)){if(!(o in t))return"".concat(i,".").concat(o," dropped");if(!Object.hasOwnProperty.call(t,o)){const s=f0(t[o],e[o],r[o]);if(s)return"".concat(i,".").concat(o," ").concat(s)}}return!1}function f0(t,e,n){let r=n&&n.equal;return r&&!r(t,e,n)||!r&&(r=t&&e&&t.equals,r&&!r.call(t,e))?"changed deeply":!r&&e!==t?"changed shallowly":null}function mU(t,e){if(e===null)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:i}=t;return r?r(t.data,e.data)||(n="Data comparator detected a change"):t.data!==e.data&&(n="A new data container was supplied"),n&&i&&(n=i(t.data,e.data)||n),n}function vU(t,e){if(e===null)return{all:!0};if("all"in t.updateTriggers&&aE(t,e,"all"))return{all:!0};const n={};let r=!1;for(const i in t.updateTriggers)i!=="all"&&aE(t,e,i)&&(n[i]=!0,r=!0);return r?n:!1}function yU(t,e){if(e===null)return!0;const n=e.extensions,{extensions:r}=t;if(r===n)return!1;if(!n||!r||r.length!==n.length)return!0;for(let i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function aE(t,e,n){let r=t.updateTriggers[n];r=r??{};let i=e.updateTriggers[n];return i=i??{},nI({oldProps:i,newProps:r,triggerName:n})}const bU="count(): argument not an object",_U="count(): argument not a container";function wU(t){if(!EU(t))throw new Error(bU);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(SU(t))return Object.keys(t).length;throw new Error(_U)}function SU(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function EU(t){return t!==null&&typeof t=="object"}function xU(t,e){if(!e)return t;const n={...t,...e};if("defines"in e&&(n.defines={...t.defines,...e.defines}),"modules"in e&&(n.modules=(t.modules||[]).concat(e.modules),e.modules.some(r=>r.name==="project64"))){const r=n.modules.findIndex(i=>i.name==="project32");r>=0&&n.modules.splice(r,1)}if("inject"in e)if(!t.inject)n.inject=e.inject;else{const r={...t.inject};for(const i in e.inject)r[i]=(r[i]||"")+e.inject[i];n.inject=r}return n}const CU={10241:9987,10240:9729,10242:33071,10243:33071},d0={};function TU(t,e,n,r){if(n instanceof Gr)return n;n.constructor&&n.constructor.name!=="Object"&&(n={data:n});let i=null;n.compressed&&(i={10241:n.data.length>1?9985:9729});const o=new Gr(e,{...n,parameters:{...CU,...i,...r}});return d0[o.id]=t,o}function PU(t,e){!e||!(e instanceof Gr)||d0[e.id]===t&&(e.delete(),delete d0[e.id])}const AU={boolean:{validate(t,e){return!0},equal(t,e,n){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||h0(t)&&(t.length===3||t.length===4)},equal(t,e,n){return Ui(t,e,1)}},accessor:{validate(t,e){const n=Lh(t);return n==="function"||n===Lh(e.value)},equal(t,e,n){return typeof e=="function"?!0:Ui(t,e,1)}},array:{validate(t,e){return e.optional&&!t||h0(t)},equal(t,e,n){const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?Ui(t,e,i):t===e}},object:{equal(t,e,n){if(n.ignore)return!0;const{compare:r}=n,i=Number.isInteger(r)?r:r?1:0;return r?Ui(t,e,i):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,n){return!n.compare&&n.ignore!==!1||t===e}},data:{transform:(t,e,n)=>{const{dataTransform:r}=n.props;return r&&t?r(t):t}},image:{transform:(t,e,n)=>{const r=n.context;return!r||!r.gl?null:TU(n.id,r.gl,t,{...e.parameters,...n.props.textureParameters})},release:(t,e,n)=>{PU(n.id,t)}}};function IU(t){const e={},n={},r={};for(const[i,o]of Object.entries(t)){const s=o==null?void 0:o.deprecatedFor;if(s)r[i]=Array.isArray(s)?s:[s];else{const a=MU(i,o);e[i]=a,n[i]=a.value}}return{propTypes:e,defaultProps:n,deprecatedProps:r}}function MU(t,e){switch(Lh(e)){case"object":return rc(t,e);case"array":return rc(t,{type:"array",value:e,compare:!1});case"boolean":return rc(t,{type:"boolean",value:e});case"number":return rc(t,{type:"number",value:e});case"function":return rc(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function rc(t,e){return"type"in e?{name:t,...AU[e.type],...e}:"value"in e?{name:t,type:Lh(e.value),...e}:{name:t,type:"object",value:e}}function h0(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function Lh(t){return h0(t)?"array":t===null?"null":typeof t}function OU(t,e){let n;for(let o=e.length-1;o>=0;o--){const s=e[o];"extensions"in s&&(n=s.extensions)}const r=g0(t.constructor,n),i=Object.create(r);i[Mh]=t,i[Xs]={},i[jo]={};for(let o=0;o<e.length;++o){const s=e[o];for(const a in s)i[a]=s[a]}return Object.freeze(i),i}const LU="_mergedDefaultProps";function g0(t,e){let n=LU;if(e)for(const i of e){const o=i.constructor;o&&(n+=":".concat(o.extensionName||o.name))}const r=rI(t,n);return r||(t[n]=RU(t,e||[]))}function RU(t,e){if(!t.prototype)return null;const r=Object.getPrototypeOf(t),i=g0(r),o=rI(t,"defaultProps")||{},s=IU(o),a=Object.assign(Object.create(null),i,s.defaultProps),l=Object.assign(Object.create(null),i==null?void 0:i[es],s.propTypes),c=Object.assign(Object.create(null),i==null?void 0:i[am],s.deprecatedProps);for(const u of e){const f=g0(u.constructor);f&&(Object.assign(a,f),Object.assign(l,f[es]),Object.assign(c,f[am]))}return NU(a,t),FU(a,l),kU(a,c),a[es]=l,a[am]=c,e.length===0&&!Q1(t,"_propTypes")&&(t._propTypes=l),a}function NU(t,e){const n=zU(e);Object.defineProperties(t,{id:{writable:!0,value:n}})}function kU(t,e){for(const n in e)Object.defineProperty(t,n,{enumerable:!1,set(r){const i="".concat(this.id,": ").concat(n);for(const o of e[n])Q1(this,o)||(this[o]=r);it.deprecated(i,e[n].join("/"))()}})}function FU(t,e){const n={},r={};for(const i in e){const o=e[i],{name:s,value:a}=o;o.async&&(n[s]=a,r[s]=DU(s))}t[nl]=n,t[Xs]={},Object.defineProperties(t,r)}function DU(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||KA(e)?this[Xs][t]=e:this[jo][t]=e},get(){if(this[jo]){if(t in this[jo])return this[jo][t]||this[nl][t];if(t in this[Xs]){const e=this[Mh]&&this[Mh].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[nl][t]}}return this[nl][t]}}}function Q1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rI(t,e){return Q1(t,e)&&t[e]}function zU(t){const e=t.componentName;return e||it.warn("".concat(t.name,".componentName not specified"))(),e||t.name}let BU=0;class J1{constructor(...e){P(this,"id",void 0),P(this,"props",void 0),P(this,"count",void 0),this.props=OU(this,e),this.id=this.props.id,this.count=BU++}clone(e){const{props:n}=this,r={};for(const i in n[nl])i in n[jo]?r[i]=n[jo][i]:i in n[Xs]&&(r[i]=n[Xs][i]);return new this.constructor({...n,...r,...e})}}P(J1,"componentName","Component");P(J1,"defaultProps",{});const jU=Object.freeze({});class $U{constructor(e){P(this,"component",void 0),P(this,"onAsyncPropUpdated",void 0),P(this,"asyncProps",void 0),P(this,"oldProps",void 0),P(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const n=this.asyncProps[e];n&&n.type&&n.type.release&&n.type.release(n.resolvedValue,n.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||jU}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const n=this.asyncProps[e];return n&&n.resolvedValue}isAsyncPropLoading(e){if(e){const n=this.asyncProps[e];return!!(n&&n.pendingLoadCount>0&&n.pendingLoadCount!==n.resolvedLoadCount)}for(const n in this.asyncProps)if(this.isAsyncPropLoading(n))return!0;return!1}reloadAsyncProp(e,n){this._watchPromise(e,Promise.resolve(n))}setAsyncProps(e){this.component=e[Mh]||this.component;const n=e[jo]||{},r=e[Xs]||e,i=e[nl]||{};for(const o in n){const s=n[o];this._createAsyncPropData(o,i[o]),this._updateAsyncProp(o,s),n[o]=this.getAsyncProp(o)}for(const o in r){const s=r[o];this._createAsyncPropData(o,i[o]),this._updateAsyncProp(o,s)}}_fetch(e,n){return null}_onResolve(e,n){}_onError(e,n){}_updateAsyncProp(e,n){if(this._didAsyncInputValueChange(e,n)){if(typeof n=="string"&&(n=this._fetch(e,n)),n instanceof Promise){this._watchPromise(e,n);return}if(KA(n)){this._resolveAsyncIterable(e,n);return}this._setPropValue(e,n)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,n){const r=this.asyncProps[e];return n===r.resolvedValue||n===r.lastValue?!1:(r.lastValue=n,!0)}_setPropValue(e,n){this._freezeAsyncOldProps();const r=this.asyncProps[e];r&&(n=this._postProcessValue(r,n),r.resolvedValue=n,r.pendingLoadCount++,r.resolvedLoadCount=r.pendingLoadCount)}_setAsyncPropValue(e,n,r){const i=this.asyncProps[e];i&&r>=i.resolvedLoadCount&&n!==void 0&&(this._freezeAsyncOldProps(),i.resolvedValue=n,i.resolvedLoadCount=r,this.onAsyncPropUpdated(e,n))}_watchPromise(e,n){const r=this.asyncProps[e];if(r){r.pendingLoadCount++;const i=r.pendingLoadCount;n.then(o=>{this.component&&(o=this._postProcessValue(r,o),this._setAsyncPropValue(e,o,i),this._onResolve(e,o))}).catch(o=>{this._onError(e,o)})}}async _resolveAsyncIterable(e,n){if(e!=="data"){this._setPropValue(e,n);return}const r=this.asyncProps[e];if(!r)return;r.pendingLoadCount++;const i=r.pendingLoadCount;let o=[],s=0;for await(const a of n){if(!this.component)return;const{dataTransform:l}=this.component.props;l?o=l(a,o):o=o.concat(a),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:s,endRow:o.length}]}),s=o.length,this._setAsyncPropValue(e,o,i)}this._onResolve(e,o)}_postProcessValue(e,n){const r=e.type;return r&&this.component&&(r.release&&r.release(e.resolvedValue,r,this.component),r.transform)?r.transform(n,r,this.component):n}_createAsyncPropData(e,n){if(!this.asyncProps[e]){const i=this.component&&this.component.props[es];this.asyncProps[e]={type:i&&i[e],lastValue:null,resolvedValue:n,pendingLoadCount:0,resolvedLoadCount:0}}}}class VU extends $U{constructor({attributeManager:e,layer:n}){super(n),P(this,"attributeManager",void 0),P(this,"needsRedraw",void 0),P(this,"needsUpdate",void 0),P(this,"subLayers",void 0),P(this,"usesPickingColorCache",void 0),P(this,"hasPickingBuffer",void 0),P(this,"changeFlags",void 0),P(this,"viewport",void 0),P(this,"uniformTransitions",void 0),P(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,n){const r=this.layer,i=r==null?void 0:r.props.fetch;return i?i(n,{propName:e,layer:r}):super._fetch(e,n)}_onResolve(e,n){const r=this.layer;if(r){const i=r.props.onDataLoad;e==="data"&&i&&i(n,{propName:e,layer:r})}}_onError(e,n){const r=this.layer;r&&r.raiseError(n,"loading ".concat(e," of ").concat(this.layer))}}const UU="layer.changeFlag",HU="layer.initialize",WU="layer.update",GU="layer.finalize",qU="layer.matched",lE=2**24-1,XU=Object.freeze([]),KU=Wu(({oldViewport:t,viewport:e})=>t.equals(e));let Di=new Uint8ClampedArray(0);const YU={data:{type:"data",value:XU,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,{propName:e,layer:n,loaders:r,loadOptions:i,signal:o})=>{const{resourceManager:s}=n.context;if(i=i||n.getLoadOptions(),r=r||n.props.loaders,o){var a;i={...i,fetch:{...(a=i)===null||a===void 0?void 0:a.fetch,signal:o}}}let l=s.contains(t);return!l&&!i&&(s.add({resourceId:t,data:wh(t,r),persistent:!1}),l=!0),l?s.subscribe({resourceId:t,onChange:c=>{var u;return(u=n.internalState)===null||u===void 0?void 0:u.reloadAsyncProp(e,c)},consumerId:n.id,requestId:e}):wh(t,r,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:ut.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:t})=>[0,-t*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class qi extends J1{constructor(...e){super(...e),P(this,"internalState",null),P(this,"lifecycle",Ca.NO_STATE),P(this,"context",void 0),P(this,"state",void 0),P(this,"parent",null)}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){const e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}project(e){Rn(this.internalState);const n=this.internalState.viewport||this.context.viewport,r=zA(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[i,o,s]=FA(r,n.pixelProjectionMatrix);return e.length===2?[i,o]:[i,o,s]}unproject(e){return Rn(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,n){Rn(this.internalState);const r=this.internalState.viewport||this.context.viewport;return m$(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...n})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const n of this.getModels())n.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===ut.DEFAULT||e===ut.LNGLAT||e===ut.CARTESIAN}onHover(e,n){return this.props.onHover&&this.props.onHover(e,n)||!1}onClick(e,n){return this.props.onClick&&this.props.onClick(e,n)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,n=[]){return n[0]=e+1&255,n[1]=e+1>>8&255,n[2]=e+1>>8>>8&255,n}decodePickingColor(e){Rn(e instanceof Uint8Array);const[n,r,i]=e;return n+r*256+i*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:wU(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return(e=this.getAttributeManager())===null||e===void 0?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){for(const n of this.props.extensions)e=xU(e,n.getShaders.call(this,n));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const n=this.getAttributeManager(),{dataChanged:r}=e.changeFlags;if(r&&n)if(Array.isArray(r))for(const i of r)n.invalidateAll(i);else n.invalidateAll();if(n){const{props:i}=e,o=this.internalState.hasPickingBuffer,s=Number.isInteger(i.highlightedObjectIndex)||i.pickable||i.extensions.some(a=>a.getNeedsPickingBuffer.call(this,a));if(o!==s){this.internalState.hasPickingBuffer=s;const{pickingColors:a,instancePickingColors:l}=n.attributes,c=a||l;c&&(s&&c.constant&&(c.constant=!1,n.invalidate(c.id)),!c.value&&!s&&(c.constant=!0,c.value=[0,0,0]))}}}finalizeState(e){for(const r of this.getModels())r.delete();const n=this.getAttributeManager();n&&n.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const n of this.getModels())n.draw(e)}getPickingInfo({info:e,mode:n,sourceLayer:r}){const{index:i}=e;return i>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[i]),e}raiseError(e,n){var r,i;if(n&&(e=new Error("".concat(n,": ").concat(e.message),{cause:e})),!((r=(i=this.props).onError)!==null&&r!==void 0&&r.call(i,e))){var o,s;(o=this.context)===null||o===void 0||(s=o.onError)===null||s===void 0||s.call(o,e,this)}}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var e;return((e=this.internalState)===null||e===void 0?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const n=this.internalState.viewport;this.internalState.viewport=e,(!n||!KU({oldViewport:n,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const n=this.getAttributeManager();n&&(e==="all"?n.invalidateAll():n.invalidate(e))}updateAttributes(e){for(const n of this.getModels())this._setModelAttributes(n,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const n=this.props,r=this.getNumInstances(),i=this.getStartIndices();e.update({data:n.data,numInstances:r,startIndices:i,props:n,transitions:n.transitions,buffers:n.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const n=e.update(),r=Object.create(this.props);for(const i in n)Object.defineProperty(r,i,{value:n[i]});return r}return this.props}calculateInstancePickingColors(e,{numInstances:n}){if(e.constant)return;const r=Math.floor(Di.length/3);if(this.internalState.usesPickingColorCache=!0,r<n){n>lE&&it.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Di=vl.allocate(Di,n,{size:3,copy:!0,maxCount:Math.max(n,lE)});const i=Math.floor(Di.length/3),o=[];for(let s=r;s<i;s++)this.encodePickingColor(s,o),Di[s*3+0]=o[0],Di[s*3+1]=o[1],Di[s*3+2]=o[2]}e.value=Di.subarray(0,n*3)}_setModelAttributes(e,n){const r=this.getAttributeManager(),i=e.userData.excludeAttributes||{},o=r.getShaderAttributes(n,i);e.setAttributes(o)}disablePickingIndex(e){const n=this.props.data;if(!("attributes"in n)){this._disablePickingIndex(e);return}const{pickingColors:r,instancePickingColors:i}=this.getAttributeManager().attributes,o=r||i,s=o&&n.attributes&&n.attributes[o.id];if(s&&s.value){const a=s.value,l=this.encodePickingColor(e);for(let c=0;c<n.length;c++){const u=o.getVertexOffset(c);a[u]===l[0]&&a[u+1]===l[1]&&a[u+2]===l[2]&&this._disablePickingIndex(c)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:n,instancePickingColors:r}=this.getAttributeManager().attributes,i=n||r;if(!i)return;const o=i.getVertexOffset(e),s=i.getVertexOffset(e+1);i.buffer.subData({data:new Uint8Array(s-o),offset:o})}restorePickingColors(){const{pickingColors:e,instancePickingColors:n}=this.getAttributeManager().attributes,r=e||n;r&&(this.internalState.usesPickingColorCache&&r.value.buffer!==Di.buffer&&(r.value=Di.subarray(0,r.value.length)),r.updateSubBuffer({startOffset:0}))}_initialize(){Rn(!this.internalState),Rn(Number.isFinite(this.props.coordinateSystem)),er(HU,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new VU({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(it.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new dU(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const n of this.props.extensions)n.initializeState.call(this,this.context,n);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){er(qU,this,this===e);const{state:n,internalState:r}=e;this!==e&&(this.internalState=r,this.state=n,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(er(WU,this,e),!e)return;const n=this.props,r=this.context,i=this.internalState,o=r.viewport,s=this._updateUniformTransition();i.propsInTransition=s,r.viewport=i.viewport||o,this.props=s;try{const a=this._getUpdateParams(),l=this.getModels();if(r.gl)this.updateState(a);else try{this.updateState(a)}catch{}for(const u of this.props.extensions)u.updateState.call(this,a,u);const c=this.getModels()[0]!==l[0];this._postUpdate(a,c)}finally{r.viewport=o,this.props=n,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}_finalize(){er(GU,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({moduleParameters:e=null,uniforms:n={},parameters:r={}}){this._updateAttributeTransition();const i=this.props,o=this.context;this.props=this.internalState.propsInTransition||i;const s=this.props.opacity;n.opacity=Math.pow(s,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:a}=this.props,l=a&&a(n)||[0,0];po(o.gl,{polygonOffset:l}),Ti(o.gl,r,()=>{const c={moduleParameters:e,uniforms:n,parameters:r,context:o};for(const u of this.props.extensions)u.draw.call(this,c,u);this.draw(c)})}finally{this.props=i}}getChangeFlags(){var e;return(e=this.internalState)===null||e===void 0?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:n}=this.internalState;for(const i in e)if(e[i]){let o=!1;switch(i){case"dataChanged":const s=e[i],a=n[i];s&&Array.isArray(a)&&(n.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0);default:n[i]||(n[i]=e[i],o=!0)}o&&er(UU,this,i,e)}const r=!!(n.dataChanged||n.updateTriggersChanged||n.propsChanged||n.extensionsChanged);n.propsOrDataChanged=r,n.somethingChanged=r||n.viewportChanged||n.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,n){const r=gU(e,n);if(r.updateTriggersChanged)for(const o in r.updateTriggersChanged)r.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(r.transitionsChanged)for(const o in r.transitionsChanged){var i;this.internalState.uniformTransitions.add(o,n[o],e[o],(i=e.transitions)===null||i===void 0?void 0:i[o])}return this.setChangeFlags(r)}validateProps(){hU(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const n={pickingSelectedColor:e.picked?e.color:null},{highlightColor:r}=this.props;e.picked&&typeof r=="function"&&(n.pickingHighlightColor=r(e)),this.setModuleParameters(n),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new aU(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,n){const{props:r,oldProps:i}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:o}=this.state;o==null||o.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:l}=r;if(n||i.autoHighlight!==s||i.highlightedObjectIndex!==a||i.highlightColor!==l){const c={};s||(c.pickingSelectedColor=null),Array.isArray(l)&&(c.pickingHighlightColor=l),(n||a!==i.highlightedObjectIndex)&&(c.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(c)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let n=!1;n=n||this.internalState.needsRedraw&&this.id;const r=this.getAttributeManager(),i=r?r.getNeedsRedraw(e):!1;if(n=n||i,n)for(const o of this.props.extensions)o.onNeedsRedraw.call(this,o);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,n}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}P(qi,"defaultProps",YU);P(qi,"layerName","Layer");const ZU="compositeLayer.renderLayers";class Sg extends qi{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:n}=e;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id&&(e.object=n.__source.object,e.index=n.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,n){return n&&n.length}getSubLayerClass(e,n){const{_subLayerProps:r}=this.props;return r&&r[e]&&r[e].type||n}getSubLayerRow(e,n,r){return e.__source={parent:this,object:n,index:r},e}getSubLayerAccessor(e){if(typeof e=="function"){const n={index:-1,data:this.props.data,target:[]};return(r,i)=>r&&r.__source?(n.index=r.__source.index,e(r.__source.object,n)):e(r,i)}return e}getSubLayerProps(e={}){var n;const{opacity:r,pickable:i,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:l,autoHighlight:c,highlightColor:u,coordinateSystem:f,coordinateOrigin:d,wrapLongitude:h,positionFormat:p,modelMatrix:v,extensions:_,fetch:m,operation:y,_subLayerProps:b}=this.props,w={id:"",updateTriggers:{},opacity:r,pickable:i,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:l,autoHighlight:c,highlightColor:u,coordinateSystem:f,coordinateOrigin:d,wrapLongitude:h,positionFormat:p,modelMatrix:v,extensions:_,fetch:m,operation:y},S=b&&e.id&&b[e.id],x=S&&S.updateTriggers,E=e.id||"sublayer";if(S){const I=this.props[es],M=e.type?e.type._propTypes:{};for(const O in S){const R=M[O]||I[O];R&&R.type==="accessor"&&(S[O]=this.getSubLayerAccessor(S[O]))}}Object.assign(w,e,S),w.id="".concat(this.props.id,"-").concat(E),w.updateTriggers={all:(n=this.props.updateTriggers)===null||n===void 0?void 0:n.all,...e.updateTriggers,...x};for(const I of _){const M=I.getSubLayerProps.call(this,I);M&&Object.assign(w,M,{updateTriggers:Object.assign(w.updateTriggers,M.updateTriggers)})}return w}_updateAutoHighlight(e){for(const n of this.getSubLayers())n.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,n){let r=this.internalState.subLayers;const i=!r||this.needsUpdate();if(i){const o=this.renderLayers();r=yg(o,Boolean),this.internalState.subLayers=r}er(ZU,this,i,r);for(const o of r)o.parent=this}}P(Sg,"layerName","CompositeLayer");const $f=Math.PI/180,cE=180/Math.PI,Md=6370972,$a=256;function QU(){const t=$a/Md,e=Math.PI/180*$a;return{unitsPerMeter:[t,t,t],unitsPerMeter2:[0,0,0],metersPerUnit:[1/t,1/t,1/t],unitsPerDegree:[e,e,t],unitsPerDegree2:[0,0,0],degreesPerUnit:[1/e,1/e,1/t]}}class JU extends ia{constructor(e={}){const{latitude:n=0,longitude:r=0,zoom:i=0,nearZMultiplier:o=.1,farZMultiplier:s=2,resolution:a=10}=e;let{height:l,altitude:c=1.5}=e;l=l||1,c=Math.max(.75,c);const u=new Tr().lookAt({eye:[0,-c,0],up:[0,0,1]}),f=Math.pow(2,i);u.rotateX(n*$f),u.rotateZ(-r*$f),u.scale(f/l);const d=Math.atan(.5/c),h=$a*2*f/l;super({...e,height:l,viewMatrix:u,longitude:r,latitude:n,zoom:i,distanceScales:QU(),fovyRadians:d*2,focalDistance:c,near:o,far:Math.min(2,1/h+1)*c*s}),P(this,"longitude",void 0),P(this,"latitude",void 0),P(this,"resolution",void 0),this.latitude=n,this.longitude=r,this.resolution=a}get projectionMode(){return wi.GLOBE}getDistanceScales(){return this.distanceScales}getBounds(e={}){const n={targetZ:e.z||0},r=this.unproject([0,this.height/2],n),i=this.unproject([this.width/2,0],n),o=this.unproject([this.width,this.height/2],n),s=this.unproject([this.width/2,this.height],n);return o[0]<this.longitude&&(o[0]+=360),r[0]>this.longitude&&(r[0]-=360),[Math.min(r[0],o[0],i[0],s[0]),Math.min(r[1],o[1],i[1],s[1]),Math.max(r[0],o[0],i[0],s[0]),Math.max(r[1],o[1],i[1],s[1])]}unproject(e,{topLeft:n=!0,targetZ:r}={}){const[i,o,s]=e,a=n?o:this.height-o,{pixelUnprojectionMatrix:l}=this;let c;if(Number.isFinite(s))c=fm(l,[i,a,s,1]);else{const h=fm(l,[i,a,-1,1]),p=fm(l,[i,a,1,1]),v=((r||0)/Md+1)*$a,_=Qp(vA([],h,p)),m=Qp(h),y=Qp(p),w=4*((4*m*y-(_-m-y)**2)/16)/_,S=Math.sqrt(m-w),x=Math.sqrt(Math.max(0,v*v-w)),E=(S-x)/Math.sqrt(_);c=S5([],h,p,E)}const[u,f,d]=this.unprojectPosition(c);return Number.isFinite(s)?[u,f,d]:Number.isFinite(r)?[u,f,r]:[u,f]}projectPosition(e){const[n,r,i=0]=e,o=n*$f,s=r*$f,a=Math.cos(s),l=(i/Md+1)*$a;return[Math.sin(o)*a*l,-Math.cos(o)*a*l,Math.sin(s)*l]}unprojectPosition(e){const[n,r,i]=e,o=yA(e),s=Math.asin(i/o),l=Math.atan2(n,-r)*cE,c=s*cE,u=(o/$a-1)*Md;return[l,c,u]}projectFlat(e){return e}unprojectFlat(e){return e}panByPosition(e,n){const r=this.unproject(n);return{longitude:e[0]-r[0]+this.longitude,latitude:e[1]-r[1]+this.latitude}}}function fm(t,e){const n=Rl([],e,t);return V1(n,n,1/n[3]),n}class iI{constructor(e){P(this,"opts",void 0),P(this,"typedArrayManager",void 0),P(this,"indexStarts",[0]),P(this,"vertexStarts",[0]),P(this,"vertexCount",0),P(this,"instanceCount",0),P(this,"attributes",void 0),P(this,"_attributeDefs",void 0),P(this,"data",void 0),P(this,"getGeometry",void 0),P(this,"geometryBuffer",void 0),P(this,"buffers",void 0),P(this,"positionSize",void 0),P(this,"normalize",void 0);const{attributes:n={}}=e;this.typedArrayManager=vl,this.attributes={},this._attributeDefs=n,this.opts=e,this.updateGeometry(e)}updateGeometry(e){Object.assign(this.opts,e);const{data:n,buffers:r={},getGeometry:i,geometryBuffer:o,positionFormat:s,dataChanged:a,normalize:l=!0}=this.opts;if(this.data=n,this.getGeometry=i,this.positionSize=o&&o.size||(s==="XY"?2:3),this.buffers=r,this.normalize=l,o&&(Rn(n.startIndices),this.getGeometry=this.getGeometryFromBuffer(o),l||(r.positions=o)),this.geometryBuffer=r.positions,Array.isArray(a))for(const c of a)this._rebuildGeometry(c);else this._rebuildGeometry()}updatePartialGeometry({startRow:e,endRow:n}){this._rebuildGeometry({startRow:e,endRow:n})}getGeometryFromBuffer(e){const n=e.value||e;return ArrayBuffer.isView(n)?YA(n,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}_allocate(e,n){const{attributes:r,buffers:i,_attributeDefs:o,typedArrayManager:s}=this;for(const a in o)if(a in i)s.release(r[a]),r[a]=null;else{const l=o[a];l.copy=n,r[a]=s.allocate(r[a],e,l)}}_forEachGeometry(e,n,r){const{data:i,getGeometry:o}=this,{iterable:s,objectInfo:a}=wg(i,n,r);for(const l of s){a.index++;const c=o?o(l,a):null;e(c,a.index)}}_rebuildGeometry(e){if(!this.data)return;let{indexStarts:n,vertexStarts:r,instanceCount:i}=this;const{data:o,geometryBuffer:s}=this,{startRow:a=0,endRow:l=1/0}=e||{},c={};if(e||(n=[0],r=[0]),this.normalize||!s)this._forEachGeometry((f,d)=>{const h=f&&this.normalizeGeometry(f);c[d]=h,r[d+1]=r[d]+(h?this.getGeometrySize(h):0)},a,l),i=r[r.length-1];else if(r=o.startIndices,i=r[o.length]||0,ArrayBuffer.isView(s))i=i||s.length/this.positionSize;else if(s instanceof Lt){const f=s.accessor.stride||this.positionSize*4;i=i||s.byteLength/f}else if(s.buffer){const f=s.stride||this.positionSize*4;i=i||s.buffer.byteLength/f}else if(s.value){const f=s.value,d=s.stride/f.BYTES_PER_ELEMENT||this.positionSize;i=i||f.length/d}this._allocate(i,!!e),this.indexStarts=n,this.vertexStarts=r,this.instanceCount=i;const u={};this._forEachGeometry((f,d)=>{const h=c[d]||f;u.vertexStart=r[d],u.indexStart=n[d];const p=d<r.length-1?r[d+1]:i;u.geometrySize=p-r[d],u.geometryIndex=d,this.updateGeometryAttributes(h,u)},a,l),this.vertexCount=n[n.length-1]}}const e8=typeof window<"u"?g.useLayoutEffect:g.useEffect,t8=e8;function Rh(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}const n8={position:"absolute",zIndex:-1};function oI(t,e){if(typeof t=="function")return t(e);if(Array.isArray(t))return t.map(n=>oI(n,e));if(Eg(t)){if(r8(t))return e.style=n8,g.cloneElement(t,e);if(i8(t))return g.cloneElement(t,e)}return t}function Eg(t){return t&&typeof t=="object"&&"type"in t||!1}function r8(t){var e;return(e=t.props)===null||e===void 0?void 0:e.mapStyle}function i8(t){const e=t.type;return e&&e.deckGLViewProps}function p0(t){if(typeof t=="function")return g.createElement(yl,{},t);if(Array.isArray(t))return t.map(p0);if(Eg(t)){if(t.type===g.Fragment)return p0(t.props.children);if(Rh(t.type,yl))return t}return t}function o8({children:t,layers:e=[],views:n=null}){const r=[],i=[],o={};return g.Children.forEach(p0(t),s=>{if(Eg(s)){const a=s.type;if(Rh(a,qi)){const l=s8(a,s.props);i.push(l)}else r.push(s);if(Rh(a,yl)&&a!==yl&&s.props.id){const l=new a(s.props);o[l.id]=l}}else s&&r.push(s)}),Object.keys(o).length>0&&(Array.isArray(n)?n.forEach(s=>{o[s.id]=s}):n&&(o[n.id]=n),n=Object.values(o)),e=i.length>0?[...i,...e]:e,{layers:e,children:r,views:n}}function s8(t,e){const n={},r=t.defaultProps||{};for(const i in e)r[i]!==e[i]&&(n[i]=e[i]);return new t(n)}function a8({children:t,deck:e,ContextProvider:n}){const{viewManager:r}=e||{};if(!r||!r.views.length)return[];const i={},o=r.views[0].id;for(const s of t){let a=o,l=s;Eg(s)&&Rh(s.type,yl)&&(a=s.props.id||o,l=s.props.children);const c=r.getViewport(a),u=r.getViewState(a);if(c){u.padding=c.padding;const{x:f,y:d,width:h,height:p}=c;l=oI(l,{x:f,y:d,width:h,height:p,viewport:c,viewState:u}),i[a]||(i[a]={viewport:c,children:[]}),i[a].children.push(l)}}return Object.keys(i).map(s=>{const{viewport:a,children:l}=i[s],{x:c,y:u,width:f,height:d}=a,h={position:"absolute",left:c,top:u,width:f,height:d},p="view-".concat(s),v=g.createElement("div",{key:p,id:p,style:h},...l);if(n){const _={viewport:a,container:e.canvas.offsetParent,eventManager:e.eventManager,onViewStateChange:m=>{m.viewId=s,e._onViewStateChange(m)}};return g.createElement(n,{key:p,value:_},v)}return v})}const l8={mixBlendMode:null};function c8({width:t,height:e,style:n}){const r={position:"absolute",zIndex:0,left:0,top:0,width:t,height:e},i={left:0,top:0};if(n)for(const o in n)o in l8?i[o]=n[o]:r[o]=n[o];return{containerStyle:r,canvasStyle:i}}function u8(t){return{get deck(){return t.deck},pickObject:e=>t.deck.pickObject(e),pickMultipleObjects:e=>t.deck.pickMultipleObjects(e),pickObjects:e=>t.deck.pickObjects(e)}}function sI(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}function f8(t,e,n){const r=new e({...n,_customRender:i=>{t.redrawReason=i;const o=r.getViewports();t.lastRenderedViewports!==o?t.forceUpdate():sI(t)}});return r}const aI=g.forwardRef((t,e)=>{const[n,r]=g.useState(0),o=g.useRef({control:null,version:n,forceUpdate:()=>r(S=>S+1)}).current,s=g.useRef(null),a=g.useRef(null),l=g.useMemo(()=>o8(t),[t.layers,t.views,t.children]);let c=!0;const u=S=>{var x;return c&&t.viewState?(o.viewStateUpdateRequested=S,null):(o.viewStateUpdateRequested=null,(x=t.onViewStateChange)===null||x===void 0?void 0:x.call(t,S))},f=S=>{if(c)o.interactionStateUpdateRequested=S;else{var x;o.interactionStateUpdateRequested=null,(x=t.onInteractionStateChange)===null||x===void 0||x.call(t,S)}},d=g.useMemo(()=>{const S={...t,style:null,width:"100%",height:"100%",parent:s.current,canvas:a.current,layers:l.layers,views:l.views,onViewStateChange:u,onInteractionStateChange:f};return delete S._customRender,o.deck&&o.deck.setProps(S),S},[t]);g.useEffect(()=>{const S=t.Deck||_g;return o.deck=f8(o,S,{...d,parent:s.current,canvas:a.current}),()=>{var x;return(x=o.deck)===null||x===void 0?void 0:x.finalize()}},[]),t8(()=>{sI(o);const{viewStateUpdateRequested:S,interactionStateUpdateRequested:x}=o;S&&u(S),x&&f(x)}),g.useImperativeHandle(e,()=>u8(o),[]);const h=o.deck&&o.deck.isInitialized?o.deck.getViewports():void 0,{ContextProvider:p,width:v,height:_,id:m,style:y}=t,{containerStyle:b,canvasStyle:w}=g.useMemo(()=>c8({width:v,height:_,style:y}),[v,_,y]);if(!o.viewStateUpdateRequested&&o.lastRenderedViewports===h||o.version!==n){o.lastRenderedViewports=h,o.version=n;const S=a8({children:l.children,deck:o.deck,ContextProvider:p}),x=g.createElement("canvas",{key:"canvas",id:m||"deckgl-overlay",ref:a,style:w});o.control=g.createElement("div",{id:"".concat(m||"deckgl","-wrapper"),ref:s,style:b},[x,S])}return c=!1,o.control});aI.defaultProps=_g.defaultProps;const d8=aI;function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function h8(t,e){if(pu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g8(t){var e=h8(t,"string");return pu(e)==="symbol"?e:String(e)}function je(t,e,n){return e=g8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const p8=new Uint16Array([0,2,1,0,3,2]),m8=new Float32Array([0,1,0,0,1,0,1,1]);function v8(t,e){if(!e)return y8(t);const n=Math.max(Math.abs(t[0][0]-t[3][0]),Math.abs(t[1][0]-t[2][0])),r=Math.max(Math.abs(t[1][1]-t[0][1]),Math.abs(t[2][1]-t[3][1])),i=Math.ceil(n/e)+1,o=Math.ceil(r/e)+1,s=(i-1)*(o-1)*6,a=new Uint32Array(s),l=new Float32Array(i*o*2),c=new Float64Array(i*o*3);let u=0,f=0;for(let d=0;d<i;d++){const h=d/(i-1);for(let p=0;p<o;p++){const v=p/(o-1),_=b8(t,h,v);c[u*3+0]=_[0],c[u*3+1]=_[1],c[u*3+2]=_[2]||0,l[u*2+0]=h,l[u*2+1]=1-v,d>0&&p>0&&(a[f++]=u-o,a[f++]=u-o-1,a[f++]=u-1,a[f++]=u-o,a[f++]=u-1,a[f++]=u),u++}}return{vertexCount:s,positions:c,indices:a,texCoords:l}}function y8(t){const e=new Float64Array(12);for(let n=0;n<t.length;n++)e[n*3+0]=t[n][0],e[n*3+1]=t[n][1],e[n*3+2]=t[n][2]||0;return{vertexCount:6,positions:e,indices:p8,texCoords:m8}}function b8(t,e,n){return Os(Os(t[0],t[1],n),Os(t[3],t[2],n),e)}const _8=`
#define SHADER_NAME bitmap-layer-vertex-shader

attribute vec2 texCoords;
attribute vec3 positions;
attribute vec3 positions64Low;

varying vec2 vTexCoord;
varying vec2 vTexPos;

uniform float coordinateConversion;

const vec3 pickingColor = vec3(1.0, 0.0, 0.0);

void main(void) {
  geometry.worldPosition = positions;
  geometry.uv = texCoords;
  geometry.pickingColor = pickingColor;

  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);
  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);

  vTexCoord = texCoords;

  if (coordinateConversion < -0.5) {
    vTexPos = geometry.position.xy + project_uCommonOrigin.xy;
  } else if (coordinateConversion > 0.5) {
    vTexPos = geometry.worldPosition.xy;
  }

  vec4 color = vec4(0.0);
  DECKGL_FILTER_COLOR(color, geometry);
}
`,w8=`
vec3 packUVsIntoRGB(vec2 uv) {
  // Extract the top 8 bits. We want values to be truncated down so we can add a fraction
  vec2 uv8bit = floor(uv * 256.);

  // Calculate the normalized remainders of u and v parts that do not fit into 8 bits
  // Scale and clamp to 0-1 range
  vec2 uvFraction = fract(uv * 256.);
  vec2 uvFraction4bit = floor(uvFraction * 16.);

  // Remainder can be encoded in blue channel, encode as 4 bits for pixel coordinates
  float fractions = uvFraction4bit.x + uvFraction4bit.y * 16.;

  return vec3(uv8bit, fractions) / 255.;
}
`,S8=`
#define SHADER_NAME bitmap-layer-fragment-shader

#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D bitmapTexture;

varying vec2 vTexCoord;
varying vec2 vTexPos;

uniform float desaturate;
uniform vec4 transparentColor;
uniform vec3 tintColor;
uniform float opacity;

uniform float coordinateConversion;
uniform vec4 bounds;

/* projection utils */
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / PI / 2.0;

// from degrees to Web Mercator
vec2 lnglat_to_mercator(vec2 lnglat) {
  float x = lnglat.x;
  float y = clamp(lnglat.y, -89.9, 89.9);
  return vec2(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// from Web Mercator to degrees
vec2 mercator_to_lnglat(vec2 xy) {
  xy /= WORLD_SCALE;
  return degrees(vec2(
    xy.x - PI,
    atan(exp(xy.y - PI)) * 2.0 - PI * 0.5
  ));
}
/* End projection utils */

// apply desaturation
vec3 color_desaturate(vec3 color) {
  float luminance = (color.r + color.g + color.b) * 0.333333333;
  return mix(color, vec3(luminance), desaturate);
}

// apply tint
vec3 color_tint(vec3 color) {
  return color * tintColor;
}

// blend with background color
vec4 apply_opacity(vec3 color, float alpha) {
  if (transparentColor.a == 0.0) {
    return vec4(color, alpha);
  }
  float blendedAlpha = alpha + transparentColor.a * (1.0 - alpha);
  float highLightRatio = alpha / blendedAlpha;
  vec3 blendedRGB = mix(transparentColor.rgb, color, highLightRatio);
  return vec4(blendedRGB, blendedAlpha);
}

vec2 getUV(vec2 pos) {
  return vec2(
    (pos.x - bounds[0]) / (bounds[2] - bounds[0]),
    (pos.y - bounds[3]) / (bounds[1] - bounds[3])
  );
}

`.concat(w8,`

void main(void) {
  vec2 uv = vTexCoord;
  if (coordinateConversion < -0.5) {
    vec2 lnglat = mercator_to_lnglat(vTexPos);
    uv = getUV(lnglat);
  } else if (coordinateConversion > 0.5) {
    vec2 commonPos = lnglat_to_mercator(vTexPos);
    uv = getUV(commonPos);
  }
  vec4 bitmapColor = texture2D(bitmapTexture, uv);

  gl_FragColor = apply_opacity(color_tint(color_desaturate(bitmapColor.rgb)), bitmapColor.a * opacity);

  geometry.uv = uv;
  DECKGL_FILTER_COLOR(gl_FragColor, geometry);

  if (picking_uActive && !picking_uAttribute) {
    // Since instance information is not used, we can use picking color for pixel index
    gl_FragColor.rgb = packUVsIntoRGB(uv);
  }
}
`),E8={image:{type:"image",value:null,async:!0},bounds:{type:"array",value:[1,0,0,1],compare:!0},_imageCoordinateSystem:ut.DEFAULT,desaturate:{type:"number",min:0,max:1,value:0},transparentColor:{type:"color",value:[0,0,0,0]},tintColor:{type:"color",value:[255,255,255]},textureParameters:{type:"object",ignore:!0}};class eb extends qi{constructor(...e){super(...e),je(this,"state",void 0)}getShaders(){return super.getShaders({vs:_8,fs:S8,modules:[kl,Fl]})}initializeState(){const e=this.getAttributeManager();e.remove(["instancePickingColors"]);const n=!0;e.add({indices:{size:1,isIndexed:!0,update:r=>r.value=this.state.mesh.indices,noAlloc:n},positions:{size:3,type:5130,fp64:this.use64bitPositions(),update:r=>r.value=this.state.mesh.positions,noAlloc:n},texCoords:{size:2,update:r=>r.value=this.state.mesh.texCoords,noAlloc:n}})}updateState({props:e,oldProps:n,changeFlags:r}){const i=this.getAttributeManager();if(r.extensionsChanged){var o;const{gl:s}=this.context;(o=this.state.model)===null||o===void 0||o.delete(),this.state.model=this._getModel(s),i.invalidateAll()}if(e.bounds!==n.bounds){const s=this.state.mesh,a=this._createMesh();this.state.model.setVertexCount(a.vertexCount);for(const l in a)s&&s[l]!==a[l]&&i.invalidate(l);this.setState({mesh:a,...this._getCoordinateUniforms()})}else e._imageCoordinateSystem!==n._imageCoordinateSystem&&this.setState(this._getCoordinateUniforms())}getPickingInfo(e){const{image:n}=this.props,r=e.info;if(!r.color||!n)return r.bitmap=null,r;const{width:i,height:o}=n;r.index=0;const s=x8(r.color),a=[Math.floor(s[0]*i),Math.floor(s[1]*o)];return r.bitmap={size:{width:i,height:o},uv:s,pixel:a},r}disablePickingIndex(){this.setState({disablePicking:!0})}restorePickingColors(){this.setState({disablePicking:!1})}_updateAutoHighlight(e){super._updateAutoHighlight({...e,color:this.encodePickingColor(0)})}_createMesh(){const{bounds:e}=this.props;let n=e;return uE(e)&&(n=[[e[0],e[1]],[e[0],e[3]],[e[2],e[3]],[e[2],e[1]]]),v8(n,this.context.viewport.resolution)}_getModel(e){return e?new is(e,{...this.getShaders(),id:this.props.id,geometry:new Nl({drawMode:4,vertexCount:6}),isInstanced:!1}):null}draw(e){const{uniforms:n,moduleParameters:r}=e,{model:i,coordinateConversion:o,bounds:s,disablePicking:a}=this.state,{image:l,desaturate:c,transparentColor:u,tintColor:f}=this.props;r.pickingActive&&a||l&&i&&i.setUniforms(n).setUniforms({bitmapTexture:l,desaturate:c,transparentColor:u.map(d=>d/255),tintColor:f.slice(0,3).map(d=>d/255),coordinateConversion:o,bounds:s}).draw()}_getCoordinateUniforms(){const{LNGLAT:e,CARTESIAN:n,DEFAULT:r}=ut;let{_imageCoordinateSystem:i}=this.props;if(i!==r){const{bounds:o}=this.props;if(!uE(o))throw new Error("_imageCoordinateSystem only supports rectangular bounds");const s=this.context.viewport.resolution?e:n;if(i=i===e?e:n,i===e&&s===n)return{coordinateConversion:-1,bounds:o};if(i===n&&s===e){const a=os([o[0],o[1]]),l=os([o[2],o[3]]);return{coordinateConversion:1,bounds:[a[0],a[1],l[0],l[1]]}}}return{coordinateConversion:0,bounds:[0,0,0,0]}}}je(eb,"layerName","BitmapLayer");je(eb,"defaultProps",E8);function x8(t){const[e,n,r]=t,i=(r&240)/256,o=(r&15)/16;return[(e+o)/256,(n+i)/256]}function uE(t){return Number.isFinite(t[0])}const C8=`#define SHADER_NAME icon-layer-vertex-shader

attribute vec2 positions;

attribute vec3 instancePositions;
attribute vec3 instancePositions64Low;
attribute float instanceSizes;
attribute float instanceAngles;
attribute vec4 instanceColors;
attribute vec3 instancePickingColors;
attribute vec4 instanceIconFrames;
attribute float instanceColorModes;
attribute vec2 instanceOffsets;
attribute vec2 instancePixelOffset;

uniform float sizeScale;
uniform vec2 iconsTextureDim;
uniform float sizeMinPixels;
uniform float sizeMaxPixels;
uniform bool billboard;
uniform int sizeUnits;

varying float vColorMode;
varying vec4 vColor;
varying vec2 vTextureCoords;
varying vec2 uv;

vec2 rotate_by_angle(vec2 vertex, float angle) {
  float angle_radian = angle * PI / 180.0;
  float cos_angle = cos(angle_radian);
  float sin_angle = sin(angle_radian);
  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
  return rotationMatrix * vertex;
}

void main(void) {
  geometry.worldPosition = instancePositions;
  geometry.uv = positions;
  geometry.pickingColor = instancePickingColors;
  uv = positions;

  vec2 iconSize = instanceIconFrames.zw;
  float sizePixels = clamp(
    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), 
    sizeMinPixels, sizeMaxPixels
  );
  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;
  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;
  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;
  pixelOffset += instancePixelOffset;
  pixelOffset.y *= -1.0;

  if (billboard)  {
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
    vec3 offset = vec3(pixelOffset, 0.0);
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);

  } else {
    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
    DECKGL_FILTER_SIZE(offset_common, geometry);
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); 
    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  }

  vTextureCoords = mix(
    instanceIconFrames.xy,
    instanceIconFrames.xy + iconSize,
    (positions.xy + 1.0) / 2.0
  ) / iconsTextureDim;

  vColor = instanceColors;
  DECKGL_FILTER_COLOR(vColor, geometry);

  vColorMode = instanceColorModes;
}
`,T8=`#define SHADER_NAME icon-layer-fragment-shader

precision highp float;

uniform float opacity;
uniform sampler2D iconsTexture;
uniform float alphaCutoff;

varying float vColorMode;
varying vec4 vColor;
varying vec2 vTextureCoords;
varying vec2 uv;

void main(void) {
  geometry.uv = uv;

  vec4 texColor = texture2D(iconsTexture, vTextureCoords);
  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);
  float a = texColor.a * opacity * vColor.a;

  if (a < alphaCutoff) {
    discard;
  }

  gl_FragColor = vec4(color, a);
  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,P8=1024,A8=4,fE=()=>{},dE={10241:9987,10240:9729,10242:33071,10243:33071};function I8(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function M8(t,e,n,r){const i=Math.min(n/e.width,r/e.height),o=Math.floor(e.width*i),s=Math.floor(e.height*i);return i===1?{data:e,width:o,height:s}:(t.canvas.height=s,t.canvas.width=o,t.clearRect(0,0,o,s),t.drawImage(e,0,0,e.width,e.height,0,0,o,s),{data:t.canvas,width:o,height:s})}function mu(t){return t&&(t.id||t.url)}function O8(t,e,n,r){const i=t.width,o=t.height,s=new Gr(t.gl,{width:e,height:n,parameters:r});return zD(t,s,{targetY:0,width:i,height:o}),t.delete(),s}function hE(t,e,n){for(let r=0;r<e.length;r++){const{icon:i,xOffset:o}=e[r],s=mu(i);t[s]={...i,x:o,y:n}}}function L8({icons:t,buffer:e,mapping:n={},xOffset:r=0,yOffset:i=0,rowHeight:o=0,canvasWidth:s}){let a=[];for(let l=0;l<t.length;l++){const c=t[l],u=mu(c);if(!n[u]){const{height:f,width:d}=c;r+d+e>s&&(hE(n,a,i),r=0,i=o+i+e,o=0,a=[]),a.push({icon:c,xOffset:r}),r=r+d+e,o=Math.max(o,f)}}return a.length>0&&hE(n,a,i),{mapping:n,rowHeight:o,xOffset:r,yOffset:i,canvasWidth:s,canvasHeight:I8(o+i+e)}}function R8(t,e,n){if(!t||!e)return null;n=n||{};const r={},{iterable:i,objectInfo:o}=wg(t);for(const s of i){o.index++;const a=e(s,o),l=mu(a);if(!a)throw new Error("Icon is missing.");if(!a.url)throw new Error("Icon url is missing.");!r[l]&&(!n[l]||a.url!==n[l].url)&&(r[l]={...a,source:s,sourceIndex:o.index})}return r}class N8{constructor(e,{onUpdate:n=fE,onError:r=fE}){je(this,"gl",void 0),je(this,"onUpdate",void 0),je(this,"onError",void 0),je(this,"_loadOptions",null),je(this,"_texture",null),je(this,"_externalTexture",null),je(this,"_mapping",{}),je(this,"_textureParameters",null),je(this,"_pendingCount",0),je(this,"_autoPacking",!1),je(this,"_xOffset",0),je(this,"_yOffset",0),je(this,"_rowHeight",0),je(this,"_buffer",A8),je(this,"_canvasWidth",P8),je(this,"_canvasHeight",0),je(this,"_canvas",null),this.gl=e,this.onUpdate=n,this.onError=r}finalize(){var e;(e=this._texture)===null||e===void 0||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const n=this._autoPacking?mu(e):e;return this._mapping[n]||{}}setProps({loadOptions:e,autoPacking:n,iconAtlas:r,iconMapping:i,textureParameters:o}){if(e&&(this._loadOptions=e),n!==void 0&&(this._autoPacking=n),i&&(this._mapping=i),r){var s;(s=this._texture)===null||s===void 0||s.delete(),this._texture=null,this._externalTexture=r}o&&(this._textureParameters=o)}get isLoaded(){return this._pendingCount===0}packIcons(e,n){if(!this._autoPacking||typeof document>"u")return;const r=Object.values(R8(e,n,this._mapping)||{});if(r.length>0){const{mapping:i,xOffset:o,yOffset:s,rowHeight:a,canvasHeight:l}=L8({icons:r,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=i,this._xOffset=o,this._yOffset=s,this._canvasHeight=l,this._texture||(this._texture=new Gr(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||dE})),this._texture.height!==this._canvasHeight&&(this._texture=O8(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||dE)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(r)}}_loadIcons(e){const n=this._canvas.getContext("2d",{willReadFrequently:!0});for(const r of e)this._pendingCount++,wh(r.url,this._loadOptions).then(i=>{const o=mu(r),s=this._mapping[o],{x:a,y:l,width:c,height:u}=s,{data:f,width:d,height:h}=M8(n,i,c,u);this._texture.setSubImageData({data:f,x:a+(c-d)/2,y:l+(u-h)/2,width:d,height:h}),s.width=d,s.height=h,this._texture.generateMipmap(),this.onUpdate()}).catch(i=>{this.onError({url:r.url,source:r.source,sourceIndex:r.sourceIndex,loadOptions:this._loadOptions,error:i})}).finally(()=>{this._pendingCount--})}}const lI=[0,0,0,255],k8={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:t=>t.position},getIcon:{type:"accessor",value:t=>t.icon},getColor:{type:"accessor",value:lI},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0}};class Xu extends qi{constructor(...e){super(...e),je(this,"state",void 0)}getShaders(){return super.getShaders({vs:C8,fs:T8,modules:[kl,Fl]})}initializeState(){this.state={iconManager:new N8(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:lI},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:n,oldProps:r,changeFlags:i}=e,o=this.getAttributeManager(),{iconAtlas:s,iconMapping:a,data:l,getIcon:c,textureParameters:u}=n,{iconManager:f}=this.state,d=s||this.internalState.isAsyncPropLoading("iconAtlas");if(f.setProps({loadOptions:n.loadOptions,autoPacking:!d,iconAtlas:s,iconMapping:d?a:null,textureParameters:u}),d?r.iconMapping!==n.iconMapping&&o.invalidate("getIcon"):(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&f.packIcons(l,c),i.extensionsChanged){var h;const{gl:p}=this.context;(h=this.state.model)===null||h===void 0||h.delete(),this.state.model=this._getModel(p),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:n,sizeMinPixels:r,sizeMaxPixels:i,sizeUnits:o,billboard:s,alphaCutoff:a}=this.props,{iconManager:l}=this.state,c=l.getTexture();c&&this.state.model.setUniforms(e).setUniforms({iconsTexture:c,iconsTextureDim:[c.width,c.height],sizeUnits:Ws[o],sizeScale:n,sizeMinPixels:r,sizeMaxPixels:i,billboard:s,alphaCutoff:a}).draw()}_getModel(e){const n=[-1,-1,-1,1,1,1,1,-1];return new is(e,{...this.getShaders(),id:this.props.id,geometry:new Nl({drawMode:6,attributes:{positions:{size:2,value:new Float32Array(n)}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var n;const r=(n=this.getCurrentLayer())===null||n===void 0?void 0:n.props.onIconError;r?r(e):it.error(e.error.message)()}getInstanceOffset(e){const{width:n,height:r,anchorX:i=n/2,anchorY:o=r/2}=this.state.iconManager.getIconMapping(e);return[n/2-i,r/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:n,y:r,width:i,height:o}=this.state.iconManager.getIconMapping(e);return[n,r,i,o]}}je(Xu,"defaultProps",k8);je(Xu,"layerName","IconLayer");const F8=`#define SHADER_NAME scatterplot-layer-vertex-shader

attribute vec3 positions;

attribute vec3 instancePositions;
attribute vec3 instancePositions64Low;
attribute float instanceRadius;
attribute float instanceLineWidths;
attribute vec4 instanceFillColors;
attribute vec4 instanceLineColors;
attribute vec3 instancePickingColors;

uniform float opacity;
uniform float radiusScale;
uniform float radiusMinPixels;
uniform float radiusMaxPixels;
uniform float lineWidthScale;
uniform float lineWidthMinPixels;
uniform float lineWidthMaxPixels;
uniform float stroked;
uniform bool filled;
uniform bool antialiasing;
uniform bool billboard;
uniform int radiusUnits;
uniform int lineWidthUnits;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying vec2 unitPosition;
varying float innerUnitRadius;
varying float outerRadiusPixels;


void main(void) {
  geometry.worldPosition = instancePositions;
  outerRadiusPixels = clamp(
    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),
    radiusMinPixels, radiusMaxPixels
  );
  float lineWidthPixels = clamp(
    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),
    lineWidthMinPixels, lineWidthMaxPixels
  );
  outerRadiusPixels += stroked * lineWidthPixels / 2.0;
  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
  unitPosition = edgePadding * positions.xy;
  geometry.uv = unitPosition;
  geometry.pickingColor = instancePickingColors;

  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;
  
  if (billboard) {
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
    vec3 offset = edgePadding * positions * outerRadiusPixels;
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
  } else {
    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  }
  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);
  DECKGL_FILTER_COLOR(vFillColor, geometry);
  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);
  DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,D8=`#define SHADER_NAME scatterplot-layer-fragment-shader

precision highp float;

uniform bool filled;
uniform float stroked;
uniform bool antialiasing;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying vec2 unitPosition;
varying float innerUnitRadius;
varying float outerRadiusPixels;

void main(void) {
  geometry.uv = unitPosition;

  float distToCenter = length(unitPosition) * outerRadiusPixels;
  float inCircle = antialiasing ? 
    smoothedge(distToCenter, outerRadiusPixels) : 
    step(distToCenter, outerRadiusPixels);

  if (inCircle == 0.0) {
    discard;
  }

  if (stroked > 0.5) {
    float isLine = antialiasing ? 
      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
      step(innerUnitRadius * outerRadiusPixels, distToCenter);

    if (filled) {
      gl_FragColor = mix(vFillColor, vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        discard;
      }
      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
    }
  } else if (!filled) {
    discard;
  } else {
    gl_FragColor = vFillColor;
  }

  gl_FragColor.a *= inCircle;
  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,gE=[0,0,0,255],z8={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:gE},getLineColor:{type:"accessor",value:gE},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class tb extends qi{getShaders(){return super.getShaders({vs:F8,fs:D8,modules:[kl,Fl]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){if(super.updateState(e),e.changeFlags.extensionsChanged){var n;const{gl:r}=this.context;(n=this.state.model)===null||n===void 0||n.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{radiusUnits:n,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o,stroked:s,filled:a,billboard:l,antialiasing:c,lineWidthUnits:u,lineWidthScale:f,lineWidthMinPixels:d,lineWidthMaxPixels:h}=this.props;this.state.model.setUniforms(e).setUniforms({stroked:s?1:0,filled:a,billboard:l,antialiasing:c,radiusUnits:Ws[n],radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o,lineWidthUnits:Ws[u],lineWidthScale:f,lineWidthMinPixels:d,lineWidthMaxPixels:h}).draw()}_getModel(e){const n=[-1,-1,0,1,-1,0,1,1,0,-1,1,0];return new is(e,{...this.getShaders(),id:this.props.id,geometry:new Nl({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array(n)}}}),isInstanced:!0})}}je(tb,"defaultProps",z8);je(tb,"layerName","ScatterplotLayer");function at(t){"@babel/helpers - typeof";return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(t)}function B8(t,e){if(at(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(at(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cI(t){var e=B8(t,"string");return at(e)=="symbol"?e:String(e)}function V(t,e,n){return e=cI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const uI={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function fI(t,e,n={}){return j8(t,n)!==e?(V8(t,n),!0):!1}function j8(t,e={}){return Math.sign($8(t,e))}function $8(t,e={}){const{start:n=0,end:r=t.length}=e,i=e.size||2;let o=0;for(let s=n,a=r-i;s<r;s+=i)o+=(t[s]-t[a])*(t[s+1]+t[a+1]),a=s;return o/2}function V8(t,e){const{start:n=0,end:r=t.length,size:i=2}=e,o=(r-n)/i,s=Math.floor(o/2);for(let a=0;a<s;++a){const l=n+a*i,c=n+(o-1-a)*i;for(let u=0;u<i;++u){const f=t[l+u];t[l+u]=t[c+u],t[c+u]=f}}}function Ei(t,e){const n=e.length,r=t.length;if(r>0){let i=!0;for(let o=0;o<n;o++)if(t[r-n+o]!==e[o]){i=!1;break}if(i)return!1}for(let i=0;i<n;i++)t[r+i]=e[i];return!0}function m0(t,e){const n=e.length;for(let r=0;r<n;r++)t[r]=e[r]}function vu(t,e,n,r,i=[]){const o=r+e*n;for(let s=0;s<n;s++)i[s]=t[o+s];return i}function v0(t,e,n,r,i=[]){let o,s;if(n&8)o=(r[3]-t[1])/(e[1]-t[1]),s=3;else if(n&4)o=(r[1]-t[1])/(e[1]-t[1]),s=1;else if(n&2)o=(r[2]-t[0])/(e[0]-t[0]),s=2;else if(n&1)o=(r[0]-t[0])/(e[0]-t[0]),s=0;else return null;for(let a=0;a<t.length;a++)i[a]=(s&1)===a?r[s]:o*(e[a]-t[a])+t[a];return i}function Od(t,e){let n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function dI(t,e){const{size:n=2,broken:r=!1,gridResolution:i=10,gridOffset:o=[0,0],startIndex:s=0,endIndex:a=t.length}=e||{},l=(a-s)/n;let c=[];const u=[c],f=vu(t,0,n,s);let d,h;const p=gI(f,i,o,[]),v=[];Ei(c,f);for(let _=1;_<l;_++){for(d=vu(t,_,n,s,d),h=Od(d,p);h;){v0(f,d,h,p,v);const m=Od(v,p);m&&(v0(f,v,m,p,v),h=m),Ei(c,v),m0(f,v),H8(p,i,h),r&&c.length>n&&(c=[],u.push(c),Ei(c,f)),h=Od(d,p)}Ei(c,d),m0(f,d)}return r?u:u[0]}const pE=0,U8=1;function Vf(t,e){for(let n=0;n<e.length;n++)t.push(e[n]);return t}function hI(t,e=null,n){if(!t.length)return[];const{size:r=2,gridResolution:i=10,gridOffset:o=[0,0],edgeTypes:s=!1}=n||{},a=[],l=[{pos:t,types:s?new Array(t.length/r).fill(U8):null,holes:e||[]}],c=[[],[]];let u=[];for(;l.length;){const{pos:f,types:d,holes:h}=l.shift();W8(f,r,h[0]||f.length,c),u=gI(c[0],i,o,u);const p=Od(c[1],u);if(p){let v=mE(f,d,r,0,h[0]||f.length,u,p);const _={pos:v[0].pos,types:v[0].types,holes:[]},m={pos:v[1].pos,types:v[1].types,holes:[]};l.push(_,m);for(let y=0;y<h.length;y++)v=mE(f,d,r,h[y],h[y+1]||f.length,u,p),v[0]&&(_.holes.push(_.pos.length),_.pos=Vf(_.pos,v[0].pos),s&&(_.types=Vf(_.types,v[0].types))),v[1]&&(m.holes.push(m.pos.length),m.pos=Vf(m.pos,v[1].pos),s&&(m.types=Vf(m.types,v[1].types)))}else{const v={positions:f};s&&(v.edgeTypes=d),h.length&&(v.holeIndices=h),a.push(v)}}return a}function mE(t,e,n,r,i,o,s){const a=(i-r)/n,l=[],c=[],u=[],f=[],d=[];let h,p,v;const _=vu(t,a-1,n,r);let m=Math.sign(s&8?_[1]-o[3]:_[0]-o[2]),y=e&&e[a-1],b=0,w=0;for(let S=0;S<a;S++)h=vu(t,S,n,r,h),p=Math.sign(s&8?h[1]-o[3]:h[0]-o[2]),v=e&&e[r/n+S],p&&m&&m!==p&&(v0(_,h,s,o,d),Ei(l,d)&&u.push(y),Ei(c,d)&&f.push(y)),p<=0?(Ei(l,h)&&u.push(v),b-=p):u.length&&(u[u.length-1]=pE),p>=0?(Ei(c,h)&&f.push(v),w+=p):f.length&&(f[f.length-1]=pE),m0(_,h),m=p,y=v;return[b?{pos:l,types:e&&u}:null,w?{pos:c,types:e&&f}:null]}function gI(t,e,n,r){const i=Math.floor((t[0]-n[0])/e)*e+n[0],o=Math.floor((t[1]-n[1])/e)*e+n[1];return r[0]=i,r[1]=o,r[2]=i+e,r[3]=o+e,r}function H8(t,e,n){n&8?(t[1]+=e,t[3]+=e):n&4?(t[1]-=e,t[3]-=e):n&2?(t[0]+=e,t[2]+=e):n&1&&(t[0]-=e,t[2]-=e)}function W8(t,e,n,r){let i=1/0,o=-1/0,s=1/0,a=-1/0;for(let l=0;l<n;l+=e){const c=t[l],u=t[l+1];i=c<i?c:i,o=c>o?c:o,s=u<s?u:s,a=u>a?u:a}return r[0][0]=i,r[0][1]=s,r[1][0]=o,r[1][1]=a,r}const G8=85.051129;function q8(t,e){const{size:n=2,startIndex:r=0,endIndex:i=t.length,normalize:o=!0}=e||{},s=t.slice(r,i);pI(s,n,0,i-r);const a=dI(s,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(o)for(const l of a)mI(l,n);return a}function X8(t,e=null,n){const{size:r=2,normalize:i=!0,edgeTypes:o=!1}=n||{};e=e||[];const s=[],a=[];let l=0,c=0;for(let f=0;f<=e.length;f++){const d=e[f]||t.length,h=c,p=K8(t,r,l,d);for(let v=p;v<d;v++)s[c++]=t[v];for(let v=l;v<p;v++)s[c++]=t[v];pI(s,r,h,c),Y8(s,r,h,c,n==null?void 0:n.maxLatitude),l=d,a[f]=c}a.pop();const u=hI(s,a,{size:r,gridResolution:360,gridOffset:[-180,-180],edgeTypes:o});if(i)for(const f of u)mI(f.positions,r);return u}function K8(t,e,n,r){let i=-1,o=-1;for(let s=n+1;s<r;s+=e){const a=Math.abs(t[s]);a>i&&(i=a,o=s-1)}return o}function Y8(t,e,n,r,i=G8){const o=t[n],s=t[r-e];if(Math.abs(o-s)>180){const a=vu(t,0,e,n);a[0]+=Math.round((s-o)/360)*360,Ei(t,a),a[1]=Math.sign(a[1])*i,Ei(t,a),a[0]=o,Ei(t,a)}}function pI(t,e,n,r){let i=t[0],o;for(let s=n;s<r;s+=e){o=t[s];const a=o-i;(a>180||a<-180)&&(o-=Math.round(a/360)*360),t[s]=i=o}}function mI(t,e){let n;const r=t.length/e;for(let o=0;o<r&&(n=t[o*e],(n+180)%360===0);o++);const i=-Math.round(n/360)*360;if(i!==0)for(let o=0;o<r;o++)t[o*e]+=i}function Z8(t,e,n,r){let i;if(Array.isArray(t[0])){const o=t.length*e;i=new Array(o);for(let s=0;s<t.length;s++)for(let a=0;a<e;a++)i[s*e+a]=t[s][a]||0}else i=t;return n?dI(i,{size:e,gridResolution:n}):r?q8(i,{size:e}):i}const Q8=1,J8=2,dm=4;class e9 extends iI{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?Z8(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(vE(e)){let r=0;for(const i of e)r+=this.getGeometrySize(i);return r}const n=this.getPathLength(e);return n<2?0:this.isClosed(e)?n<3?0:n+2:n}updateGeometryAttributes(e,n){if(n.geometrySize!==0)if(e&&vE(e))for(const r of e){const i=this.getGeometrySize(r);n.geometrySize=i,this.updateGeometryAttributes(r,n),n.vertexStart+=i}else this._updateSegmentTypes(e,n),this._updatePositions(e,n)}_updateSegmentTypes(e,n){const r=this.attributes.segmentTypes,i=e?this.isClosed(e):!1,{vertexStart:o,geometrySize:s}=n;r.fill(0,o,o+s),i?(r[o]=dm,r[o+s-2]=dm):(r[o]+=Q8,r[o+s-2]+=J8),r[o+s-1]=dm}_updatePositions(e,n){const{positions:r}=this.attributes;if(!r||!e)return;const{vertexStart:i,geometrySize:o}=n,s=new Array(3);for(let a=i,l=0;l<o;a++,l++)this.getPointOnPath(e,l,s),r[a*3]=s[0],r[a*3+1]=s[1],r[a*3+2]=s[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,n,r=[]){const{positionSize:i}=this;n*i>=e.length&&(n+=1-e.length/i);const o=n*i;return r[0]=e[o],r[1]=e[o+1],r[2]=i===3&&e[o+2]||0,r}isClosed(e){if(!this.normalize)return!!this.opts.loop;const{positionSize:n}=this,r=e.length-n;return e[0]===e[r]&&e[1]===e[r+1]&&(n===2||e[2]===e[r+2])}}function vE(t){return Array.isArray(t[0])}const t9=`#define SHADER_NAME path-layer-vertex-shader

attribute vec2 positions;

attribute float instanceTypes;
attribute vec3 instanceStartPositions;
attribute vec3 instanceEndPositions;
attribute vec3 instanceLeftPositions;
attribute vec3 instanceRightPositions;
attribute vec3 instanceLeftPositions64Low;
attribute vec3 instanceStartPositions64Low;
attribute vec3 instanceEndPositions64Low;
attribute vec3 instanceRightPositions64Low;
attribute float instanceStrokeWidths;
attribute vec4 instanceColors;
attribute vec3 instancePickingColors;

uniform float widthScale;
uniform float widthMinPixels;
uniform float widthMaxPixels;
uniform float jointType;
uniform float capType;
uniform float miterLimit;
uniform bool billboard;
uniform int widthUnits;

uniform float opacity;

varying vec4 vColor;
varying vec2 vCornerOffset;
varying float vMiterLength;
varying vec2 vPathPosition;
varying float vPathLength;
varying float vJointType;

const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);

float flipIfTrue(bool flag) {
  return -(float(flag) * 2. - 1.);
}
vec3 getLineJoinOffset(
  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
  vec2 width
) {
  bool isEnd = positions.x > 0.0;
  float sideOfPath = positions.y;
  float isJoint = float(sideOfPath == 0.0);

  vec3 deltaA3 = (currPoint - prevPoint);
  vec3 deltaB3 = (nextPoint - currPoint);

  mat3 rotationMatrix;
  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);
  if (needsRotation) {
    deltaA3 = deltaA3 * rotationMatrix;
    deltaB3 = deltaB3 * rotationMatrix;
  }
  vec2 deltaA = deltaA3.xy / width;
  vec2 deltaB = deltaB3.xy / width;

  float lenA = length(deltaA);
  float lenB = length(deltaB);

  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);

  vec2 perpA = vec2(-dirA.y, dirA.x);
  vec2 perpB = vec2(-dirB.y, dirB.x);
  vec2 tangent = dirA + dirB;
  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
  vec2 miterVec = vec2(-tangent.y, tangent.x);
  vec2 dir = isEnd ? dirA : dirB;
  vec2 perp = isEnd ? perpA : perpB;
  float L = isEnd ? lenA : lenB;
  float sinHalfA = abs(dot(miterVec, perp));
  float cosHalfA = abs(dot(dirA, miterVec));
  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
  float cornerPosition = sideOfPath * turnDirection;

  float miterSize = 1.0 / max(sinHalfA, EPSILON);
  miterSize = mix(
    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
    miterSize,
    step(0.0, cornerPosition)
  );

  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
    * (sideOfPath + isJoint * turnDirection);
  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
  bool isCap = isStartCap || isEndCap;
  if (isCap) {
    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);
    vJointType = capType;
  } else {
    vJointType = jointType;
  }
  vPathLength = L;
  vCornerOffset = offsetVec;
  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
  vMiterLength = isCap ? isJoint : vMiterLength;

  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
  vPathPosition = vec2(
    dot(offsetFromStartOfPath, perp),
    dot(offsetFromStartOfPath, dir)
  );
  geometry.uv = vPathPosition;

  float isValid = step(instanceTypes, 3.5);
  vec3 offset = vec3(offsetVec * width * isValid, 0.0);

  if (needsRotation) {
    offset = rotationMatrix * offset;
  }
  return offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
  if (position.w < EPSILON) {
    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
    position = refPosition + (position - refPosition) * r;
  }
}

void main() {
  geometry.pickingColor = instancePickingColors;

  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);

  float isEnd = positions.x;

  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);

  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);

  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);

  geometry.worldPosition = currPosition;
  vec2 widthPixels = vec2(clamp(
    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),
    widthMinPixels, widthMaxPixels) / 2.0);
  vec3 width;

  if (billboard) {
    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);

    clipLine(prevPositionScreen, currPositionScreen);
    clipLine(nextPositionScreen, currPositionScreen);
    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));

    width = vec3(widthPixels, 0.0);
    DECKGL_FILTER_SIZE(width, geometry);

    vec3 offset = getLineJoinOffset(
      prevPositionScreen.xyz / prevPositionScreen.w,
      currPositionScreen.xyz / currPositionScreen.w,
      nextPositionScreen.xyz / nextPositionScreen.w,
      project_pixel_size_to_clipspace(width.xy)
    );

    DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);
    gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);
  } else {
    prevPosition = project_position(prevPosition, prevPosition64Low);
    currPosition = project_position(currPosition, currPosition64Low);
    nextPosition = project_position(nextPosition, nextPosition64Low);

    width = vec3(project_pixel_size(widthPixels), 0.0);
    DECKGL_FILTER_SIZE(width, geometry);

    vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);
    geometry.position = vec4(currPosition + offset, 1.0);
    gl_Position = project_common_position_to_clipspace(geometry.position);
    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  }
  DECKGL_FILTER_COLOR(vColor, geometry);
}
`,n9=`#define SHADER_NAME path-layer-fragment-shader

precision highp float;

uniform float miterLimit;

varying vec4 vColor;
varying vec2 vCornerOffset;
varying float vMiterLength;
varying vec2 vPathPosition;
varying float vPathLength;
varying float vJointType;

void main(void) {
  geometry.uv = vPathPosition;

  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
      discard;
    }
    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {
      discard;
    }
  }
  gl_FragColor = vColor;

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,vI=[0,0,0,255],r9={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:t=>t.path},getColor:{type:"accessor",value:vI},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},hm={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class nb extends qi{constructor(...e){super(...e),je(this,"state",void 0)}getShaders(){return super.getShaders({vs:t9,fs:n9,modules:[kl,Fl]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:hm,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:hm,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:hm,defaultValue:vI},instancePickingColors:{size:3,type:5121,accessor:(r,{index:i,target:o})=>this.encodePickingColor(r&&r.__source?r.__source.index:i,o)}}),this.setState({pathTesselator:new e9({fp64:this.use64bitPositions()})})}updateState(e){super.updateState(e);const{props:n,changeFlags:r}=e,i=this.getAttributeManager();if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPath)){const{pathTesselator:a}=this.state,l=n.data.attributes||{};a.updateGeometry({data:n.data,geometryBuffer:l.getPath,buffers:l,normalize:!n._pathType,loop:n._pathType==="loop",getGeometry:n.getPath,positionFormat:n.positionFormat,wrapLongitude:n.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:r.dataChanged}),this.setState({numInstances:a.instanceCount,startIndices:a.vertexStarts}),r.dataChanged||i.invalidateAll()}if(r.extensionsChanged){var s;const{gl:a}=this.context;(s=this.state.model)===null||s===void 0||s.delete(),this.state.model=this._getModel(a),i.invalidateAll()}}getPickingInfo(e){const n=super.getPickingInfo(e),{index:r}=n,{data:i}=this.props;return i[0]&&i[0].__source&&(n.object=i.find(o=>o.__source.index===r)),n}disablePickingIndex(e){const{data:n}=this.props;if(n[0]&&n[0].__source)for(let r=0;r<n.length;r++)n[r].__source.index===e&&this._disablePickingIndex(r);else super.disablePickingIndex(e)}draw({uniforms:e}){const{jointRounded:n,capRounded:r,billboard:i,miterLimit:o,widthUnits:s,widthScale:a,widthMinPixels:l,widthMaxPixels:c}=this.props;this.state.model.setUniforms(e).setUniforms({jointType:Number(n),capType:Number(r),billboard:i,widthUnits:Ws[s],widthScale:a,miterLimit:o,widthMinPixels:l,widthMaxPixels:c}).draw()}_getModel(e){const n=[0,1,2,1,4,2,1,3,4,3,5,4],r=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new is(e,{...this.getShaders(),id:this.props.id,geometry:new Nl({drawMode:4,attributes:{indices:new Uint16Array(n),positions:{value:new Float32Array(r),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:n}=this.state;e.startIndices=n.vertexStarts,e.value=n.get("positions")}calculateSegmentTypes(e){const{pathTesselator:n}=this.state;e.startIndices=n.vertexStarts,e.value=n.get("segmentTypes")}}je(nb,"defaultProps",r9);je(nb,"layerName","PathLayer");var rb={exports:{}};rb.exports=xg;rb.exports.default=xg;function xg(t,e,n){n=n||2;var r=e&&e.length,i=r?e[0]*n:t.length,o=yI(t,0,i,n,!0),s=[];if(!o||o.next===o.prev)return s;var a,l,c,u,f,d,h;if(r&&(o=l9(t,e,o,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(var p=n;p<i;p+=n)f=t[p],d=t[p+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);h=Math.max(c-a,u-l),h=h!==0?32767/h:0}return yu(o,s,n,a,l,h,0),s}function yI(t,e,n,r,i){var o,s;if(i===_0(t,e,n,r)>0)for(o=e;o<n;o+=r)s=yE(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=yE(o,t[o],t[o+1],s);return s&&Cg(s,s.next)&&(_u(s),s=s.next),s}function Ks(t,e){if(!t)return t;e||(e=t);var n=t,r;do if(r=!1,!n.steiner&&(Cg(n,n.next)||tn(n.prev,n,n.next)===0)){if(_u(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function yu(t,e,n,r,i,o,s){if(t){!s&&o&&h9(t,r,i,o);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,o?o9(t,r,i,o):i9(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),_u(t),t=c.next,a=c.next;continue}if(t=c,t===a){s?s===1?(t=s9(Ks(t),e,n),yu(t,e,n,r,i,o,2)):s===2&&a9(t,e,n,r,i,o):yu(Ks(t),e,n,r,i,o,1);break}}}}function i9(t){var e=t.prev,n=t,r=t.next;if(tn(e,n,r)>=0)return!1;for(var i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,f=a<l?a<c?a:c:l<c?l:c,d=i>o?i>s?i:s:o>s?o:s,h=a>l?a>c?a:c:l>c?l:c,p=r.next;p!==e;){if(p.x>=u&&p.x<=d&&p.y>=f&&p.y<=h&&Va(i,a,o,l,s,c,p.x,p.y)&&tn(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function o9(t,e,n,r){var i=t.prev,o=t,s=t.next;if(tn(i,o,s)>=0)return!1;for(var a=i.x,l=o.x,c=s.x,u=i.y,f=o.y,d=s.y,h=a<l?a<c?a:c:l<c?l:c,p=u<f?u<d?u:d:f<d?f:d,v=a>l?a>c?a:c:l>c?l:c,_=u>f?u>d?u:d:f>d?f:d,m=y0(h,p,e,n,r),y=y0(v,_,e,n,r),b=t.prevZ,w=t.nextZ;b&&b.z>=m&&w&&w.z<=y;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=_&&b!==i&&b!==s&&Va(a,u,l,f,c,d,b.x,b.y)&&tn(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=h&&w.x<=v&&w.y>=p&&w.y<=_&&w!==i&&w!==s&&Va(a,u,l,f,c,d,w.x,w.y)&&tn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=m;){if(b.x>=h&&b.x<=v&&b.y>=p&&b.y<=_&&b!==i&&b!==s&&Va(a,u,l,f,c,d,b.x,b.y)&&tn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=y;){if(w.x>=h&&w.x<=v&&w.y>=p&&w.y<=_&&w!==i&&w!==s&&Va(a,u,l,f,c,d,w.x,w.y)&&tn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function s9(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Cg(i,o)&&bI(i,r,r.next,o)&&bu(i,o)&&bu(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),_u(r),_u(r.next),r=t=o),r=r.next}while(r!==t);return Ks(r)}function a9(t,e,n,r,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&m9(s,a)){var l=_I(s,a);s=Ks(s,s.next),l=Ks(l,l.next),yu(s,e,n,r,i,o,0),yu(l,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function l9(t,e,n,r){var i=[],o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,c=yI(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(p9(c));for(i.sort(c9),o=0;o<i.length;o++)n=u9(i[o],n);return n}function c9(t,e){return t.x-e.x}function u9(t,e){var n=f9(t,e);if(!n)return e;var r=_I(n,t);return Ks(r,r.next),Ks(n,n.next)}function f9(t,e){var n=e,r=t.x,i=t.y,o=-1/0,s;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var a=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o&&(o=a,s=n.x<n.next.x?n:n.next,a===r))return s}n=n.next}while(n!==e);if(!s)return null;var l=s,c=s.x,u=s.y,f=1/0,d;n=s;do r>=n.x&&n.x>=c&&r!==n.x&&Va(i<u?r:o,i,c,u,i<u?o:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),bu(n,t)&&(d<f||d===f&&(n.x>s.x||n.x===s.x&&d9(s,n)))&&(s=n,f=d)),n=n.next;while(n!==l);return s}function d9(t,e){return tn(t.prev,t,e.prev)<0&&tn(e.next,t,t.next)<0}function h9(t,e,n,r){var i=t;do i.z===0&&(i.z=y0(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,g9(i)}function g9(t){var e,n,r,i,o,s,a,l,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return t}function y0(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function p9(t){var e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Va(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function m9(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!v9(t,e)&&(bu(t,e)&&bu(e,t)&&y9(t,e)&&(tn(t.prev,t,e.prev)||tn(t,e.prev,e))||Cg(t,e)&&tn(t.prev,t,t.next)>0&&tn(e.prev,e,e.next)>0)}function tn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Cg(t,e){return t.x===e.x&&t.y===e.y}function bI(t,e,n,r){var i=Hf(tn(t,e,n)),o=Hf(tn(t,e,r)),s=Hf(tn(n,r,t)),a=Hf(tn(n,r,e));return!!(i!==o&&s!==a||i===0&&Uf(t,n,e)||o===0&&Uf(t,r,e)||s===0&&Uf(n,t,r)||a===0&&Uf(n,e,r))}function Uf(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Hf(t){return t>0?1:t<0?-1:0}function v9(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&bI(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function bu(t,e){return tn(t.prev,t,t.next)<0?tn(t,e,t.next)>=0&&tn(t,t.prev,e)>=0:tn(t,e,t.prev)<0||tn(t,t.next,e)<0}function y9(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function _I(t,e){var n=new b0(t.i,t.x,t.y),r=new b0(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function yE(t,e,n,r){var i=new b0(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _u(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function b0(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}xg.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(_0(t,0,o,n));if(i)for(var a=0,l=e.length;a<l;a++){var c=e[a]*n,u=a<l-1?e[a+1]*n:t.length;s-=Math.abs(_0(t,c,u,n))}var f=0;for(a=0;a<r.length;a+=3){var d=r[a]*n,h=r[a+1]*n,p=r[a+2]*n;f+=Math.abs((t[d]-t[p])*(t[h+1]-t[d+1])-(t[d]-t[h])*(t[p+1]-t[d+1]))}return s===0&&f===0?0:Math.abs((f-s)/s)};function _0(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}xg.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n};var b9=rb.exports;const _9=Lu(b9),Wf=uI.CLOCKWISE,bE=uI.COUNTER_CLOCKWISE,$o={isClosed:!0};function w9(t){if(t=t&&t.positions||t,!Array.isArray(t)&&!ArrayBuffer.isView(t))throw new Error("invalid polygon")}function vc(t){return"positions"in t?t.positions:t}function Ld(t){return"holeIndices"in t?t.holeIndices:null}function S9(t){return Array.isArray(t[0])}function E9(t){return t.length>=1&&t[0].length>=2&&Number.isFinite(t[0][0])}function x9(t){const e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]}function C9(t,e,n,r){for(let i=0;i<e;i++)if(t[n+i]!==t[r-e+i])return!1;return!0}function _E(t,e,n,r,i){let o=e;const s=n.length;for(let a=0;a<s;a++)for(let l=0;l<r;l++)t[o++]=n[a][l]||0;if(!x9(n))for(let a=0;a<r;a++)t[o++]=n[0][a]||0;return $o.start=e,$o.end=o,$o.size=r,fI(t,i,$o),o}function wE(t,e,n,r,i=0,o,s){o=o||n.length;const a=o-i;if(a<=0)return e;let l=e;for(let c=0;c<a;c++)t[l++]=n[i+c];if(!C9(n,r,i,o))for(let c=0;c<r;c++)t[l++]=n[i+c];return $o.start=e,$o.end=l,$o.size=r,fI(t,s,$o),l}function T9(t,e){w9(t);const n=[],r=[];if("positions"in t){const{positions:i,holeIndices:o}=t;if(o){let s=0;for(let a=0;a<=o.length;a++)s=wE(n,s,i,e,o[a-1],o[a],a===0?Wf:bE),r.push(s);return r.pop(),{positions:n,holeIndices:r}}t=i}if(!S9(t))return wE(n,0,t,e,0,n.length,Wf),n;if(!E9(t)){let i=0;for(const[o,s]of t.entries())i=_E(n,i,s,e,o===0?Wf:bE),r.push(i);return r.pop(),{positions:n,holeIndices:r}}return _E(n,0,t,e,Wf),n}function gm(t,e,n){const r=t.length/3;let i=0;for(let o=0;o<r;o++){const s=(o+1)%r;i+=t[o*3+e]*t[s*3+n],i-=t[s*3+e]*t[o*3+n]}return Math.abs(i/2)}function SE(t,e,n,r){const i=t.length/3;for(let o=0;o<i;o++){const s=o*3,a=t[s+0],l=t[s+1],c=t[s+2];t[s+e]=a,t[s+n]=l,t[s+r]=c}}function P9(t,e,n,r){let i=Ld(t);i&&(i=i.map(a=>a/e));let o=vc(t);const s=r&&e===3;if(n){const a=o.length;o=o.slice();const l=[];for(let c=0;c<a;c+=e){l[0]=o[c],l[1]=o[c+1],s&&(l[2]=o[c+2]);const u=n(l);o[c]=u[0],o[c+1]=u[1],s&&(o[c+2]=u[2])}}if(s){const a=gm(o,0,1),l=gm(o,0,2),c=gm(o,1,2);if(!a&&!l&&!c)return[];a>l&&a>c||(l>c?(n||(o=o.slice()),SE(o,0,2,1)):(n||(o=o.slice()),SE(o,2,0,1)))}return _9(o,i,e)}class A9 extends iI{constructor(e){const{fp64:n,IndexType:r=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:n?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:r,size:1}}})}get(e){const{attributes:n}=this;return e==="indices"?n.indices&&n.indices.subarray(0,this.vertexCount):n[e]}updateGeometry(e){super.updateGeometry(e);const n=this.buffers.indices;if(n)this.vertexCount=(n.value||n).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(e){if(this.normalize){const n=T9(e,this.positionSize);return this.opts.resolution?hI(vc(n),Ld(n),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?X8(vc(n),Ld(n),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):n}return e}getGeometrySize(e){if(EE(e)){let n=0;for(const r of e)n+=this.getGeometrySize(r);return n}return vc(e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):null}updateGeometryAttributes(e,n){if(e&&EE(e))for(const r of e){const i=this.getGeometrySize(r);n.geometrySize=i,this.updateGeometryAttributes(r,n),n.vertexStart+=i,n.indexStart=this.indexStarts[n.geometryIndex+1]}else this._updateIndices(e,n),this._updatePositions(e,n),this._updateVertexValid(e,n)}_updateIndices(e,{geometryIndex:n,vertexStart:r,indexStart:i}){const{attributes:o,indexStarts:s,typedArrayManager:a}=this;let l=o.indices;if(!l||!e)return;let c=i;const u=P9(e,this.positionSize,this.opts.preproject,this.opts.full3d);l=a.allocate(l,i+u.length,{copy:!0});for(let f=0;f<u.length;f++)l[c++]=u[f]+r;s[n+1]=i+u.length,o.indices=l}_updatePositions(e,{vertexStart:n,geometrySize:r}){const{attributes:{positions:i},positionSize:o}=this;if(!i||!e)return;const s=vc(e);for(let a=n,l=0;l<r;a++,l++){const c=s[l*o],u=s[l*o+1],f=o>2?s[l*o+2]:0;i[a*3]=c,i[a*3+1]=u,i[a*3+2]=f}}_updateVertexValid(e,{vertexStart:n,geometrySize:r}){const{positionSize:i}=this,o=this.attributes.vertexValid,s=e&&Ld(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,n):o.fill(1,n,n+r),s)for(let a=0;a<s.length;a++)o[n+s[a]/i-1]=0;o[n+r-1]=0}}function EE(t){return Array.isArray(t)&&t.length>0&&!Number.isFinite(t[0])}const wI=`
attribute vec2 vertexPositions;
attribute float vertexValid;

uniform bool extruded;
uniform bool isWireframe;
uniform float elevationScale;
uniform float opacity;

varying vec4 vColor;

struct PolygonProps {
  vec4 fillColors;
  vec4 lineColors;
  vec3 positions;
  vec3 nextPositions;
  vec3 pickingColors;
  vec3 positions64Low;
  vec3 nextPositions64Low;
  float elevations;
};

vec3 project_offset_normal(vec3 vector) {
  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
    return normalize(vector * project_uCommonUnitsPerWorldUnit);
  }
  return project_normal(vector);
}

void calculatePosition(PolygonProps props) {
#ifdef IS_SIDE_VERTEX
  if(vertexValid < 0.5){
    gl_Position = vec4(0.);
    return;
  }
#endif

  vec3 pos;
  vec3 pos64Low;
  vec3 normal;
  vec4 colors = isWireframe ? props.lineColors : props.fillColors;

  geometry.worldPosition = props.positions;
  geometry.worldPositionAlt = props.nextPositions;
  geometry.pickingColor = props.pickingColors;

#ifdef IS_SIDE_VERTEX
  pos = mix(props.positions, props.nextPositions, vertexPositions.x);
  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);
#else
  pos = props.positions;
  pos64Low = props.positions64Low;
#endif

  if (extruded) {
    pos.z += props.elevations * vertexPositions.y * elevationScale;
  }
  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);

  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);

  if (extruded) {
  #ifdef IS_SIDE_VERTEX
    normal = vec3(
      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),
      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),
      0.0);
    normal = project_offset_normal(normal);
  #else
    normal = project_normal(vec3(0.0, 0.0, 1.0));
  #endif
    geometry.normal = normal;
    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);
    vColor = vec4(lightColor, colors.a * opacity);
  } else {
    vColor = vec4(colors.rgb, colors.a * opacity);
  }
  DECKGL_FILTER_COLOR(vColor, geometry);
}
`,I9=`#define SHADER_NAME solid-polygon-layer-vertex-shader

attribute vec3 positions;
attribute vec3 positions64Low;
attribute float elevations;
attribute vec4 fillColors;
attribute vec4 lineColors;
attribute vec3 pickingColors;

`.concat(wI,`

void main(void) {
  PolygonProps props;

  props.positions = positions;
  props.positions64Low = positions64Low;
  props.elevations = elevations;
  props.fillColors = fillColors;
  props.lineColors = lineColors;
  props.pickingColors = pickingColors;

  calculatePosition(props);
}
`),M9=`#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX


attribute vec3 instancePositions;
attribute vec3 nextPositions;
attribute vec3 instancePositions64Low;
attribute vec3 nextPositions64Low;
attribute float instanceElevations;
attribute vec4 instanceFillColors;
attribute vec4 instanceLineColors;
attribute vec3 instancePickingColors;

`.concat(wI,`

void main(void) {
  PolygonProps props;

  #if RING_WINDING_ORDER_CW == 1
    props.positions = instancePositions;
    props.positions64Low = instancePositions64Low;
    props.nextPositions = nextPositions;
    props.nextPositions64Low = nextPositions64Low;
  #else
    props.positions = nextPositions;
    props.positions64Low = nextPositions64Low;
    props.nextPositions = instancePositions;
    props.nextPositions64Low = instancePositions64Low;
  #endif
  props.elevations = instanceElevations;
  props.fillColors = instanceFillColors;
  props.lineColors = instanceLineColors;
  props.pickingColors = instancePickingColors;

  calculatePosition(props);
}
`),O9=`#define SHADER_NAME solid-polygon-layer-fragment-shader

precision highp float;

varying vec4 vColor;

void main(void) {
  gl_FragColor = vColor;

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,Nh=[0,0,0,255],L9={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:t=>t.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:Nh},getLineColor:{type:"accessor",value:Nh},material:!0},Gf={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class ib extends qi{constructor(...e){super(...e),je(this,"state",void 0)}getShaders(e){return super.getShaders({vs:e==="top"?I9:M9,fs:O9,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[kl,zB,Fl]})}get wrapLongitude(){return!1}initializeState(){const{gl:e,viewport:n}=this.context;let{coordinateSystem:r}=this.props;const{_full3d:i}=this.props;n.isGeospatial&&r===ut.DEFAULT&&(r=ut.LNGLAT);let o;r===ut.LNGLAT&&(i?o=n.projectPosition.bind(n):o=n.projectFlat.bind(n)),this.setState({numInstances:0,polygonTesselator:new A9({preproject:o,fp64:this.use64bitPositions(),IndexType:!e||N1(e,qt.ELEMENT_INDEX_UINT32)?Uint32Array:Uint16Array})});const s=this.getAttributeManager(),a=!0;s.remove(["instancePickingColors"]),s.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:a},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:Gf,accessor:"getPolygon",update:this.calculatePositions,noAlloc:a,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:a},elevations:{size:1,transition:Gf,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:Gf,accessor:"getFillColor",defaultValue:Nh,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:Gf,accessor:"getLineColor",defaultValue:Nh,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(l,{index:c,target:u})=>this.encodePickingColor(l&&l.__source?l.__source.index:c,u),shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(e){const n=super.getPickingInfo(e),{index:r}=n,{data:i}=this.props;return i[0]&&i[0].__source&&(n.object=i.find(o=>o.__source.index===r)),n}disablePickingIndex(e){const{data:n}=this.props;if(n[0]&&n[0].__source)for(let r=0;r<n.length;r++)n[r].__source.index===e&&this._disablePickingIndex(r);else super.disablePickingIndex(e)}draw({uniforms:e}){const{extruded:n,filled:r,wireframe:i,elevationScale:o}=this.props,{topModel:s,sideModel:a,polygonTesselator:l}=this.state,c={...e,extruded:!!n,elevationScale:o};a&&(a.setInstanceCount(l.instanceCount-1),a.setUniforms(c),i&&(a.setDrawMode(3),a.setUniforms({isWireframe:!0}).draw()),r&&(a.setDrawMode(6),a.setUniforms({isWireframe:!1}).draw())),s&&(s.setVertexCount(l.vertexCount),s.setUniforms(c).draw())}updateState(e){super.updateState(e),this.updateGeometry(e);const{props:n,oldProps:r,changeFlags:i}=e,o=this.getAttributeManager();if(i.extensionsChanged||n.filled!==r.filled||n.extruded!==r.extruded){var a;(a=this.state.models)===null||a===void 0||a.forEach(l=>l.delete()),this.setState(this._getModels(this.context.gl)),o.invalidateAll()}}updateGeometry({props:e,oldProps:n,changeFlags:r}){if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPolygon)){const{polygonTesselator:o}=this.state,s=e.data.attributes||{};o.updateGeometry({data:e.data,normalize:e._normalize,geometryBuffer:s.getPolygon,buffers:s,getGeometry:e.getPolygon,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:r.dataChanged,full3d:e._full3d}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),r.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(e){const{id:n,filled:r,extruded:i}=this.props;let o,s;if(r){const a=this.getShaders("top");a.defines.NON_INSTANCED_MODEL=1,o=new is(e,{...a,id:"".concat(n,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return i&&(s=new is(e,{...this.getShaders("side"),id:"".concat(n,"-side"),geometry:new Nl({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),s.userData.excludeAttributes={indices:!0}),{models:[s,o].filter(Boolean),topModel:o,sideModel:s}}calculateIndices(e){const{polygonTesselator:n}=this.state;e.startIndices=n.indexStarts,e.value=n.get("indices")}calculatePositions(e){const{polygonTesselator:n}=this.state;e.startIndices=n.vertexStarts,e.value=n.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}je(ib,"defaultProps",L9);je(ib,"layerName","SolidPolygonLayer");function R9({data:t,getIndex:e,dataRange:n,replace:r}){const{startRow:i=0,endRow:o=1/0}=n,s=t.length;let a=s,l=s;for(let d=0;d<s;d++){const h=e(t[d]);if(a>d&&h>=i&&(a=d),h>=o){l=d;break}}let c=a;const f=l-a!==r.length?t.slice(l):void 0;for(let d=0;d<r.length;d++)t[c++]=r[d];if(f){for(let d=0;d<f.length;d++)t[c++]=f[d];t.length=c}return{startRow:a,endRow:a+r.length}}function N9(t,e){if(!t)return null;const n="startIndices"in t?t.startIndices[e]:e,r=t.featureIds.value[n];return n!==-1?k9(t,r,n):null}function k9(t,e,n){const r={properties:{...t.properties[e]}};for(const i in t.numericProps)r.properties[i]=t.numericProps[i].value[n];return r}function F9(t,e){const n={points:null,lines:null,polygons:null};for(const r in n){const i=t[r].globalFeatureIds.value;n[r]=new Uint8ClampedArray(i.length*3);const o=[];for(let s=0;s<i.length;s++)e(i[s],o),n[r][s*3+0]=o[0],n[r][s*3+1]=o[1],n[r][s*3+2]=o[2]}return n}const D9=`#define SHADER_NAME multi-icon-layer-fragment-shader

precision highp float;

uniform float opacity;
uniform sampler2D iconsTexture;
uniform float gamma;
uniform bool sdf;
uniform float alphaCutoff;
uniform float sdfBuffer;
uniform float outlineBuffer;
uniform vec4 outlineColor;

varying vec4 vColor;
varying vec2 vTextureCoords;
varying vec2 uv;

void main(void) {
  geometry.uv = uv;

  if (!picking_uActive) {
    float alpha = texture2D(iconsTexture, vTextureCoords).a;
    vec4 color = vColor;
    if (sdf) {
      float distance = alpha;
      alpha = smoothstep(sdfBuffer - gamma, sdfBuffer + gamma, distance);

      if (outlineBuffer > 0.0) {
        float inFill = alpha;
        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);
        color = mix(outlineColor, vColor, inFill);
        alpha = inBorder;
      }
    }
    float a = alpha * color.a;
    
    if (a < alphaCutoff) {
      discard;
    }

    gl_FragColor = vec4(color.rgb, a * opacity);
  }

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,pm=192/256,xE=[],z9={getIconOffsets:{type:"accessor",value:t=>t.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}};class ob extends Xu{constructor(...e){super(...e),je(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:D9}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(n,{index:r,target:i})=>this.encodePickingColor(r,i)}})}updateState(e){super.updateState(e);const{props:n,oldProps:r}=e;let{outlineColor:i}=n;i!==r.outlineColor&&(i=i.map(o=>o/255),i[3]=Number.isFinite(i[3])?i[3]:1,this.setState({outlineColor:i})),!n.sdf&&n.outlineWidth&&it.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:n,smoothing:r,outlineWidth:i}=this.props,{outlineColor:o}=this.state,s=i?Math.max(r,pm*(1-i)):-1;if(e.uniforms={...e.uniforms,sdfBuffer:pm,outlineBuffer:s,gamma:r,sdf:!!n,outlineColor:o},super.draw(e),n&&i){const{iconManager:a}=this.state;a.getTexture()&&this.state.model.draw({uniforms:{outlineBuffer:pm}})}}getInstanceOffset(e){return e?Array.from(e).flatMap(n=>super.getInstanceOffset(n)):xE}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(n=>super.getInstanceIconFrame(n)):xE}}je(ob,"defaultProps",z9);je(ob,"layerName","MultiIconLayer");const Nc=1e20;class B9{constructor({fontSize:e=24,buffer:n=3,radius:r=8,cutoff:i=.25,fontFamily:o="sans-serif",fontWeight:s="normal",fontStyle:a="normal"}={}){this.buffer=n,this.cutoff=i,this.radius=r;const l=this.size=e+n*4,c=this._createCanvas(l),u=this.ctx=c.getContext("2d",{willReadFrequently:!0});u.font=`${a} ${s} ${e}px ${o}`,u.textBaseline="alphabetic",u.textAlign="left",u.fillStyle="black",this.gridOuter=new Float64Array(l*l),this.gridInner=new Float64Array(l*l),this.f=new Float64Array(l),this.z=new Float64Array(l+1),this.v=new Uint16Array(l)}_createCanvas(e){const n=document.createElement("canvas");return n.width=n.height=e,n}draw(e){const{width:n,actualBoundingBoxAscent:r,actualBoundingBoxDescent:i,actualBoundingBoxLeft:o,actualBoundingBoxRight:s}=this.ctx.measureText(e),a=Math.ceil(r),l=0,c=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(s-o))),u=Math.min(this.size-this.buffer,a+Math.ceil(i)),f=c+2*this.buffer,d=u+2*this.buffer,h=Math.max(f*d,0),p=new Uint8ClampedArray(h),v={data:p,width:f,height:d,glyphWidth:c,glyphHeight:u,glyphTop:a,glyphLeft:l,glyphAdvance:n};if(c===0||u===0)return v;const{ctx:_,buffer:m,gridInner:y,gridOuter:b}=this;_.clearRect(m,m,c,u),_.fillText(e,m,m+a);const w=_.getImageData(m,m,c,u);b.fill(Nc,0,h),y.fill(0,0,h);for(let S=0;S<u;S++)for(let x=0;x<c;x++){const E=w.data[4*(S*c+x)+3]/255;if(E===0)continue;const I=(S+m)*f+x+m;if(E===1)b[I]=0,y[I]=Nc;else{const M=.5-E;b[I]=M>0?M*M:0,y[I]=M<0?M*M:0}}CE(b,0,0,f,d,f,this.f,this.v,this.z),CE(y,m,m,c,u,f,this.f,this.v,this.z);for(let S=0;S<h;S++){const x=Math.sqrt(b[S])-Math.sqrt(y[S]);p[S]=Math.round(255-255*(x/this.radius+this.cutoff))}return v}}function CE(t,e,n,r,i,o,s,a,l){for(let c=e;c<e+r;c++)TE(t,n*o+c,o,i,s,a,l);for(let c=n;c<n+i;c++)TE(t,c*o+e,1,r,s,a,l)}function TE(t,e,n,r,i,o,s){o[0]=0,s[0]=-Nc,s[1]=Nc,i[0]=t[e];for(let a=1,l=0,c=0;a<r;a++){i[a]=t[e+a*n];const u=a*a;do{const f=o[l];c=(i[a]-i[f]+u-f*f)/(a-f)/2}while(c<=s[l]&&--l>-1);l++,o[l]=a,s[l]=c,s[l+1]=Nc}for(let a=0,l=0;a<r;a++){for(;s[l+1]<a;)l++;const c=o[l],u=a-c;t[e+a*n]=i[c]+u*u}}const j9=32,$9=[];function V9(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function U9({characterSet:t,getFontWidth:e,fontHeight:n,buffer:r,maxCanvasWidth:i,mapping:o={},xOffset:s=0,yOffset:a=0}){let l=0,c=s;const u=n+r*2;for(const f of t)if(!o[f]){const d=e(f);c+d+r*2>i&&(c=0,l++),o[f]={x:c+r,y:a+l*u+r,width:d,height:u,layoutWidth:d,layoutHeight:n},c+=d+r*2}return{mapping:o,xOffset:c,yOffset:a+l*u,canvasHeight:V9(a+(l+1)*u)}}function SI(t,e,n,r){let i=0;for(let s=e;s<n;s++){var o;const a=t[s];i+=((o=r[a])===null||o===void 0?void 0:o.layoutWidth)||0}return i}function EI(t,e,n,r,i,o){let s=e,a=0;for(let l=e;l<n;l++){const c=SI(t,l,l+1,i);a+c>r&&(s<l&&o.push(l),s=l,a=0),a+=c}return a}function H9(t,e,n,r,i,o){let s=e,a=e,l=e,c=0;for(let u=e;u<n;u++)if((t[u]===" "||t[u+1]===" "||u+1===n)&&(l=u+1),l>a){let f=SI(t,a,l,i);c+f>r&&(s<a&&(o.push(a),s=a,c=0),f>r&&(f=EI(t,a,l,r,i,o),s=o[o.length-1])),a=l,c+=f}return c}function W9(t,e,n,r,i=0,o){o===void 0&&(o=t.length);const s=[];return e==="break-all"?EI(t,i,o,n,r,s):H9(t,i,o,n,r,s),s}function G9(t,e,n,r,i,o){let s=0,a=0;for(let l=e;l<n;l++){const c=t[l],u=r[c];u?(a||(a=u.layoutHeight),i[l]=s+u.layoutWidth/2,s+=u.layoutWidth):(it.warn("Missing character: ".concat(c," (").concat(c.codePointAt(0),")"))(),i[l]=s,s+=j9)}o[0]=s,o[1]=a}function q9(t,e,n,r,i){const o=Array.from(t),s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=(n==="break-word"||n==="break-all")&&isFinite(r)&&r>0,f=[0,0],d=[0,0];let h=0,p=0,v=0;for(let m=0;m<=s;m++){const y=o[m];if((y===`
`||m===s)&&(v=m),v>p){const b=u?W9(o,n,r,i,p,v):$9;for(let w=0;w<=b.length;w++){const S=w===0?p:b[w-1],x=w<b.length?b[w]:v;G9(o,S,x,i,a,d);for(let E=S;E<x;E++){var _;const I=o[E],M=((_=i[I])===null||_===void 0?void 0:_.layoutOffsetY)||0;l[E]=h+d[1]/2+M,c[E]=d[0]}h=h+d[1]*e,f[0]=Math.max(f[0],d[0])}p=v}y===`
`&&(a[p]=0,l[p]=0,c[p]=0,p++)}return f[1]=h,{x:a,y:l,rowWidth:c,size:f}}function X9({value:t,length:e,stride:n,offset:r,startIndices:i,characterSet:o}){const s=t.BYTES_PER_ELEMENT,a=n?n/s:1,l=r?r/s:0,c=i[e]||Math.ceil((t.length-l)/a),u=o&&new Set,f=new Array(e);let d=t;if(a>1||l>0){const h=t.constructor;d=new h(c);for(let p=0;p<c;p++)d[p]=t[p*a+l]}for(let h=0;h<e;h++){const p=i[h],v=i[h+1]||c,_=d.subarray(p,v);f[h]=String.fromCodePoint.apply(null,_),u&&_.forEach(u.add,u)}if(u)for(const h of u)o.add(String.fromCodePoint(h));return{texts:f,characterCount:c}}class xI{constructor(e=5){je(this,"limit",void 0),je(this,"_cache",{}),je(this,"_order",[]),this.limit=e}get(e){const n=this._cache[e];return n&&(this._deleteOrder(e),this._appendOrder(e)),n}set(e,n){this._cache[e]?(this.delete(e),this._cache[e]=n,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=n,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const n=this._order.indexOf(e);n>=0&&this._order.splice(n,1)}_appendOrder(e){this._order.push(e)}}function K9(){const t=[];for(let e=32;e<128;e++)t.push(String.fromCharCode(e));return t}const rl={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:K9(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1},PE=1024,AE=.9,IE=1.2,CI=3;let kh=new xI(CI);function Y9(t,e){let n;typeof e=="string"?n=new Set(Array.from(e)):n=new Set(e);const r=kh.get(t);if(!r)return n;for(const i in r.mapping)n.has(i)&&n.delete(i);return n}function Z9(t,e){for(let n=0;n<t.length;n++)e.data[4*n+3]=t[n]}function ME(t,e,n,r){t.font="".concat(r," ").concat(n,"px ").concat(e),t.fillStyle="#000",t.textBaseline="alphabetic",t.textAlign="left"}function Q9(t){it.assert(Number.isFinite(t)&&t>=CI,"Invalid cache limit"),kh=new xI(t)}class J9{constructor(){je(this,"props",{...rl}),je(this,"_key",void 0),je(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){const{fontSize:e,buffer:n}=this.props;return(e*IE+n*2)/e}setProps(e={}){Object.assign(this.props,e),this._key=this._getKey();const n=Y9(this._key,this.props.characterSet),r=kh.get(this._key);if(r&&n.size===0){this._atlas!==r&&(this._atlas=r);return}const i=this._generateFontAtlas(n,r);this._atlas=i,kh.set(this._key,i)}_generateFontAtlas(e,n){const{fontFamily:r,fontWeight:i,fontSize:o,buffer:s,sdf:a,radius:l,cutoff:c}=this.props;let u=n&&n.data;u||(u=document.createElement("canvas"),u.width=PE);const f=u.getContext("2d",{willReadFrequently:!0});ME(f,r,o,i);const{mapping:d,canvasHeight:h,xOffset:p,yOffset:v}=U9({getFontWidth:_=>f.measureText(_).width,fontHeight:o*IE,buffer:s,characterSet:e,maxCanvasWidth:PE,...n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset}});if(u.height!==h){const _=f.getImageData(0,0,u.width,u.height);u.height=h,f.putImageData(_,0,0)}if(ME(f,r,o,i),a){const _=new B9({fontSize:o,buffer:s,radius:l,cutoff:c,fontFamily:r,fontWeight:"".concat(i)});for(const m of e){const{data:y,width:b,height:w,glyphTop:S}=_.draw(m);d[m].width=b,d[m].layoutOffsetY=o*AE-S;const x=f.createImageData(b,w);Z9(y,x),f.putImageData(x,d[m].x,d[m].y)}}else for(const _ of e)f.fillText(_,d[_].x,d[_].y+s+o*AE);return{xOffset:p,yOffset:v,mapping:d,data:u,width:u.width,height:u.height}}_getKey(){const{fontFamily:e,fontWeight:n,fontSize:r,buffer:i,sdf:o,radius:s,cutoff:a}=this.props;return o?"".concat(e," ").concat(n," ").concat(r," ").concat(i," ").concat(s," ").concat(a):"".concat(e," ").concat(n," ").concat(r," ").concat(i)}}const eH=`#define SHADER_NAME text-background-layer-vertex-shader

attribute vec2 positions;

attribute vec3 instancePositions;
attribute vec3 instancePositions64Low;
attribute vec4 instanceRects;
attribute float instanceSizes;
attribute float instanceAngles;
attribute vec2 instancePixelOffsets;
attribute float instanceLineWidths;
attribute vec4 instanceFillColors;
attribute vec4 instanceLineColors;
attribute vec3 instancePickingColors;

uniform bool billboard;
uniform float opacity;
uniform float sizeScale;
uniform float sizeMinPixels;
uniform float sizeMaxPixels;
uniform vec4 padding;
uniform int sizeUnits;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying float vLineWidth;
varying vec2 uv;
varying vec2 dimensions;

vec2 rotate_by_angle(vec2 vertex, float angle) {
  float angle_radian = radians(angle);
  float cos_angle = cos(angle_radian);
  float sin_angle = sin(angle_radian);
  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
  return rotationMatrix * vertex;
}

void main(void) {
  geometry.worldPosition = instancePositions;
  geometry.uv = positions;
  geometry.pickingColor = instancePickingColors;
  uv = positions;
  vLineWidth = instanceLineWidths;
  float sizePixels = clamp(
    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),
    sizeMinPixels, sizeMaxPixels
  );

  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;

  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);
  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);
  pixelOffset += instancePixelOffsets;
  pixelOffset.y *= -1.0;

  if (billboard)  {
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
    vec3 offset = vec3(pixelOffset, 0.0);
    DECKGL_FILTER_SIZE(offset, geometry);
    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
  } else {
    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
    DECKGL_FILTER_SIZE(offset_common, geometry);
    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
    DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
  }
  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);
  DECKGL_FILTER_COLOR(vFillColor, geometry);
  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);
  DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,tH=`#define SHADER_NAME text-background-layer-fragment-shader

precision highp float;

uniform bool stroked;

varying vec4 vFillColor;
varying vec4 vLineColor;
varying float vLineWidth;
varying vec2 uv;
varying vec2 dimensions;

void main(void) {
  geometry.uv = uv;

  vec2 pixelPosition = uv * dimensions;
  if (stroked) {
    float distToEdge = min(
      min(pixelPosition.x, dimensions.x - pixelPosition.x),
      min(pixelPosition.y, dimensions.y - pixelPosition.y)
    );
    float isBorder = smoothedge(distToEdge, vLineWidth);
    gl_FragColor = mix(vFillColor, vLineColor, isBorder);
  } else {
    gl_FragColor = vFillColor;
  }

  DECKGL_FILTER_COLOR(gl_FragColor, geometry);
}
`,nH={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:t=>t.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class sb extends qi{constructor(...e){super(...e),je(this,"state",void 0)}getShaders(){return super.getShaders({vs:eH,fs:tH,modules:[kl,Fl]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:n}=e;if(n.extensionsChanged){var r;const{gl:i}=this.context;(r=this.state.model)===null||r===void 0||r.delete(),this.state.model=this._getModel(i),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:n,sizeScale:r,sizeUnits:i,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:l}=this.props;l.length<4&&(l=[l[0],l[1],l[0],l[1]]),this.state.model.setUniforms(e).setUniforms({billboard:n,stroked:!!a,padding:l,sizeUnits:Ws[i],sizeScale:r,sizeMinPixels:o,sizeMaxPixels:s}).draw()}_getModel(e){const n=[0,0,1,0,1,1,0,1];return new is(e,{...this.getShaders(),id:this.props.id,geometry:new Nl({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array(n)}}}),isInstanced:!0})}}je(sb,"defaultProps",nH);je(sb,"layerName","TextBackgroundLayer");const OE={start:1,middle:0,end:-1},LE={top:1,center:0,bottom:-1},mm=[0,0,0,255],rH=1,iH={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:mm},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:rl.characterSet},fontFamily:rl.fontFamily,fontWeight:rl.fontWeight,lineHeight:rH,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:mm},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:t=>t.text},getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:mm},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class ab extends Sg{constructor(...e){super(...e),je(this,"state",void 0),je(this,"getBoundingRect",(n,r)=>{let{size:[i,o]}=this.transformParagraph(n,r);const{fontSize:s}=this.state.fontAtlasManager.props;i/=s,o/=s;const{getTextAnchor:a,getAlignmentBaseline:l}=this.props,c=OE[typeof a=="function"?a(n,r):a],u=LE[typeof l=="function"?l(n,r):l];return[(c-1)*i/2,(u-1)*o/2,i,o]}),je(this,"getIconOffsets",(n,r)=>{const{getTextAnchor:i,getAlignmentBaseline:o}=this.props,{x:s,y:a,rowWidth:l,size:[c,u]}=this.transformParagraph(n,r),f=OE[typeof i=="function"?i(n,r):i],d=LE[typeof o=="function"?o(n,r):o],h=s.length,p=new Array(h*2);let v=0;for(let _=0;_<h;_++){const m=(1-f)*(c-l[_])/2;p[v++]=(f-1)*c/2+m+s[_],p[v++]=(d-1)*u/2+a[_]}return p})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new J9},this.props.maxWidth>0&&it.warn("v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState(e){const{props:n,oldProps:r,changeFlags:i}=e;(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||n.lineHeight!==r.lineHeight||n.wordBreak!==r.wordBreak||n.maxWidth!==r.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:n,fontWeight:r}=this.props,{fontAtlasManager:i,characterSet:o}=this.state,s={...e,characterSet:o,fontFamily:n,fontWeight:r};if(!i.mapping)return i.setProps(s),!0;for(const a in s)if(s[a]!==i.props[a])return i.setProps(s),!0;return!1}_updateText(){var e;const{data:n,characterSet:r}=this.props,i=(e=n.attributes)===null||e===void 0?void 0:e.getText;let{getText:o}=this.props,s=n.startIndices,a;const l=r==="auto"&&new Set;if(i&&s){const{texts:c,characterCount:u}=X9({...ArrayBuffer.isView(i)?{value:i}:i,length:n.length,startIndices:s,characterSet:l});a=u,o=(f,{index:d})=>c[d]}else{const{iterable:c,objectInfo:u}=wg(n);s=[0],a=0;for(const f of c){u.index++;const d=Array.from(o(f,u)||"");l&&d.forEach(l.add,l),a+=d.length,s.push(a)}}this.setState({getText:o,startIndices:s,numInstances:a,characterSet:l||r})}transformParagraph(e,n){const{fontAtlasManager:r}=this.state,i=r.mapping,o=this.state.getText,{wordBreak:s,lineHeight:a,maxWidth:l}=this.props,c=o(e,n)||"";return q9(c,a,s,l*r.props.fontSize,i)}renderLayers(){const{startIndices:e,numInstances:n,getText:r,fontAtlasManager:{scale:i,texture:o,mapping:s},styleVersion:a}=this.state,{data:l,_dataDiff:c,getPosition:u,getColor:f,getSize:d,getAngle:h,getPixelOffset:p,getBackgroundColor:v,getBorderColor:_,getBorderWidth:m,backgroundPadding:y,background:b,billboard:w,fontSettings:S,outlineWidth:x,outlineColor:E,sizeScale:I,sizeUnits:M,sizeMinPixels:O,sizeMaxPixels:R,transitions:D,updateTriggers:k}=this.props,j=this.getSubLayerClass("characters",ob),G=this.getSubLayerClass("background",sb);return[b&&new G({getFillColor:v,getLineColor:_,getLineWidth:m,padding:y,getPosition:u,getSize:d,getAngle:h,getPixelOffset:p,billboard:w,sizeScale:I,sizeUnits:M,sizeMinPixels:O,sizeMaxPixels:R,transitions:D&&{getPosition:D.getPosition,getAngle:D.getAngle,getSize:D.getSize,getFillColor:D.getBackgroundColor,getLineColor:D.getBorderColor,getLineWidth:D.getBorderWidth,getPixelOffset:D.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:k.getPosition,getAngle:k.getAngle,getSize:k.getSize,getFillColor:k.getBackgroundColor,getLineColor:k.getBorderColor,getLineWidth:k.getBorderWidth,getPixelOffset:k.getPixelOffset,getBoundingRect:{getText:k.getText,getTextAnchor:k.getTextAnchor,getAlignmentBaseline:k.getAlignmentBaseline,styleVersion:a}}}),{data:l.attributes&&l.attributes.background?{length:l.length,attributes:l.attributes.background}:l,_dataDiff:c,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new j({sdf:S.sdf,smoothing:Number.isFinite(S.smoothing)?S.smoothing:rl.smoothing,outlineWidth:x/(S.radius||rl.radius),outlineColor:E,iconAtlas:o,iconMapping:s,getPosition:u,getColor:f,getSize:d,getAngle:h,getPixelOffset:p,billboard:w,sizeScale:I*i,sizeUnits:M,sizeMinPixels:O*i,sizeMaxPixels:R*i,transitions:D&&{getPosition:D.getPosition,getAngle:D.getAngle,getColor:D.getColor,getSize:D.getSize,getPixelOffset:D.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:k.getText,getPosition:k.getPosition,getAngle:k.getAngle,getColor:k.getColor,getSize:k.getSize,getPixelOffset:k.getPixelOffset,getIconOffsets:{getTextAnchor:k.getTextAnchor,getAlignmentBaseline:k.getAlignmentBaseline,styleVersion:a}}}),{data:l,_dataDiff:c,startIndices:e,numInstances:n,getIconOffsets:this.getIconOffsets,getIcon:r})]}static set fontAtlasCacheLimit(e){Q9(e)}}je(ab,"defaultProps",iH);je(ab,"layerName","TextLayer");const Rd={circle:{type:tb,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:Xu,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:ab,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},Nd={type:nb,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},w0={type:ib,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function ic({type:t,props:e}){const n={};for(const r in e)n[r]=t.defaultProps[e[r]];return n}function vm(t,e){const{transitions:n,updateTriggers:r}=t.props,i={updateTriggers:{},transitions:n&&{getPosition:n.geometry}};for(const o in e){const s=e[o];let a=t.props[o];o.startsWith("get")&&(a=t.getSubLayerAccessor(a),i.updateTriggers[s]=r[o],n&&(i.transitions[s]=n[o])),i[s]=a}return i}function oH(t){if(Array.isArray(t))return t;switch(it.assert(t.type,"GeoJSON does not have type"),t.type){case"Feature":return[t];case"FeatureCollection":return it.assert(Array.isArray(t.features),"GeoJSON does not have features array"),t.features;default:return[{geometry:t}]}}function RE(t,e,n={}){const r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:i=0,endRow:o=t.length}=n;for(let s=i;s<o;s++){const a=t[s],{geometry:l}=a;if(l)if(l.type==="GeometryCollection"){it.assert(Array.isArray(l.geometries),"GeoJSON does not have geometries array");const{geometries:c}=l;for(let u=0;u<c.length;u++){const f=c[u];NE(f,r,e,a,s)}}else NE(l,r,e,a,s)}return r}function NE(t,e,n,r,i){const{type:o,coordinates:s}=t,{pointFeatures:a,lineFeatures:l,polygonFeatures:c,polygonOutlineFeatures:u}=e;if(!aH(o,s)){it.warn("".concat(o," coordinates are malformed"))();return}switch(o){case"Point":a.push(n({geometry:t},r,i));break;case"MultiPoint":s.forEach(f=>{a.push(n({geometry:{type:"Point",coordinates:f}},r,i))});break;case"LineString":l.push(n({geometry:t},r,i));break;case"MultiLineString":s.forEach(f=>{l.push(n({geometry:{type:"LineString",coordinates:f}},r,i))});break;case"Polygon":c.push(n({geometry:t},r,i)),s.forEach(f=>{u.push(n({geometry:{type:"LineString",coordinates:f}},r,i))});break;case"MultiPolygon":s.forEach(f=>{c.push(n({geometry:{type:"Polygon",coordinates:f}},r,i)),f.forEach(d=>{u.push(n({geometry:{type:"LineString",coordinates:d}},r,i))})});break}}const sH={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function aH(t,e){let n=sH[t];for(it.assert(n,"Unknown GeoJSON type ".concat(t));e&&--n>0;)e=e[0];return e&&Number.isFinite(e[0])}function TI(){return{points:{},lines:{},polygons:{},polygonsOutline:{}}}function qf(t){return t.geometry.coordinates}function lH(t,e){const n=TI(),{pointFeatures:r,lineFeatures:i,polygonFeatures:o,polygonOutlineFeatures:s}=t;return n.points.data=r,n.points._dataDiff=e.pointFeatures&&(()=>e.pointFeatures),n.points.getPosition=qf,n.lines.data=i,n.lines._dataDiff=e.lineFeatures&&(()=>e.lineFeatures),n.lines.getPath=qf,n.polygons.data=o,n.polygons._dataDiff=e.polygonFeatures&&(()=>e.polygonFeatures),n.polygons.getPolygon=qf,n.polygonsOutline.data=s,n.polygonsOutline._dataDiff=e.polygonOutlineFeatures&&(()=>e.polygonOutlineFeatures),n.polygonsOutline.getPath=qf,n}function cH(t,e){const n=TI(),{points:r,lines:i,polygons:o}=t,s=F9(t,e);return n.points.data={length:r.positions.value.length/r.positions.size,attributes:{...r.attributes,getPosition:r.positions,instancePickingColors:{size:3,value:s.points}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},n.lines.data={length:i.pathIndices.value.length-1,startIndices:i.pathIndices.value,attributes:{...i.attributes,getPath:i.positions,instancePickingColors:{size:3,value:s.lines}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.lines._pathType="open",n.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:{...o.attributes,getPolygon:o.positions,pickingColors:{size:3,value:s.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygons._normalize=!1,o.triangles&&(n.polygons.data.attributes.indices=o.triangles.value),n.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:3,value:s.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygonsOutline._pathType="open",n}const uH=["points","linestrings","polygons"],fH={...ic(Rd.circle),...ic(Rd.icon),...ic(Rd.text),...ic(Nd),...ic(w0),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:t=>t.properties.icon},getText:{type:"accessor",value:t=>t.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class lb extends Sg{initializeState(){this.state={layerProps:{},features:{}}}updateState({props:e,changeFlags:n}){if(!n.dataChanged)return;const{data:r}=this.props,i=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:i}),i?this._updateStateBinary({props:e,changeFlags:n}):this._updateStateJSON({props:e,changeFlags:n})}_updateStateBinary({props:e,changeFlags:n}){const r=cH(e.data,this.encodePickingColor);this.setState({layerProps:r})}_updateStateJSON({props:e,changeFlags:n}){const r=oH(e.data),i=this.getSubLayerRow.bind(this);let o={};const s={};if(Array.isArray(n.dataChanged)){const l=this.state.features;for(const c in l)o[c]=l[c].slice(),s[c]=[];for(const c of n.dataChanged){const u=RE(r,i,c);for(const f in l)s[f].push(R9({data:o[f],getIndex:d=>d.__source.index,dataRange:c,replace:u[f]}))}}else o=RE(r,i);const a=lH(o,s);this.setState({features:o,featuresDiff:s,layerProps:a})}getPickingInfo(e){const n=super.getPickingInfo(e),{index:r,sourceLayer:i}=n;return n.featureType=uH.find(o=>i.id.startsWith("".concat(this.id,"-").concat(o,"-"))),r>=0&&i.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(n.index=this.props.data.points.globalFeatureIds.value[r]),n}_updateAutoHighlight(e){const n="".concat(this.id,"-points-"),r=e.featureType==="points";for(const i of this.getSubLayers())i.id.startsWith(n)===r&&i.updateAutoHighlight(e)}_renderPolygonLayer(){const{extruded:e,wireframe:n}=this.props,{layerProps:r}=this.state,i="polygons-fill",o=this.shouldRenderSubLayer(i,r.polygons.data)&&this.getSubLayerClass(i,w0.type);if(o){const s=vm(this,w0.props),a=e&&n;return a||delete s.getLineColor,s.updateTriggers.lineColors=a,new o(s,this.getSubLayerProps({id:i,updateTriggers:s.updateTriggers}),r.polygons)}return null}_renderLineLayers(){const{extruded:e,stroked:n}=this.props,{layerProps:r}=this.state,i="polygons-stroke",o="linestrings",s=!e&&n&&this.shouldRenderSubLayer(i,r.polygonsOutline.data)&&this.getSubLayerClass(i,Nd.type),a=this.shouldRenderSubLayer(o,r.lines.data)&&this.getSubLayerClass(o,Nd.type);if(s||a){const l=vm(this,Nd.props);return[s&&new s(l,this.getSubLayerProps({id:i,updateTriggers:l.updateTriggers}),r.polygonsOutline),a&&new a(l,this.getSubLayerProps({id:o,updateTriggers:l.updateTriggers}),r.lines)]}return null}_renderPointLayers(){const{pointType:e}=this.props,{layerProps:n,binary:r}=this.state;let{highlightedObjectIndex:i}=this.props;!r&&Number.isFinite(i)&&(i=n.points.data.findIndex(a=>a.__source.index===i));const o=new Set(e.split("+")),s=[];for(const a of o){const l="points-".concat(a),c=Rd[a],u=c&&this.shouldRenderSubLayer(l,n.points.data)&&this.getSubLayerClass(l,c.type);if(u){const f=vm(this,c.props);let d=n.points;if(a==="text"&&r){const{instancePickingColors:h,...p}=d.data.attributes;d={...d,data:{...d.data,attributes:p}}}s.push(new u(f,this.getSubLayerProps({id:l,updateTriggers:f.updateTriggers,highlightedObjectIndex:i}),d))}}return s}renderLayers(){const{extruded:e}=this.props,n=this._renderPolygonLayer(),r=this._renderLineLayers(),i=this._renderPointLayers();return[!e&&n,r,i,e&&n]}getSubLayerAccessor(e){const{binary:n}=this.state;return!n||typeof e!="function"?super.getSubLayerAccessor(e):(r,i)=>{const{data:o,index:s}=i,a=N9(o,s);return e(a,i)}}}je(lb,"layerName","GeoJsonLayer");je(lb,"defaultProps",fH);const kd=[{id:"1",name:"Nalanda Mahavihara",bengaliName:"",location:"Nalanda, Bihar","historic-location":"Magadha",images:[{src:"/images/nalanda-1.jpeg",attribution:"Photo by Marc",link:"https://www.flickr.com/photos/marc-p-1970/"},{src:"/images/nalanda-2.jpeg",attribution:"Photo by Marc",link:"https://www.flickr.com/photos/marc-p-1970/"},{src:"/images/nalanda-3.jpeg",attribution:"Photo by Prita",link:"https://www.flickr.com/photos/prita1023/"},{src:"/images/nalanda-4.jpeg",attribution:"Photo by Prita",link:"https://www.flickr.com/photos/prita1023/"},{src:"/images/nalanda-5.jpeg",attribution:"Photo by Prita",link:"https://www.flickr.com/photos/prita1023/"}],coordinates:[85.4944,25.155],timeStart:"427",timeEnd:"1197",description:"Nalanda Mahavihara, a renowned center of education and learning in ancient India, played a pivotal role in the development and institutionalization of the early Indian education system. Distinct from the Gurukula system, Nalanda Mahavihara represented an organized center for higher education and was part of a network of significant Mahaviharas, including Vikramashila, Odantapuri, and Valabhi. Situated in Magadha, between the capitals of Rajgriha and Pataliputra, Nalanda's favorable location and the fertile surrounding areas facilitated its growth as an international learning center. /n  Nalanda Mahavihara thrived for nearly a millennium and became the epicenter for Buddhist philosophy and religion, particularly Mahayana Buddhism. It served as a melting pot for diverse beliefs, traditions, and dogmas, fostering intellectual exchange and transformation. The monastery attracted scholars and students from various regions, contributing to the spread of Buddhist thought across North India, Kashmir, Java, Nepal, Tibet, and even Sri Lanka. /n    The institution's educational philosophy aimed at all-around development, encompassing intellectual, moral, spiritual, and aesthetic dimensions. The admission process was rigorous, with aspirants facing interviews conducted by gatekeepers who were experts in religious controversies. Nalanda's curriculum covered a broad spectrum, including grammar, lexicography, arts, medicine, logic, and philosophy. The study of Mahayana Buddhism, Vedas, Yogasastra, and other texts was integral to the educational experience. /n Nalanda Mahavihara excelled in imparting practical knowledge and promoting discussions, debates, and seminars. The institution's academic calendar was tight, keeping both teachers and students occupied throughout the year. The monastic university became a symbol of the harmonious blend of philosophy and religion, contributing to the codification of Buddhist thoughts and their relevance to contemporary times. The quest for knowledge extended beyond traditional subjects to include astronomy, medicine, and Tntric Mahayana Buddhism. /n The decline of Nalanda Mahavihara, possibly influenced by changes in social, religious, and political conditions, saw the destruction of parts of the institution during the Muslim invasions in the 12th century. Nevertheless, Nalanda's legacy endures, representing a transformative period in the history of Indian education, where it served as the depository of learning and a fountainhead of Buddhist philosophy that influenced scholars across Buddhist lands. /n",attribution:"https://www.researchgate.net/publication/307908326_The_Ancient_Nalanda_Mahavihara_The_Beginning_of_Institutional_Education",selected:!1},{selected:!1,id:"2",name:"Vikramashila",bengaliName:"","historic-location":"Magadha",location:"Bhagalpur, Bihar",period:"Pala Empire",images:[{src:"/images/vikramshila-1.jpeg",attribution:"Photo by Sekitar",link:"https://www.flickr.com/photos/sekitar/"},{src:"/images/vikramshila-3.jpeg",attribution:"Photo by Ikoonan",link:"https://www.flickr.com/photos/ikoonan/"},{src:"/images/vikramshila-4.jpeg",attribution:"Photo by Rakesh Ranjan",link:" https://www.flickr.com/photos/travinfoindia/"},{src:"/images/vikramshila-5.jpeg",attribution:"Photo by Rakesh Ranjan",link:" https://www.flickr.com/photos/travinfoindia/"}],coordinates:[87.2847,25.3215],timeStart:"783",timeEnd:"1193",description:"Situated on the banks of the Ganges in the north of Magadha, Vikramashila, founded by King Dharmapala in the eighth or ninth centuries, played a crucial role in the development of Tantrayana Buddhism. Established specifically for the study of Tantrayana, the monastery housed 108 temples, including a central one with a Mahabodhi image, and attracted renowned scholars like Shantipa, Jetari, Ratnavajra, Jnarmra, and Naropa. At its zenith, Vikramashila had 160 teachers and 1,000 students, drawing learners from across North India, Kashmir, Java, Nepal, and Tibet. However, by the eleventh century, its glory waned, and the monastery faced decline and eventual destruction in the thirteenth century during the Muslim invasions. Notably, Vikramashila had connections with both Tibet and Sri Lanka, contributing to the spread of tantric Buddhism in these regions. Despite its eventual ruin, Vikramashila remains a captivating testament to the history of tantric Buddhism in India.",attribution:"https://fpmt.org/wp-content/uploads/sites/2/2001/12/Travel%20Vikramashila.pdf, https://silentpagesindia.blogspot.com/2019/03/vikramshila-lost-university.html"},{selected:!1,id:"3",name:"Paharpur Buddhist Vihara","historic-location":"Varendra",alternateName:"Somapura Mahavihara",bengaliName:" ",location:"Paharpur, Naogaon",period:"Pala Empire",images:[{src:"/images/paharpur-1.jpeg",attribution:"Photo by Tanvir Ahmed",link:"https://www.flickr.com/photos/195904854@N04/"},{src:"/images/paharpur-2.jpeg",attribution:"Photo by Anowarul Haq",link:"https://www.flickr.com/photos/anowarulhaq/"},{src:"/images/paharpur-3.jpeg",attribution:"Photo by Ayse Topbas",link:"https://www.flickr.com/photos/a2portfolio/"},{src:"/images/paharpur-4.jpeg",attribution:"Photo by Anowarul Haq",link:"https://www.flickr.com/photos/anowarulhaq/"}],coordinates:[88.9742,25.0256],timeStart:"600",timeEnd:"1100",description:"Situated in Paharpur, Bangladesh, Somapura Mahavihara stands as a renowned Buddhist monastery from the Early Medieval period. Constructed by Pala king Dharmapala, its monumental remains, now a conserved structure, reveal a layered history. Despite being initially considered a single monastery, recent findings challenge this notion. /n Studies refute the idea of Somapura Mahavihara as a single entity. Evidence suggests the presence of a vihara and viharika in proximity, as mentioned in the Indian Museum Copper Plate of Dharmapala. /n Monastic establishments in South Asia, including Bengal, played multifaceted roles in social, economic, and political spheres. Buddhist monasteries weren't secluded but served as cores around which settlements formed and transformed, contradicting the belief in their remote locations for meditative purposes. /n Somapura Mahavihara exhibited a continuous history marked by transformations influenced by floods, river shifts, and societal changes, challenging the narrative of abandonment due to a singular catastrophic event. Contrary to the belief that the Turks destroyed the monastery, archaeological data suggests it faced destruction before their arrival. The establishment continued in a declining state post-13th century CE, showcasing resilience amid challenges.",attribution:"Sen, Swadhin. (2018). 5.12 Paharpur."},{selected:!1,id:"4",name:"Shalban Bihar",location:"Shalbon, Cumilla",alternateName:"",bengaliName:" ",images:[{src:"/images/shalbon-bihar-1.jpeg",attribution:"Photo by Zahidul Haque Sabit",link:"https://www.flickr.com/photos/69003822@N06/"},{src:"/images/shalbon-bihar-2.jpeg",attribution:"Photo by Zahidul Haque Sabit",link:"https://www.flickr.com/photos/69003822@N06/"},{src:"/images/shalbon-bihar-3.jpeg",attribution:"Photo by Zahidul Haque Sabit",link:"https://www.flickr.com/photos/69003822@N06/"},{src:"/images/shalbon-bihar-4.jpeg",attribution:"Photo by Zahidul Haque Sabit",link:"https://www.flickr.com/photos/69003822@N06/"},{src:"/images/shalbon-bihar-5.jpeg",attribution:"Photo by Zahidul Haque Sabit",link:"https://www.flickr.com/photos/69003822@N06/"}],coordinates:[91.1372098,23.426234],period:"Pala Empire",timeStart:"600",timeEnd:"1100",description:`Shalbon Vihara, situated in Mainamati, Comilla, Bangladesh, is a seminal Buddhist Vihara erected in the late 8th century during the reign of King Shri Bhavadeva. Originally denoted as Bhavadev Bihar, the nomenclature transitioned to Shalbon, inspired by the adjacent Shorea robusta trees. 
 Recognized as Salban Vihara today, the site exemplifies the evolution of Buddhist temple architecture. Initially named Bhava Deva Mahavihara, the complex, surrounded by 115 cells, features a central cruciform temple within a capacious courtyard. 
 Functioning as a hub for contemplative practices and theological scholarship, Shalbon Vihara hosted monks and scholars. Archaeological findings include seven copper-plate inscriptions, around 350 golden artifacts, and diverse sculptural specimens spanning the 7th to the 13th century AD. 
 The morphological changes in Shalbon Vihara's central shrine and configuration reflect architectural shifts in traditional Buddhist Stupa designs. As an archaeological treasure trove, Shalbon Vihara offers profound insights into the cultural and architectural legacy of its historical milieu.`,attribution:"https://www.researchgate.net/publication/327797189_Shalban_ViharaComillaMaynamatiBanglades"},{selected:!1,id:"5",name:"Jagaddala Mahavihara",location:"Dhamoirhat, Naogaon",bengaliName:" ",images:[{src:"/images/jagaddala-1.jpeg",attribution:"Photo by Nayeem, Julfiker Ahmed",link:"https://www.facebook.com/newarbuddhism/posts/jagaddala-mahavihara-bangladeshjagdal-or-jagaddala-mahavihara-fl-late-11th-centu/3355992194626527/"},{src:"/images/jagaddala-2.jpeg",attribution:"Photo by Nayeem, Julfiker Ahmed",link:"https://www.facebook.com/newarbuddhism/posts/jagaddala-mahavihara-bangladeshjagdal-or-jagaddala-mahavihara-fl-late-11th-centu/3355992194626527/"}],description:"Jagdal or Jagaddala Mahavihara (fl. late 11th century - mid-12th century) was founded by the later kings of the Pla dynasty, probably Ramapala. It was specialized in Vajrayana Buddhism. A large number of texts that would later appear in the Kanjur and Tengjur were known to have been composed or copied at Jagadala. It is likely that the earliest dated anthology of Sanskrit verse, the Subhitaratnakoa,  was compiled by Vidykara at Jaggadala toward the end of the 11th century or the beginning of the 12th.",coordinates:[88.8858,25.1555],timeStart:"1070",timeEnd:"1150",attribution:"https://www.facebook.com/newarbuddhism/posts/jagaddala-mahavihara-bangladeshjagdal-or-jagaddala-mahavihara-fl-late-11th-centu/3355992194626527/"},{selected:!1,id:"6",name:"Holud Vihara",location:"Pahapur, Naogaon",alternateName:"",bengaliName:" ",period:"Pala Empire",images:[{src:"/images/halud-bihar-1.png",attribution:"unknown",link:""}],coordinates:[88.9714,24.9324],timeStart:"600",timeEnd:"1100",description:"Halud Vihara, a renowned Buddhist monastery in Naogaon, Bangladesh, dates back to the early medieval period. Associated with Raja Haladhara and Sonavanas, it holds ancient artifacts like terracotta plaques, ornamental bricks, and metal images, reflecting the spread of Buddhism in the region between the 6th and 4th centuries.",attribution:"https://sdg360.net/assets/documents/halud-vihara-by-sania-rahman.docx.pdf"},{selected:!1,id:"7",name:"Shitakot Vihara",location:"Nawabganj, Dinajpur",alternateName:"",bengaliName:" ",period:"Pala Empire",images:[{src:"/images/shitakot-bihar-1.jpeg",attribution:"unknown",link:"https://worldheritagebd.blogspot.com/2015/05/sitakot-vihara.html"}],coordinates:[90.1619,23.6612],timeStart:"600",timeEnd:"1100",description:`Sitakot Vihara, situated in Nawabganj Upazila under Dinajpur district, stands as a significant Buddhist monastery in Bangladesh. Built on a square plan with impressive dimensions (65.23m east-west and 64.11m north-south), the vihara features a gateway complex at the center of the northern wing. 
 The monastery comprises four wings with a total of 41 cells, each almost identical in size (3.66m by 3.35m). Niches in the back and partition walls adorn these cells, showcasing a well-planned inner verandah (2.59m wide) that encircles the entire structure. The central cells in the east, west, and south wings, distinguished by their larger size, likely housed votive images on substantial brick platforms. 
 Two significant bronze images discovered at Sitakot Vihara, depicting Bodhisattva Padmapani and Bodhisattva Manjushri, date back to the seventh-eighth century AD. Although the monastery's exact age remains undetermined, its structural elements align with those of the Bhasu vihara, emphasizing its historical and cultural importance in the region.`,attribution:"https://worldheritagebd.blogspot.com/2015/05/sitakot-vihara.html"}];var dH=g.createContext({});const cb=dH;function Be(){return Be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Be.apply(this,arguments)}function PI(t){if(Array.isArray(t))return t}function hH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function S0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ub(t,e){if(t){if(typeof t=="string")return S0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S0(t,e)}}function AI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X(t,e){return PI(t)||hH(t,e)||ub(t,e)||AI()}function gH(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vn(t,e){if(t==null)return{};var n=gH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var II={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(II);var pH=II.exports;const Ee=Lu(pH);function Vn(t,e){mH(t)&&(t="100%");var n=vH(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Xf(t){return Math.min(1,Math.max(0,t))}function mH(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function vH(t){return typeof t=="string"&&t.indexOf("%")!==-1}function MI(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Kf(t){return t<=1?"".concat(Number(t)*100,"%"):t}function xs(t){return t.length===1?"0"+t:String(t)}function yH(t,e,n){return{r:Vn(t,255)*255,g:Vn(e,255)*255,b:Vn(n,255)*255}}function kE(t,e,n){t=Vn(t,255),e=Vn(e,255),n=Vn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function ym(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bH(t,e,n){var r,i,o;if(t=Vn(t,360),e=Vn(e,100),n=Vn(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=ym(a,s,t+1/3),i=ym(a,s,t),o=ym(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function E0(t,e,n){t=Vn(t,255),e=Vn(e,255),n=Vn(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function _H(t,e,n){t=Vn(t,360)*6,e=Vn(e,100),n=Vn(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],f=[o,o,a,n,n,s][l];return{r:c*255,g:u*255,b:f*255}}function x0(t,e,n,r){var i=[xs(Math.round(t).toString(16)),xs(Math.round(e).toString(16)),xs(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function wH(t,e,n,r,i){var o=[xs(Math.round(t).toString(16)),xs(Math.round(e).toString(16)),xs(Math.round(n).toString(16)),xs(SH(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function SH(t){return Math.round(parseFloat(t)*255).toString(16)}function FE(t){return Dr(t)/255}function Dr(t){return parseInt(t,16)}function EH(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var C0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ta(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=TH(t)),typeof t=="object"&&(Yi(t.r)&&Yi(t.g)&&Yi(t.b)?(e=yH(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Yi(t.h)&&Yi(t.s)&&Yi(t.v)?(r=Kf(t.s),i=Kf(t.v),e=_H(t.h,r,i),s=!0,a="hsv"):Yi(t.h)&&Yi(t.s)&&Yi(t.l)&&(r=Kf(t.s),o=Kf(t.l),e=bH(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=MI(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var xH="[-\\+]?\\d+%?",CH="[-\\+]?\\d*\\.\\d+%?",Vo="(?:".concat(CH,")|(?:").concat(xH,")"),bm="[\\s|\\(]+(".concat(Vo,")[,|\\s]+(").concat(Vo,")[,|\\s]+(").concat(Vo,")\\s*\\)?"),_m="[\\s|\\(]+(".concat(Vo,")[,|\\s]+(").concat(Vo,")[,|\\s]+(").concat(Vo,")[,|\\s]+(").concat(Vo,")\\s*\\)?"),gi={CSS_UNIT:new RegExp(Vo),rgb:new RegExp("rgb"+bm),rgba:new RegExp("rgba"+_m),hsl:new RegExp("hsl"+bm),hsla:new RegExp("hsla"+_m),hsv:new RegExp("hsv"+bm),hsva:new RegExp("hsva"+_m),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function TH(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(C0[t])t=C0[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=gi.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=gi.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=gi.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=gi.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=gi.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=gi.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=gi.hex8.exec(t),n?{r:Dr(n[1]),g:Dr(n[2]),b:Dr(n[3]),a:FE(n[4]),format:e?"name":"hex8"}:(n=gi.hex6.exec(t),n?{r:Dr(n[1]),g:Dr(n[2]),b:Dr(n[3]),format:e?"name":"hex"}:(n=gi.hex4.exec(t),n?{r:Dr(n[1]+n[1]),g:Dr(n[2]+n[2]),b:Dr(n[3]+n[3]),a:FE(n[4]+n[4]),format:e?"name":"hex8"}:(n=gi.hex3.exec(t),n?{r:Dr(n[1]+n[1]),g:Dr(n[2]+n[2]),b:Dr(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Yi(t){return!!gi.CSS_UNIT.exec(String(t))}var jn=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=EH(e)),this.originalInput=e;var i=Ta(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=MI(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=E0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=E0(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=kE(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=kE(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),x0(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),wH(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Vn(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Vn(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+x0(this.r,this.g,this.b,!1),n=0,r=Object.entries(C0);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Xf(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Xf(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Xf(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Xf(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Yf=2,DE=.16,PH=.05,AH=.05,IH=.15,OI=5,LI=4,MH=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function zE(t){var e=t.r,n=t.g,r=t.b,i=E0(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Zf(t){var e=t.r,n=t.g,r=t.b;return"#".concat(x0(e,n,r,!1))}function OH(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function BE(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Yf*e:Math.round(t.h)+Yf*e:r=n?Math.round(t.h)+Yf*e:Math.round(t.h)-Yf*e,r<0?r+=360:r>=360&&(r-=360),r}function jE(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-DE*e:e===LI?r=t.s+DE:r=t.s+PH*e,r>1&&(r=1),n&&e===OI&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function $E(t,e,n){var r;return n?r=t.v+AH*e:r=t.v-IH*e,r>1&&(r=1),Number(r.toFixed(2))}function Ys(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=Ta(t),i=OI;i>0;i-=1){var o=zE(r),s=Zf(Ta({h:BE(o,i,!0),s:jE(o,i,!0),v:$E(o,i,!0)}));n.push(s)}n.push(Zf(r));for(var a=1;a<=LI;a+=1){var l=zE(r),c=Zf(Ta({h:BE(l,a),s:jE(l,a),v:$E(l,a)}));n.push(c)}return e.theme==="dark"?MH.map(function(u){var f=u.index,d=u.opacity,h=Zf(OH(Ta(e.backgroundColor||"#141414"),Ta(n[f]),d*100));return h}):n}var wm={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Fd={},Sm={};Object.keys(wm).forEach(function(t){Fd[t]=Ys(wm[t]),Fd[t].primary=Fd[t][5],Sm[t]=Ys(wm[t],{theme:"dark",backgroundColor:"#141414"}),Sm[t].primary=Sm[t][5]});var LH=Fd.blue;function VE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(n),!0).forEach(function(r){V(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function or(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function T0(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var UE="data-rc-order",HE="data-rc-priority",RH="rc-util-key",P0=new Map;function RI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):RH}function Tg(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function NH(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function NI(t){return Array.from((P0.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function kI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!or())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,s=NH(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(UE,s),a&&o&&l.setAttribute(HE,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var c=Tg(e),u=c.firstChild;if(r){if(a){var f=NI(c).filter(function(d){if(!["prepend","prependQueue"].includes(d.getAttribute(UE)))return!1;var h=Number(d.getAttribute(HE)||0);return o>=h});if(f.length)return c.insertBefore(l,f[f.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function FI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Tg(e);return NI(n).find(function(r){return r.getAttribute(RI(e))===t})}function wu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=FI(t,e);if(n){var r=Tg(e);r.removeChild(n)}}function kH(t,e){var n=P0.get(t);if(!n||!T0(document,n)){var r=kI("",e),i=r.parentNode;P0.set(t,i),t.removeChild(r)}}function as(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Tg(n);kH(r,n);var i=FI(e,n);if(i){var o,s;if((o=n.csp)!==null&&o!==void 0&&o.nonce&&i.nonce!==((s=n.csp)===null||s===void 0?void 0:s.nonce)){var a;i.nonce=(a=n.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==t&&(i.innerHTML=t),i}var l=kI(t,n);return l.setAttribute(RI(n),e),l}function DI(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function FH(t){return DI(t)instanceof ShadowRoot}function Fh(t){return FH(t)?DI(t):null}var A0={},DH=function(e){};function zH(t,e){}function BH(t,e){}function jH(){A0={}}function zI(t,e,n){!e&&!A0[n]&&(t(!1,n),A0[n]=!0)}function fr(t,e){zI(zH,t,e)}function $H(t,e){zI(BH,t,e)}fr.preMessage=DH;fr.resetWarned=jH;fr.noteOnce=$H;function VH(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function UH(t,e){fr(t,"[@ant-design/icons] ".concat(e))}function WE(t){return at(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(at(t.icon)==="object"||typeof t.icon=="function")}function GE(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[VH(n)]=r}return e},{})}function I0(t,e,n){return n?de.createElement(t.tag,$($({key:e},GE(t.attrs)),n),(t.children||[]).map(function(r,i){return I0(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):de.createElement(t.tag,$({key:e},GE(t.attrs)),(t.children||[]).map(function(r,i){return I0(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function BI(t){return Ys(t)[0]}function jI(t){return t?Array.isArray(t)?t:[t]:[]}var HH=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,WH=function(e){var n=g.useContext(cb),r=n.csp,i=n.prefixCls,o=HH;i&&(o=o.replace(/anticon/g,i)),g.useEffect(function(){var s=e.current,a=Fh(s);as(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},GH=["icon","className","onClick","style","primaryColor","secondaryColor"],kc={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function qH(t){var e=t.primaryColor,n=t.secondaryColor;kc.primaryColor=e,kc.secondaryColor=n||BI(e),kc.calculated=!!n}function XH(){return $({},kc)}var Pg=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=vn(e,GH),c=g.useRef(),u=kc;if(s&&(u={primaryColor:s,secondaryColor:a||BI(s)}),WH(c),UH(WE(n),"icon should be icon definiton, but got ".concat(n)),!WE(n))return null;var f=n;return f&&typeof f.icon=="function"&&(f=$($({},f),{},{icon:f.icon(u.primaryColor,u.secondaryColor)})),I0(f.icon,"svg-".concat(f.name),$($({className:r,onClick:i,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Pg.displayName="IconReact";Pg.getTwoToneColors=XH;Pg.setTwoToneColors=qH;const fb=Pg;function $I(t){var e=jI(t),n=X(e,2),r=n[0],i=n[1];return fb.setTwoToneColors({primaryColor:r,secondaryColor:i})}function KH(){var t=fb.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var YH=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];$I(LH.primary);var Ag=g.forwardRef(function(t,e){var n,r=t.className,i=t.icon,o=t.spin,s=t.rotate,a=t.tabIndex,l=t.onClick,c=t.twoToneColor,u=vn(t,YH),f=g.useContext(cb),d=f.prefixCls,h=d===void 0?"anticon":d,p=f.rootClassName,v=Ee(p,h,(n={},V(n,"".concat(h,"-").concat(i.name),!!i.name),V(n,"".concat(h,"-spin"),!!o||i.name==="loading"),n),r),_=a;_===void 0&&l&&(_=-1);var m=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,y=jI(c),b=X(y,2),w=b[0],S=b[1];return g.createElement("span",Be({role:"img","aria-label":i.name},u,{ref:e,tabIndex:_,onClick:l,className:v}),g.createElement(fb,{icon:i,primaryColor:w,secondaryColor:S,style:m}))});Ag.displayName="AntdIcon";Ag.getTwoToneColor=KH;Ag.setTwoToneColor=$I;const Pr=Ag;var ZH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const QH=ZH;var JH=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:QH}))};const eW=g.forwardRef(JH);var tW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const nW=tW;var rW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:nW}))};const iW=g.forwardRef(rW);var oW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const sW=oW;var aW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:sW}))};const lW=g.forwardRef(aW);var cW={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const uW=cW;var fW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:uW}))};const VI=g.forwardRef(fW);var dW={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const hW=dW;var gW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:hW}))};const Ig=g.forwardRef(gW);var pW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const mW=pW;var vW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:mW}))};const yW=g.forwardRef(vW);var bW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const _W=bW;var wW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:_W}))};const UI=g.forwardRef(wW);var SW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 00-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]},name:"home",theme:"filled"};const EW=SW;var xW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:EW}))};const CW=g.forwardRef(xW);var TW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const PW=TW;var AW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:PW}))};const IW=g.forwardRef(AW);var MW={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const OW=MW;var LW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:OW}))};const HI=g.forwardRef(LW);var RW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"};const NW=RW;var kW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:NW}))};const FW=g.forwardRef(kW);var DW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm144.1 454.9L437.7 677.8a8.02 8.02 0 01-12.7-6.5V353.7a8 8 0 0112.7-6.5L656.1 506a7.9 7.9 0 010 12.9z"}}]},name:"play-circle",theme:"filled"};const zW=DW;var BW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:zW}))};const jW=g.forwardRef(BW);var $W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"};const VW=$W;var UW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:VW}))};const HW=g.forwardRef(UW);var WW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const GW=WW;var qW=function(e,n){return g.createElement(Pr,Be({},e,{ref:n,icon:GW}))};const XW=g.forwardRef(qW);var WI={exports:{}},Ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=Symbol.for("react.element"),hb=Symbol.for("react.portal"),Mg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Lg=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Ng=Symbol.for("react.context"),KW=Symbol.for("react.server_context"),kg=Symbol.for("react.forward_ref"),Fg=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),zg=Symbol.for("react.memo"),Bg=Symbol.for("react.lazy"),YW=Symbol.for("react.offscreen"),GI;GI=Symbol.for("react.module.reference");function fi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case db:switch(t=t.type,t){case Mg:case Lg:case Og:case Fg:case Dg:return t;default:switch(t=t&&t.$$typeof,t){case KW:case Ng:case kg:case Bg:case zg:case Rg:return t;default:return e}}case hb:return e}}}Ct.ContextConsumer=Ng;Ct.ContextProvider=Rg;Ct.Element=db;Ct.ForwardRef=kg;Ct.Fragment=Mg;Ct.Lazy=Bg;Ct.Memo=zg;Ct.Portal=hb;Ct.Profiler=Lg;Ct.StrictMode=Og;Ct.Suspense=Fg;Ct.SuspenseList=Dg;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(t){return fi(t)===Ng};Ct.isContextProvider=function(t){return fi(t)===Rg};Ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===db};Ct.isForwardRef=function(t){return fi(t)===kg};Ct.isFragment=function(t){return fi(t)===Mg};Ct.isLazy=function(t){return fi(t)===Bg};Ct.isMemo=function(t){return fi(t)===zg};Ct.isPortal=function(t){return fi(t)===hb};Ct.isProfiler=function(t){return fi(t)===Lg};Ct.isStrictMode=function(t){return fi(t)===Og};Ct.isSuspense=function(t){return fi(t)===Fg};Ct.isSuspenseList=function(t){return fi(t)===Dg};Ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mg||t===Lg||t===Og||t===Fg||t===Dg||t===YW||typeof t=="object"&&t!==null&&(t.$$typeof===Bg||t.$$typeof===zg||t.$$typeof===Rg||t.$$typeof===Ng||t.$$typeof===kg||t.$$typeof===GI||t.getModuleId!==void 0)};Ct.typeOf=fi;WI.exports=Ct;var qI=WI.exports;function jg(t,e,n){var r=g.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}function gb(t,e){typeof t=="function"?t(e):at(t)==="object"&&t&&"current"in t&&(t.current=e)}function Ku(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(o){gb(o,i)})}}function Dl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return jg(function(){return Ku.apply(void 0,e)},e,function(r,i){return r.length!==i.length||r.every(function(o,s){return o!==i[s]})})}function Yu(t){var e,n,r=qI.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!((e=r.prototype)!==null&&e!==void 0&&e.render)||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render))}var wr=function(){return wr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},wr.apply(this,arguments)};function Dh(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Gt="-ms-",Fc="-moz-",bt="-webkit-",XI="comm",$g="rule",pb="decl",ZW="@import",KI="@keyframes",QW="@layer",JW=Math.abs,mb=String.fromCharCode,M0=Object.assign;function e7(t,e){return Ln(t,0)^45?(((e<<2^Ln(t,0))<<2^Ln(t,1))<<2^Ln(t,2))<<2^Ln(t,3):0}function YI(t){return t.trim()}function eo(t,e){return(t=e.exec(t))?t[0]:t}function Qe(t,e,n){return t.replace(e,n)}function Dd(t,e){return t.indexOf(e)}function Ln(t,e){return t.charCodeAt(e)|0}function bl(t,e,n){return t.slice(e,n)}function ji(t){return t.length}function ZI(t){return t.length}function yc(t,e){return e.push(t),t}function t7(t,e){return t.map(e).join("")}function qE(t,e){return t.filter(function(n){return!eo(n,e)})}var Vg=1,_l=1,QI=0,ci=0,_n=0,zl="";function Ug(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Vg,column:_l,length:s,return:"",siblings:a}}function Lo(t,e){return M0(Ug("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ya(t){for(;t.root;)t=Lo(t.root,{children:[t]});yc(t,t.siblings)}function n7(){return _n}function r7(){return _n=ci>0?Ln(zl,--ci):0,_l--,_n===10&&(_l=1,Vg--),_n}function Pi(){return _n=ci<QI?Ln(zl,ci++):0,_l++,_n===10&&(_l=1,Vg++),_n}function Rs(){return Ln(zl,ci)}function zd(){return ci}function Hg(t,e){return bl(zl,t,e)}function O0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function i7(t){return Vg=_l=1,QI=ji(zl=t),ci=0,[]}function o7(t){return zl="",t}function Em(t){return YI(Hg(ci-1,L0(t===91?t+2:t===40?t+1:t)))}function s7(t){for(;(_n=Rs())&&_n<33;)Pi();return O0(t)>2||O0(_n)>3?"":" "}function a7(t,e){for(;--e&&Pi()&&!(_n<48||_n>102||_n>57&&_n<65||_n>70&&_n<97););return Hg(t,zd()+(e<6&&Rs()==32&&Pi()==32))}function L0(t){for(;Pi();)switch(_n){case t:return ci;case 34:case 39:t!==34&&t!==39&&L0(_n);break;case 40:t===41&&L0(t);break;case 92:Pi();break}return ci}function l7(t,e){for(;Pi()&&t+_n!==47+10;)if(t+_n===42+42&&Rs()===47)break;return"/*"+Hg(e,ci-1)+"*"+mb(t===47?t:Pi())}function c7(t){for(;!O0(Rs());)Pi();return Hg(t,ci)}function u7(t){return o7(Bd("",null,null,null,[""],t=i7(t),0,[0],t))}function Bd(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,d=0,h=0,p=0,v=1,_=1,m=1,y=0,b="",w=i,S=o,x=r,E=b;_;)switch(p=y,y=Pi()){case 40:if(p!=108&&Ln(E,f-1)==58){Dd(E+=Qe(Em(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:E+=Em(y);break;case 9:case 10:case 13:case 32:E+=s7(p);break;case 92:E+=a7(zd()-1,7);continue;case 47:switch(Rs()){case 42:case 47:yc(f7(l7(Pi(),zd()),e,n,l),l);break;default:E+="/"}break;case 123*v:a[c++]=ji(E)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+u:m==-1&&(E=Qe(E,/\f/g,"")),h>0&&ji(E)-f&&yc(h>32?KE(E+";",r,n,f-1,l):KE(Qe(E," ","")+";",r,n,f-2,l),l);break;case 59:E+=";";default:if(yc(x=XE(E,e,n,c,u,i,a,b,w=[],S=[],f,o),o),y===123)if(u===0)Bd(E,e,x,x,w,o,f,a,S);else switch(d===99&&Ln(E,3)===110?100:d){case 100:case 108:case 109:case 115:Bd(t,x,x,r&&yc(XE(t,x,x,0,0,i,a,b,i,w=[],f,S),S),i,S,f,a,r?w:S);break;default:Bd(E,x,x,x,[""],S,0,a,S)}}c=u=h=0,v=m=1,b=E="",f=s;break;case 58:f=1+ji(E),h=p;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&r7()==125)continue}switch(E+=mb(y),y*v){case 38:m=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(ji(E)-1)*m,m=1;break;case 64:Rs()===45&&(E+=Em(Pi())),d=Rs(),u=f=ji(b=E+=c7(zd())),y++;break;case 45:p===45&&ji(E)==2&&(v=0)}}return o}function XE(t,e,n,r,i,o,s,a,l,c,u,f){for(var d=i-1,h=i===0?o:[""],p=ZI(h),v=0,_=0,m=0;v<r;++v)for(var y=0,b=bl(t,d+1,d=JW(_=s[v])),w=t;y<p;++y)(w=YI(_>0?h[y]+" "+b:Qe(b,/&\f/g,h[y])))&&(l[m++]=w);return Ug(t,e,n,i===0?$g:a,l,c,u,f)}function f7(t,e,n,r){return Ug(t,e,n,XI,mb(n7()),bl(t,2,-2),0,r)}function KE(t,e,n,r,i){return Ug(t,e,n,pb,bl(t,0,r),bl(t,r+1,-1),r,i)}function JI(t,e,n){switch(e7(t,e)){case 5103:return bt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+t+t;case 4789:return Fc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+t+Fc+t+Gt+t+t;case 5936:switch(Ln(t,e+11)){case 114:return bt+t+Gt+Qe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return bt+t+Gt+Qe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return bt+t+Gt+Qe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return bt+t+Gt+t+t;case 6165:return bt+t+Gt+"flex-"+t+t;case 5187:return bt+t+Qe(t,/(\w+).+(:[^]+)/,bt+"box-$1$2"+Gt+"flex-$1$2")+t;case 5443:return bt+t+Gt+"flex-item-"+Qe(t,/flex-|-self/g,"")+(eo(t,/flex-|baseline/)?"":Gt+"grid-row-"+Qe(t,/flex-|-self/g,""))+t;case 4675:return bt+t+Gt+"flex-line-pack"+Qe(t,/align-content|flex-|-self/g,"")+t;case 5548:return bt+t+Gt+Qe(t,"shrink","negative")+t;case 5292:return bt+t+Gt+Qe(t,"basis","preferred-size")+t;case 6060:return bt+"box-"+Qe(t,"-grow","")+bt+t+Gt+Qe(t,"grow","positive")+t;case 4554:return bt+Qe(t,/([^-])(transform)/g,"$1"+bt+"$2")+t;case 6187:return Qe(Qe(Qe(t,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),t,"")+t;case 5495:case 3959:return Qe(t,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return Qe(Qe(t,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+Gt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+t+t;case 4200:if(!eo(t,/flex-|baseline/))return Gt+"grid-column-align"+bl(t,e)+t;break;case 2592:case 3360:return Gt+Qe(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,eo(r.props,/grid-\w+-end/)})?~Dd(t+(n=n[e].value),"span")?t:Gt+Qe(t,"-start","")+t+Gt+"grid-row-span:"+(~Dd(n,"span")?eo(n,/\d+/):+eo(n,/\d+/)-+eo(t,/\d+/))+";":Gt+Qe(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return eo(r.props,/grid-\w+-start/)})?t:Gt+Qe(Qe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Qe(t,/(.+)-inline(.+)/,bt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ji(t)-1-e>6)switch(Ln(t,e+1)){case 109:if(Ln(t,e+4)!==45)break;case 102:return Qe(t,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+Fc+(Ln(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Dd(t,"stretch")?JI(Qe(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Qe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,s,a,l,c){return Gt+i+":"+o+c+(s?Gt+i+"-span:"+(a?l:+l-+o)+c:"")+t});case 4949:if(Ln(t,e+6)===121)return Qe(t,":",":"+bt)+t;break;case 6444:switch(Ln(t,Ln(t,14)===45?18:11)){case 120:return Qe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bt+(Ln(t,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+Gt+"$2box$3")+t;case 100:return Qe(t,":",":"+Gt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Qe(t,"scroll-","scroll-snap-")+t}return t}function zh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function d7(t,e,n,r){switch(t.type){case QW:if(t.children.length)break;case ZW:case pb:return t.return=t.return||t.value;case XI:return"";case KI:return t.return=t.value+"{"+zh(t.children,r)+"}";case $g:if(!ji(t.value=t.props.join(",")))return""}return ji(n=zh(t.children,r))?t.return=t.value+"{"+n+"}":""}function h7(t){var e=ZI(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function g7(t){return function(e){e.root||(e=e.return)&&t(e)}}function p7(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case pb:t.return=JI(t.value,t.length,n);return;case KI:return zh([Lo(t,{value:Qe(t.value,"@","@"+bt)})],r);case $g:if(t.length)return t7(n=t.props,function(i){switch(eo(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ya(Lo(t,{props:[Qe(i,/:(read-\w+)/,":"+Fc+"$1")]})),ya(Lo(t,{props:[i]})),M0(t,{props:qE(n,r)});break;case"::placeholder":ya(Lo(t,{props:[Qe(i,/:(plac\w+)/,":"+bt+"input-$1")]})),ya(Lo(t,{props:[Qe(i,/:(plac\w+)/,":"+Fc+"$1")]})),ya(Lo(t,{props:[Qe(i,/:(plac\w+)/,Gt+"input-$1")]})),ya(Lo(t,{props:[i]})),M0(t,{props:qE(n,r)});break}return""})}}var m7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wl=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",vb=typeof window<"u"&&"HTMLElement"in window,v7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),Wg=Object.freeze([]),Sl=Object.freeze({});function y7(t,e,n){return n===void 0&&(n=Sl),t.theme!==n.theme&&t.theme||e||n.theme}var eM=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),b7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_7=/(^-|-$)/g;function YE(t){return t.replace(b7,"-").replace(_7,"")}var w7=/(a)(d)/gi,ZE=function(t){return String.fromCharCode(t+(t>25?39:97))};function R0(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=ZE(e%52)+n;return(ZE(e%52)+n).replace(w7,"$1-$2")}var xm,Ua=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},tM=function(t){return Ua(5381,t)};function S7(t){return R0(tM(t)>>>0)}function E7(t){return t.displayName||t.name||"Component"}function Cm(t){return typeof t=="string"&&!0}var nM=typeof Symbol=="function"&&Symbol.for,rM=nM?Symbol.for("react.memo"):60115,x7=nM?Symbol.for("react.forward_ref"):60112,C7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},T7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},P7=((xm={})[x7]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xm[rM]=iM,xm);function QE(t){return("type"in(e=t)&&e.type.$$typeof)===rM?iM:"$$typeof"in t?P7[t.$$typeof]:C7;var e}var A7=Object.defineProperty,I7=Object.getOwnPropertyNames,JE=Object.getOwnPropertySymbols,M7=Object.getOwnPropertyDescriptor,O7=Object.getPrototypeOf,ex=Object.prototype;function oM(t,e,n){if(typeof e!="string"){if(ex){var r=O7(e);r&&r!==ex&&oM(t,r,n)}var i=I7(e);JE&&(i=i.concat(JE(e)));for(var o=QE(t),s=QE(e),a=0;a<i.length;++a){var l=i[a];if(!(l in T7||n&&n[l]||s&&l in s||o&&l in o)){var c=M7(e,l);try{A7(t,l,c)}catch{}}}}return t}function El(t){return typeof t=="function"}function yb(t){return typeof t=="object"&&"styledComponentId"in t}function Cs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function tx(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function Su(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function N0(t,e,n){if(n===void 0&&(n=!1),!n&&!Su(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=N0(t[r],e[r]);else if(Su(e))for(var r in e)t[r]=N0(t[r],e[r]);return t}function bb(t,e){Object.defineProperty(t,"toString",{value:e})}function Zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var L7=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;e>=o;)if((o<<=1)<0)throw Zu(16,"".concat(e));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(e+1),l=(s=0,n.length);s<l;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r,s=i;s<o;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},t}(),jd=new Map,Bh=new Map,Tm=1,Qf=function(t){if(jd.has(t))return jd.get(t);for(;Bh.has(Tm);)Tm++;var e=Tm++;return jd.set(t,e),Bh.set(e,t),e},R7=function(t,e){jd.set(t,e),Bh.set(e,t)},N7="style[".concat(wl,"][").concat("data-styled-version",'="').concat("6.0.8",'"]'),k7=new RegExp("^".concat(wl,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),F7=function(t,e,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&t.registerName(e,r)},D7=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],o=0,s=r.length;o<s;o++){var a=r[o].trim();if(a){var l=a.match(k7);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(R7(u,c),F7(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function z7(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var sM=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(wl,"]")));return l[l.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(wl,"active"),r.setAttribute("data-styled-version","6.0.8");var s=z7();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},B7=function(){function t(e){this.element=sM(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var s=r[i];if(s.ownerNode===n)return s}throw Zu(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),j7=function(){function t(e){this.element=sM(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),$7=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),nx=vb,V7={isServer:!vb,useCSSOMInjection:!v7},aM=function(){function t(e,n,r){e===void 0&&(e=Sl),n===void 0&&(n={});var i=this;this.options=wr(wr({},V7),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&vb&&nx&&(nx=!1,function(o){for(var s=document.querySelectorAll(N7),a=0,l=s.length;a<l;a++){var c=s[a];c&&c.getAttribute(wl)!=="active"&&(D7(o,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),bb(this,function(){return function(o){for(var s=o.getTag(),a=s.length,l="",c=function(f){var d=function(m){return Bh.get(m)}(f);if(d===void 0)return"continue";var h=o.names.get(d),p=s.getGroup(f);if(h===void 0||p.length===0)return"continue";var v="".concat(wl,".g").concat(f,'[id="').concat(d,'"]'),_="";h!==void 0&&h.forEach(function(m){m.length>0&&(_+="".concat(m,","))}),l+="".concat(p).concat(v,'{content:"').concat(_,'"}').concat(`/*!sc*/
`)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Qf(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(wr(wr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new $7(i):r?new B7(i):new j7(i)}(this.options),new L7(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Qf(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Qf(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Qf(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),U7=/&/g,H7=/^\s*\/\/.*$/gm;function lM(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=lM(n.children,e)),n})}function W7(t){var e,n,r,i=t===void 0?Sl:t,o=i.options,s=o===void 0?Sl:o,a=i.plugins,l=a===void 0?Wg:a,c=function(d,h,p){return p===n||p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):d},u=l.slice();u.push(function(d){d.type===$g&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(U7,n).replace(r,c))}),s.prefix&&u.push(p7),u.push(d7);var f=function(d,h,p,v){h===void 0&&(h=""),p===void 0&&(p=""),v===void 0&&(v="&"),e=v,n=h,r=new RegExp("\\".concat(n,"\\b"),"g");var _=d.replace(H7,""),m=u7(p||h?"".concat(p," ").concat(h," { ").concat(_," }"):_);s.namespace&&(m=lM(m,s.namespace));var y=[];return zh(m,h7(u.concat(g7(function(b){return y.push(b)})))),y};return f.hash=l.length?l.reduce(function(d,h){return h.name||Zu(15),Ua(d,h.name)},5381).toString():"",f}var G7=new aM,k0=W7(),cM=de.createContext({shouldForwardProp:void 0,styleSheet:G7,stylis:k0});cM.Consumer;de.createContext(void 0);function rx(){return g.useContext(cM)}var q7=function(){function t(e,n){var r=this;this.inject=function(i,o){o===void 0&&(o=k0);var s=r.name+o.hash;i.hasNameForId(r.id,s)||i.insertRules(r.id,s,o(r.rules,s,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,bb(this,function(){throw Zu(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=k0),this.name+e.hash},t}(),X7=function(t){return t>="A"&&t<="Z"};function ix(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;X7(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var uM=function(t){return t==null||t===!1||t===""},fM=function(t){var e,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!uM(o)&&(Array.isArray(o)&&o.isCss||El(o)?r.push("".concat(ix(i),":"),o,";"):Su(o)?r.push.apply(r,Dh(Dh(["".concat(i," {")],fM(o),!1),["}"],!1)):r.push("".concat(ix(i),": ").concat((e=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in m7||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ns(t,e,n,r){if(uM(t))return[];if(yb(t))return[".".concat(t.styledComponentId)];if(El(t)){if(!El(o=t)||o.prototype&&o.prototype.isReactComponent||!e)return[t];var i=t(e);return Ns(i,e,n,r)}var o;return t instanceof q7?n?(t.inject(n,r),[t.getName(r)]):[t]:Su(t)?fM(t):Array.isArray(t)?Array.prototype.concat.apply(Wg,t.map(function(s){return Ns(s,e,n,r)})):[t.toString()]}function K7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(El(n)&&!yb(n))return!1}return!0}var Y7=tM("6.0.8"),Z7=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&K7(e),this.componentId=n,this.baseHash=Ua(Y7,n),this.baseStyle=r,aM.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Cs(i,this.staticRulesId);else{var o=tx(Ns(this.rules,e,n,r)),s=R0(Ua(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(o,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}i=Cs(i,s),this.staticRulesId=s}else{for(var l=Ua(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var f=this.rules[u];if(typeof f=="string")c+=f;else if(f){var d=tx(Ns(f,e,n,r));l=Ua(l,d+u),c+=d}}if(c){var h=R0(l>>>0);n.hasNameForId(this.componentId,h)||n.insertRules(this.componentId,h,r(c,".".concat(h),void 0,this.componentId)),i=Cs(i,h)}}return i},t}(),dM=de.createContext(void 0);dM.Consumer;var Pm={};function Q7(t,e,n){var r=yb(t),i=t,o=!Cm(t),s=e.attrs,a=s===void 0?Wg:s,l=e.componentId,c=l===void 0?function(b,w){var S=typeof b!="string"?"sc":YE(b);Pm[S]=(Pm[S]||0)+1;var x="".concat(S,"-").concat(S7("6.0.8"+S+Pm[S]));return w?"".concat(w,"-").concat(x):x}(e.displayName,e.parentComponentId):l,u=e.displayName;u===void 0&&function(b){return Cm(b)?"styled.".concat(b):"Styled(".concat(E7(b),")")}(t);var f=e.displayName&&e.componentId?"".concat(YE(e.displayName),"-").concat(e.componentId):e.componentId||c,d=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,h=e.shouldForwardProp;if(r&&i.shouldForwardProp){var p=i.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;h=function(b,w){return p(b,w)&&v(b,w)}}else h=p}var _=new Z7(n,f,r?i.componentStyle:void 0);function m(b,w){return function(S,x,E){var I=S.attrs,M=S.componentStyle,O=S.defaultProps,R=S.foldedComponentIds,D=S.styledComponentId,k=S.target,j=de.useContext(dM),G=rx(),F=S.shouldForwardProp||G.shouldForwardProp,N=function(Y,re,se){for(var ge,ae=wr(wr({},re),{className:void 0,theme:se}),J=0;J<Y.length;J+=1){var q=El(ge=Y[J])?ge(ae):ge;for(var Z in q)ae[Z]=Z==="className"?Cs(ae[Z],q[Z]):Z==="style"?wr(wr({},ae[Z]),q[Z]):q[Z]}return re.className&&(ae.className=Cs(ae.className,re.className)),ae}(I,x,y7(x,j,O)||Sl),A=N.as||k,z={};for(var B in N)N[B]===void 0||B[0]==="$"||B==="as"||B==="theme"||(B==="forwardedAs"?z.as=N.forwardedAs:F&&!F(B,A)||(z[B]=N[B]));var U=function(Y,re){var se=rx(),ge=Y.generateAndInjectStyles(re,se.styleSheet,se.stylis);return ge}(M,N),W=Cs(R,D);return U&&(W+=" "+U),N.className&&(W+=" "+N.className),z[Cm(A)&&!eM.has(A)?"class":"className"]=W,z.ref=E,g.createElement(A,z)}(y,b,w)}var y=de.forwardRef(m);return y.attrs=d,y.componentStyle=_,y.shouldForwardProp=h,y.foldedComponentIds=r?Cs(i.foldedComponentIds,i.styledComponentId):"",y.styledComponentId=f,y.target=r?i.target:t,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?function(w){for(var S=[],x=1;x<arguments.length;x++)S[x-1]=arguments[x];for(var E=0,I=S;E<I.length;E++)N0(w,I[E],!0);return w}({},i.defaultProps,b):b}}),bb(y,function(){return".".concat(y.styledComponentId)}),o&&oM(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function ox(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var sx=function(t){return Object.assign(t,{isCss:!0})};function J7(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(El(t)||Su(t)){var r=t;return sx(Ns(ox(Wg,Dh([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Ns(i):sx(Ns(ox(i,e)))}function F0(t,e,n){if(n===void 0&&(n=Sl),!e)throw Zu(1,e);var r=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t(e,n,J7.apply(void 0,Dh([i],o,!1)))};return r.attrs=function(i){return F0(t,e,wr(wr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return F0(t,e,wr(wr({},n),i))},r}var hM=function(t){return F0(Q7,t)},Wn=hM;eM.forEach(function(t){Wn[t]=hM(t)});const eG=5*1e3,tG=Wn.li`
  height: 4px;
  width: 2vw;
  background-color: rgba(0, 0, 0, 0.2);
  margin: 0px 4px;
  border-radius: 10px;

  &.active-slick {
    width: 4vw;
    background-color: rgba(0, 0, 0, 0.7);
  }
`,nG=Wn.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`,rG=Wn.a`
  font-size: 14px;
`,iG=Wn.img`
  width: 100%;
  height: auto;
  background-color: pink;
`,oG=Wn.ul`
  list-style-type: none;
  padding: 0;
  margin: 1vh 0;
  display: flex;
  flex-direction: row;
  justify-content: center;
`,sG=t=>{var s,a,l;const[e,n]=g.useState(0),[r,i]=g.useState();g.useEffect(()=>{if(t.images.length>0){const c=setInterval(()=>{n(u=>(u+1)%t.images.length)},eG);return i(c),()=>{clearInterval(c)}}},[t.images]);const o=c=>{clearInterval(r),n(c)};return Ge.jsxs(nG,{children:[Ge.jsx(iG,{src:((s=t.images[e])==null?void 0:s.src)??""}),Ge.jsxs(rG,{href:((a=t.images[e])==null?void 0:a.link)??"",children:["",((l=t.images[e])==null?void 0:l.attribution)??""]}),Ge.jsx(oG,{children:t.images.map((c,u)=>Ge.jsx(tG,{onClick:()=>o(u),className:e===u?"active-slick":""},u))})]})};function Eu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return de.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(Eu(r)):qI.isFragment(r)&&r.props?n=n.concat(Eu(r.props.children,e)):n.push(r))}),n}function jh(t){return t instanceof HTMLElement||t instanceof SVGElement}function Dc(t){return jh(t)?t:t instanceof de.Component?cP.findDOMNode(t):null}var D0=g.createContext(null);function aG(t){var e=t.children,n=t.onBatchResize,r=g.useRef(0),i=g.useRef([]),o=g.useContext(D0),s=g.useCallback(function(a,l,c){r.current+=1;var u=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(a,l,c)},[n,o]);return g.createElement(D0.Provider,{value:s},e)}var gM=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),z0=typeof window<"u"&&typeof document<"u"&&window.document===document,$h=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),lG=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind($h):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),cG=2;function uG(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){lG(o)}function a(){var l=Date.now();if(n){if(l-i<cG)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var fG=20,dG=["top","right","bottom","left","width","height","size","weight"],hG=typeof MutationObserver<"u",gG=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=uG(this.refresh.bind(this),fG)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!z0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),hG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!z0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=dG.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),pM=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},xl=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||$h},mM=Gg(0,0,0,0);function Vh(t){return parseFloat(t)||0}function ax(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Vh(o)},0)}function pG(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=Vh(s)}return n}function mG(t){var e=t.getBBox();return Gg(0,0,e.width,e.height)}function vG(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return mM;var r=xl(t).getComputedStyle(t),i=pG(r),o=i.left+i.right,s=i.top+i.bottom,a=Vh(r.width),l=Vh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=ax(r,"left","right")+o),Math.round(l+s)!==n&&(l-=ax(r,"top","bottom")+s)),!bG(t)){var c=Math.round(a+o)-e,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return Gg(i.left,i.top,a,l)}var yG=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof xl(t).SVGGraphicsElement}:function(t){return t instanceof xl(t).SVGElement&&typeof t.getBBox=="function"}}();function bG(t){return t===xl(t).document.documentElement}function _G(t){return z0?yG(t)?mG(t):vG(t):mM}function wG(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return pM(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function Gg(t,e,n,r){return{x:t,y:e,width:n,height:r}}var SG=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Gg(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=_G(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),EG=function(){function t(e,n){var r=wG(n);pM(this,{target:e,contentRect:r})}return t}(),xG=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new gM,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new SG(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof xl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new EG(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),vM=typeof WeakMap<"u"?new WeakMap:new gM,yM=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=gG.getInstance(),r=new xG(e,n,this);vM.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){yM.prototype[t]=function(){var e;return(e=vM.get(this))[t].apply(e,arguments)}});var CG=function(){return typeof $h.ResizeObserver<"u"?$h.ResizeObserver:yM}(),Uo=new Map;function TG(t){t.forEach(function(e){var n,r=e.target;(n=Uo.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var bM=new CG(TG);function PG(t,e){Uo.has(t)||(Uo.set(t,new Set),bM.observe(t)),Uo.get(t).add(e)}function AG(t,e){Uo.has(t)&&(Uo.get(t).delete(e),Uo.get(t).size||(bM.unobserve(t),Uo.delete(t)))}function Ar(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cI(r.key),r)}}function Ir(t,e,n){return e&&lx(t.prototype,e),n&&lx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B0(t,e)}function Bl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(t)}function IG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MG(t,e){if(e&&(at(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function jl(t){var e=IG();return function(){var r=Uh(t),i;if(e){var o=Uh(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return MG(this,i)}}var OG=function(t){Bl(n,t);var e=jl(n);function n(){return Ar(this,n),e.apply(this,arguments)}return Ir(n,[{key:"render",value:function(){return this.props.children}}]),n}(g.Component);function LG(t,e){var n=t.children,r=t.disabled,i=g.useRef(null),o=g.useRef(null),s=g.useContext(D0),a=typeof n=="function",l=a?n(i):n,c=g.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&g.isValidElement(l)&&Yu(l),f=u?l.ref:null,d=Dl(f,i),h=function(){var m;return Dc(i.current)||(i.current&&at(i.current)==="object"?Dc((m=i.current)===null||m===void 0?void 0:m.nativeElement):null)||Dc(o.current)};g.useImperativeHandle(e,function(){return h()});var p=g.useRef(t);p.current=t;var v=g.useCallback(function(_){var m=p.current,y=m.onResize,b=m.data,w=_.getBoundingClientRect(),S=w.width,x=w.height,E=_.offsetWidth,I=_.offsetHeight,M=Math.floor(S),O=Math.floor(x);if(c.current.width!==M||c.current.height!==O||c.current.offsetWidth!==E||c.current.offsetHeight!==I){var R={width:M,height:O,offsetWidth:E,offsetHeight:I};c.current=R;var D=E===Math.round(S)?S:E,k=I===Math.round(x)?x:I,j=$($({},R),{},{offsetWidth:D,offsetHeight:k});s==null||s(j,_,b),y&&Promise.resolve().then(function(){y(j,_)})}},[]);return g.useEffect(function(){var _=h();return _&&!r&&PG(_,v),function(){return AG(_,v)}},[i.current,r]),g.createElement(OG,{ref:o},u?g.cloneElement(l,{ref:d}):l)}var RG=g.forwardRef(LG),NG="rc-observer-key";function kG(t,e){var n=t.children,r=typeof n=="function"?[n]:Eu(n);return r.map(function(i,o){var s=(i==null?void 0:i.key)||"".concat(NG,"-").concat(o);return g.createElement(RG,Be({},t,{key:s,ref:o===0?e:void 0}),i)})}var oa=g.forwardRef(kG);oa.Collection=aG;function _b(t,e){var n=$({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}function FG(t){if(Array.isArray(t))return S0(t)}function _M(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ae(t){return FG(t)||_M(t)||ub(t)||DG()}var wM=function(e){return+setTimeout(e,16)},SM=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(wM=function(e){return window.requestAnimationFrame(e)},SM=function(e){return window.cancelAnimationFrame(e)});var cx=0,wb=new Map;function EM(t){wb.delete(t)}var En=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;cx+=1;var r=cx;function i(o){if(o===0)EM(r),e();else{var s=wM(function(){i(o-1)});wb.set(r,s)}}return i(n),r};En.cancel=function(t){var e=wb.get(t);return EM(t),SM(e)};function Hh(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function xM(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(fr(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var c=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],s[u],c))return!1;return!0}if(o&&s&&at(o)==="object"&&at(s)==="object"){var f=Object.keys(o);return f.length!==Object.keys(s).length?!1:f.every(function(d){return i(o[d],s[d],c)})}return!1}return i(t,e)}var ux="%",zG=function(){function t(e){Ar(this,t),V(this,"instanceId",void 0),V(this,"cache",new Map),this.instanceId=e}return Ir(t,[{key:"get",value:function(n){return this.cache.get(n.join(ux))||null}},{key:"update",value:function(n,r){var i=n.join(ux),o=this.cache.get(i),s=r(o);s===null?this.cache.delete(i):this.cache.set(i,s)}}]),t}(),Cl="data-token-hash",Ai="data-css-hash",Ho="__cssinjs_instance__";function BG(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Ai,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[Ho]=i[Ho]||t,i[Ho]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Ai,"]"))).forEach(function(i){var o=i.getAttribute(Ai);if(r[o]){if(i[Ho]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new zG(t)}var qg=g.createContext({hashPriority:"low",cache:BG(),defaultCache:!0});function jG(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Sb=function(){function t(){Ar(this,t),V(this,"cache",void 0),V(this,"keys",void 0),V(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ir(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var f=X(c,2),d=f[1];return i.internalGet(u)[1]<d?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=X(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var f=l.get(c);f?f.map||(f.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!jG(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();V(Sb,"MAX_CACHE_SIZE",20);V(Sb,"MAX_CACHE_OFFSET",5);var fx=0,CM=function(){function t(e){Ar(this,t),V(this,"derivatives",void 0),V(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=fx,e.length===0&&(e.length>0,void 0),fx+=1}return Ir(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),Am=new Sb;function j0(t){var e=Array.isArray(t)?t:[t];return Am.has(e)||Am.set(e,new CM(e)),Am.get(e)}var $G=new WeakMap,Im={};function VG(t,e){for(var n=$G,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(Im)||n.set(Im,t()),n.get(Im)}var dx=new WeakMap;function zc(t){var e=dx.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof CM?e+=r.id:r&&at(r)==="object"?e+=zc(r):e+=r}),dx.set(t,e)),e}function hx(t,e){return Hh("".concat(e,"_").concat(zc(t)))}var Bc="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),TM="_bAmBoO_";function UG(t,e,n){if(or()){var r,i;as(t,Bc);var o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.top="0",e==null||e(o),document.body.appendChild(o);var s=n?n(o):(r=getComputedStyle(o).content)===null||r===void 0?void 0:r.includes(TM);return(i=o.parentNode)===null||i===void 0||i.removeChild(o),wu(Bc),s}return!1}var Mm=void 0;function HG(){return Mm===void 0&&(Mm=UG("@layer ".concat(Bc," { .").concat(Bc,' { content: "').concat(TM,'"!important; } }'),function(t){t.className=Bc})),Mm}var $0=or();function We(t){return typeof t=="number"?"".concat(t,"px"):t}function Wh(t,e,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return t;var s=$($({},i),{},(r={},V(r,Cl,e),V(r,Ai,n),r)),a=Object.keys(s).map(function(l){var c=s[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var PM=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},WG=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=X(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},AM=function(e,n,r){var i={},o={};return Object.entries(e).forEach(function(s){var a,l,c=X(s,2),u=c[0],f=c[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[u])o[u]=f;else if((typeof f=="string"||typeof f=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var d,h=PM(u,r==null?void 0:r.prefix);i[h]=typeof f=="number"&&!(r!=null&&(d=r.unitless)!==null&&d!==void 0&&d[u])?"".concat(f,"px"):String(f),o[u]="var(".concat(h,")")}}),[o,WG(i,n,{scope:r==null?void 0:r.scope})]},gx=or()?g.useLayoutEffect:g.useEffect,Zt=function(e,n){var r=g.useRef(!0);gx(function(){return e(r.current)},n),gx(function(){return r.current=!1,function(){r.current=!0}},[])},px=function(e,n){Zt(function(r){if(!r)return e()},n)},GG=$({},Nu),mx=GG.useInsertionEffect,qG=function(e,n,r){g.useMemo(e,r),Zt(function(){return n(!0)},r)},XG=mx?function(t,e,n){return mx(function(){return t(),e()},n)}:qG,KG=$({},Nu),YG=KG.useInsertionEffect,ZG=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return g.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},QG=function(){return function(e){e()}},JG=typeof YG<"u"?ZG:QG;function Eb(t,e,n,r,i){var o=g.useContext(qg),s=o.cache,a=[t].concat(Ae(e)),l=a.join("_"),c=JG([l]),u=function(p){s.update(a,function(v){var _=v||[void 0,void 0],m=X(_,2),y=m[0],b=y===void 0?0:y,w=m[1],S=w,x=S||n(),E=[b,x];return p?p(E):E})};g.useMemo(function(){u()},[l]);var f=s.get(a),d=f[1];return XG(function(){i==null||i(d)},function(h){return u(function(p){var v=X(p,2),_=v[0],m=v[1];return h&&_===0&&(i==null||i(d)),[_+1,m]}),function(){s.update(a,function(p){var v=p||[],_=X(v,2),m=_[0],y=m===void 0?0:m,b=_[1],w=y-1;return w===0?(c(function(){(h||!s.get(a))&&(r==null||r(b,!1))}),null):[y-1,b]})}},[l]),d}var eq={},tq="css",bs=new Map;function nq(t){bs.set(t,(bs.get(t)||0)+1)}function rq(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Cl,'="').concat(t,'"]'));n.forEach(function(r){if(r[Ho]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var iq=0;function oq(t,e){bs.set(t,(bs.get(t)||0)-1);var n=Array.from(bs.keys()),r=n.filter(function(i){var o=bs.get(i)||0;return o<=0});n.length-r.length>iq&&r.forEach(function(i){rq(i,e),bs.delete(i)})}var sq=function(e,n,r,i){var o=r.getDerivativeToken(e),s=$($({},o),n);return i&&(s=i(s)),s},IM="token";function aq(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=g.useContext(qg),i=r.cache.instanceId,o=r.container,s=n.salt,a=s===void 0?"":s,l=n.override,c=l===void 0?eq:l,u=n.formatToken,f=n.getComputedToken,d=n.cssVar,h=VG(function(){return Object.assign.apply(Object,[{}].concat(Ae(e)))},e),p=zc(h),v=zc(c),_=d?zc(d):"",m=Eb(IM,[a,t.id,p,v,_],function(){var y,b=f?f(h,c,t):sq(h,c,t,u),w=$({},b),S="";if(d){var x=AM(b,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve}),E=X(x,2);b=E[0],S=E[1]}var I=hx(b,a);b._tokenKey=I,w._tokenKey=hx(w,a);var M=(y=d==null?void 0:d.key)!==null&&y!==void 0?y:I;b._themeKey=M,nq(M);var O="".concat(tq,"-").concat(Hh(I));return b._hashId=O,[b,O,w,S,(d==null?void 0:d.key)||""]},function(y){oq(y[0]._themeKey,i)},function(y){var b=X(y,4),w=b[0],S=b[3];if(d&&S){var x=as(S,Hh("css-variables-".concat(w._themeKey)),{mark:Ai,prepend:"queue",attachTo:o,priority:-999});x[Ho]=i,x.setAttribute(Cl,w._themeKey)}});return m}var lq=function(e,n,r){var i=X(e,5),o=i[2],s=i[3],a=i[4],l=r||{},c=l.plain;if(!s)return null;var u=o._tokenKey,f=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(f)},h=Wh(s,a,u,d,c);return[f,u,h]},cq={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},MM="comm",OM="rule",LM="decl",uq="@import",fq="@keyframes",dq="@layer",RM=Math.abs,xb=String.fromCharCode;function NM(t){return t.trim()}function $d(t,e,n){return t.replace(e,n)}function hq(t,e,n){return t.indexOf(e,n)}function xu(t,e){return t.charCodeAt(e)|0}function Cu(t,e,n){return t.slice(e,n)}function no(t){return t.length}function gq(t){return t.length}function Jf(t,e){return e.push(t),t}var Xg=1,Tl=1,kM=0,ui=0,wn=0,$l="";function Cb(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Xg,column:Tl,length:s,return:"",siblings:a}}function pq(){return wn}function mq(){return wn=ui>0?xu($l,--ui):0,Tl--,wn===10&&(Tl=1,Xg--),wn}function Ii(){return wn=ui<kM?xu($l,ui++):0,Tl++,wn===10&&(Tl=1,Xg++),wn}function ks(){return xu($l,ui)}function Vd(){return ui}function Kg(t,e){return Cu($l,t,e)}function V0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vq(t){return Xg=Tl=1,kM=no($l=t),ui=0,[]}function yq(t){return $l="",t}function Om(t){return NM(Kg(ui-1,U0(t===91?t+2:t===40?t+1:t)))}function bq(t){for(;(wn=ks())&&wn<33;)Ii();return V0(t)>2||V0(wn)>3?"":" "}function _q(t,e){for(;--e&&Ii()&&!(wn<48||wn>102||wn>57&&wn<65||wn>70&&wn<97););return Kg(t,Vd()+(e<6&&ks()==32&&Ii()==32))}function U0(t){for(;Ii();)switch(wn){case t:return ui;case 34:case 39:t!==34&&t!==39&&U0(wn);break;case 40:t===41&&U0(t);break;case 92:Ii();break}return ui}function wq(t,e){for(;Ii()&&t+wn!==47+10;)if(t+wn===42+42&&ks()===47)break;return"/*"+Kg(e,ui-1)+"*"+xb(t===47?t:Ii())}function Sq(t){for(;!V0(ks());)Ii();return Kg(t,ui)}function Eq(t){return yq(Ud("",null,null,null,[""],t=vq(t),0,[0],t))}function Ud(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,d=0,h=0,p=0,v=1,_=1,m=1,y=0,b="",w=i,S=o,x=r,E=b;_;)switch(p=y,y=Ii()){case 40:if(p!=108&&xu(E,f-1)==58){hq(E+=$d(Om(y),"&","&\f"),"&\f",RM(c?a[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:E+=Om(y);break;case 9:case 10:case 13:case 32:E+=bq(p);break;case 92:E+=_q(Vd()-1,7);continue;case 47:switch(ks()){case 42:case 47:Jf(xq(wq(Ii(),Vd()),e,n,l),l);break;default:E+="/"}break;case 123*v:a[c++]=no(E)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+u:m==-1&&(E=$d(E,/\f/g,"")),h>0&&no(E)-f&&Jf(h>32?yx(E+";",r,n,f-1,l):yx($d(E," ","")+";",r,n,f-2,l),l);break;case 59:E+=";";default:if(Jf(x=vx(E,e,n,c,u,i,a,b,w=[],S=[],f,o),o),y===123)if(u===0)Ud(E,e,x,x,w,o,f,a,S);else switch(d===99&&xu(E,3)===110?100:d){case 100:case 108:case 109:case 115:Ud(t,x,x,r&&Jf(vx(t,x,x,0,0,i,a,b,i,w=[],f,S),S),i,S,f,a,r?w:S);break;default:Ud(E,x,x,x,[""],S,0,a,S)}}c=u=h=0,v=m=1,b=E="",f=s;break;case 58:f=1+no(E),h=p;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&mq()==125)continue}switch(E+=xb(y),y*v){case 38:m=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(no(E)-1)*m,m=1;break;case 64:ks()===45&&(E+=Om(Ii())),d=ks(),u=f=no(b=E+=Sq(Vd())),y++;break;case 45:p===45&&no(E)==2&&(v=0)}}return o}function vx(t,e,n,r,i,o,s,a,l,c,u,f){for(var d=i-1,h=i===0?o:[""],p=gq(h),v=0,_=0,m=0;v<r;++v)for(var y=0,b=Cu(t,d+1,d=RM(_=s[v])),w=t;y<p;++y)(w=NM(_>0?h[y]+" "+b:$d(b,/&\f/g,h[y])))&&(l[m++]=w);return Cb(t,e,n,i===0?OM:a,l,c,u,f)}function xq(t,e,n,r){return Cb(t,e,n,MM,xb(pq()),Cu(t,2,-2),0,r)}function yx(t,e,n,r,i){return Cb(t,e,n,LM,Cu(t,0,r),Cu(t,r+1,-1),r,i)}function H0(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function Cq(t,e,n,r){switch(t.type){case dq:if(t.children.length)break;case uq:case LM:return t.return=t.return||t.value;case MM:return"";case fq:return t.return=t.value+"{"+H0(t.children,r)+"}";case OM:if(!no(t.value=t.props.join(",")))return""}return no(n=H0(t.children,r))?t.return=t.value+"{"+n+"}":""}var bx="data-ant-cssinjs-cache-path",FM="_FILE_STYLE__",Fs,DM=!0;function Tq(){if(!Fs&&(Fs={},or())){var t=document.createElement("div");t.className=bx,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=X(o,2),a=s[0],l=s[1];Fs[a]=l});var n=document.querySelector("style[".concat(bx,"]"));if(n){var r;DM=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function Pq(t){return Tq(),!!Fs[t]}function Aq(t){var e=Fs[t],n=null;if(e&&or())if(DM)n=FM;else{var r=document.querySelector("style[".concat(Ai,'="').concat(Fs[t],'"]'));r?n=r.innerHTML:delete Fs[t]}return[n,e]}var Iq="_skip_check_",zM="_multi_value_";function W0(t){var e=H0(Eq(t),Cq);return e.replace(/\{%%%\:[^;];}/g,";")}function Mq(t){return at(t)==="object"&&t&&(Iq in t||zM in t)}function Oq(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(Ae(l.slice(1))).join(" ")});return o.join(",")}var Lq=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,f=u===void 0?[]:u;n.linters;var d="",h={};function p(b){var w=b.getName(a);if(!h[w]){var S=t(b.style,n,{root:!1,parentSelectors:s}),x=X(S,1),E=x[0];h[w]="@keyframes ".concat(b.getName(a)).concat(E)}}function v(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return b.forEach(function(S){Array.isArray(S)?v(S,w):S&&w.push(S)}),w}var _=v(Array.isArray(e)?e:[e]);if(_.forEach(function(b){var w=typeof b=="string"&&!i?{}:b;if(typeof w=="string")d+="".concat(w,`
`);else if(w._keyframe)p(w);else{var S=f.reduce(function(x,E){var I;return(E==null||(I=E.visit)===null||I===void 0?void 0:I.call(E,x))||x},w);Object.keys(S).forEach(function(x){var E=S[x];if(at(E)==="object"&&E&&(x!=="animationName"||!E._keyframe)&&!Mq(E)){var I=!1,M=x.trim(),O=!1;(i||o)&&a?M.startsWith("@")?I=!0:M=Oq(x,a,c):i&&!a&&(M==="&"||M==="")&&(M="",O=!0);var R=t(E,n,{root:O,injectHash:I,parentSelectors:[].concat(Ae(s),[M])}),D=X(R,2),k=D[0],j=D[1];h=$($({},h),j),d+="".concat(M).concat(k)}else{let A=function(z,B){var U=z.replace(/[A-Z]/g,function(Y){return"-".concat(Y.toLowerCase())}),W=B;!cq[z]&&typeof W=="number"&&W!==0&&(W="".concat(W,"px")),z==="animationName"&&B!==null&&B!==void 0&&B._keyframe&&(p(B),W=B.getName(a)),d+="".concat(U,":").concat(W,";")};var N=A,G,F=(G=E==null?void 0:E.value)!==null&&G!==void 0?G:E;at(E)==="object"&&E!==null&&E!==void 0&&E[zM]&&Array.isArray(F)?F.forEach(function(z){A(x,z)}):A(x,F)}})}}),!i)d="{".concat(d,"}");else if(l&&HG()){var m=l.split(","),y=m[m.length-1].trim();d="@layer ".concat(y," {").concat(d,"}"),m.length>1&&(d="@layer ".concat(l,"{%%%:%}").concat(d))}return[d,h]};function BM(t,e){return Hh("".concat(t.join("%")).concat(e))}function Rq(){return null}var jM="style";function G0(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=t.clientOnly,l=t.order,c=l===void 0?0:l,u=g.useContext(qg),f=u.autoClear;u.mock;var d=u.defaultCache,h=u.hashPriority,p=u.container,v=u.ssrInline,_=u.transformers,m=u.linters,y=u.cache,b=n._tokenKey,w=[b].concat(Ae(r)),S=$0,x=Eb(jM,w,function(){var R=w.join("|");if(Pq(R)){var D=Aq(R),k=X(D,2),j=k[0],G=k[1];if(j)return[j,b,G,{},a,c]}var F=e(),N=Lq(F,{hashId:i,hashPriority:h,layer:o,path:r.join("-"),transformers:_,linters:m}),A=X(N,2),z=A[0],B=A[1],U=W0(z),W=BM(w,U);return[U,b,W,B,a,c]},function(R,D){var k=X(R,3),j=k[2];(D||f)&&$0&&wu(j,{mark:Ai})},function(R){var D=X(R,4),k=D[0];D[1];var j=D[2],G=D[3];if(S&&k!==FM){var F={mark:Ai,prepend:"queue",attachTo:p,priority:c},N=typeof s=="function"?s():s;N&&(F.csp={nonce:N});var A=as(k,j,F);A[Ho]=y.instanceId,A.setAttribute(Cl,b),Object.keys(G).forEach(function(z){as(W0(G[z]),"_effect-".concat(z),F)})}}),E=X(x,3),I=E[0],M=E[1],O=E[2];return function(R){var D;if(!v||S||!d)D=g.createElement(Rq,null);else{var k;D=g.createElement("style",Be({},(k={},V(k,Cl,M),V(k,Ai,O),k),{dangerouslySetInnerHTML:{__html:I}}))}return g.createElement(g.Fragment,null,D,R)}}var Nq=function(e,n,r){var i=X(e,6),o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=r||{},d=f.plain;if(c)return null;var h=o,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return h=Wh(o,s,a,p,d),l&&Object.keys(l).forEach(function(v){if(!n[v]){n[v]=!0;var _=W0(l[v]);h+=Wh(_,s,"_effect-".concat(v),p,d)}}),[u,a,h]},$M="cssVar",kq=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,u=g.useContext(qg),f=u.cache.instanceId,d=u.container,h=a._tokenKey,p=[].concat(Ae(e.path),[r,c,h]),v=Eb($M,p,function(){var _=n(),m=AM(_,r,{prefix:i,unitless:o,ignore:s,scope:c}),y=X(m,2),b=y[0],w=y[1],S=BM(p,w);return[b,w,S,r]},function(_){var m=X(_,3),y=m[2];$0&&wu(y,{mark:Ai})},function(_){var m=X(_,3),y=m[1],b=m[2];if(y){var w=as(y,b,{mark:Ai,prepend:"queue",attachTo:d,priority:-999});w[Ho]=f,w.setAttribute(Cl,r)}});return v},Fq=function(e,n,r){var i=X(e,4),o=i[1],s=i[2],a=i[3],l=r||{},c=l.plain;if(!o)return null;var u=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},d=Wh(o,a,s,f,c);return[u,s,d]},oc;oc={},V(oc,jM,Nq),V(oc,IM,lq),V(oc,$M,Fq);var _t=function(){function t(e,n){Ar(this,t),V(this,"name",void 0),V(this,"style",void 0),V(this,"_keyframe",!0),this.name=e,this.style=n}return Ir(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function ba(t){return t.notSplit=!0,t}ba(["borderTop","borderBottom"]),ba(["borderTop"]),ba(["borderBottom"]),ba(["borderLeft","borderRight"]),ba(["borderLeft"]),ba(["borderRight"]);function VM(t){return PI(t)||_M(t)||ub(t)||AI()}function Hi(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function UM(t,e,n,r){if(!e.length)return n;var i=VM(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=Ae(t):a=$({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=UM(a[o],s,n,r),a}function yi(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!Hi(t,e.slice(0,-1))?t:UM(t,e,n,r)}function Dq(t){return at(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function _x(t){return Array.isArray(t)?[]:{}}var zq=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Ha(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=_x(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),c=Hi(i,s),u=Array.isArray(c);if(u||Dq(c)){if(!l.has(c)){l.add(c);var f=Hi(r,s);u?r=yi(r,s,[]):(!f||at(f)!=="object")&&(r=yi(r,s,_x(c))),zq(c).forEach(function(d){o([].concat(Ae(s),[d]),l)})}}else r=yi(r,s,c)}o([])}),r}const Bq=g.createContext({}),jq=g.createContext(void 0);var $q={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Vq={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const Uq={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},HM=Uq,Hq={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Vq),timePickerLocale:Object.assign({},HM)},wx=Hq,kr="${label} is not a valid ${type}",Wq={locale:"en",Pagination:$q,DatePicker:wx,TimePicker:HM,Calendar:wx,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:kr,method:kr,array:kr,object:kr,number:kr,date:kr,boolean:kr,integer:kr,float:kr,regexp:kr,email:kr,url:kr,hex:kr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},Zs=Wq;let Hd=Object.assign({},Zs.Modal),Wd=[];const Sx=()=>Wd.reduce((t,e)=>Object.assign(Object.assign({},t),e),Zs.Modal);function Gq(t){if(t){const e=Object.assign({},t);return Wd.push(e),Hd=Sx(),()=>{Wd=Wd.filter(n=>n!==e),Hd=Sx()}}Hd=Object.assign({},Zs.Modal)}function WM(){return Hd}const qq=g.createContext(void 0),Tb=qq,Xq=(t,e)=>{const n=g.useContext(Tb),r=g.useMemo(()=>{var o;const s=e||Zs[t],a=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),i=g.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?Zs.locale:o},[n]);return[r,i]},Yg=Xq,Kq="internalMark",Yq=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;g.useEffect(()=>Gq(e&&e.Modal),[e]);const i=g.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return g.createElement(Tb.Provider,{value:i},n)},Zq=Yq,Qq=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},Jq=Qq;function eX(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const GM={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},tX=Object.assign(Object.assign({},GM),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Tu=tX;function nX(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,f=n(l),d=n(i),h=n(o),p=n(s),v=n(a),_=r(c,u),m=t.colorLink||t.colorInfo,y=n(m);return Object.assign(Object.assign({},_),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:v[1],colorInfoBgHover:v[2],colorInfoBorder:v[3],colorInfoBorderHover:v[4],colorInfoHover:v[4],colorInfo:v[6],colorInfoActive:v[7],colorInfoTextHover:v[8],colorInfoText:v[9],colorInfoTextActive:v[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new jn("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const rX=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},iX=rX;function oX(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},iX(r))}const Zi=(t,e)=>new jn(t).setAlpha(e).toRgbString(),sc=(t,e)=>new jn(t).darken(e).toHexString(),sX=t=>{const e=Ys(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},aX=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Zi(r,.88),colorTextSecondary:Zi(r,.65),colorTextTertiary:Zi(r,.45),colorTextQuaternary:Zi(r,.25),colorFill:Zi(r,.15),colorFillSecondary:Zi(r,.06),colorFillTertiary:Zi(r,.04),colorFillQuaternary:Zi(r,.02),colorBgLayout:sc(n,4),colorBgContainer:sc(n,0),colorBgElevated:sc(n,0),colorBgSpotlight:Zi(r,.85),colorBgBlur:"transparent",colorBorder:sc(n,15),colorBorderSecondary:sc(n,6)}};function lX(t){const e=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=t*Math.pow(2.71828,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>{const r=n+8;return{size:n,lineHeight:r/n}})}const cX=t=>{const e=lX(t),n=e.map(u=>u.size),r=e.map(u=>u.lineHeight),i=n[1],o=n[0],s=n[2],a=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},uX=cX;function fX(t){const e=Object.keys(GM).map(n=>{const r=Ys(t[n]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),nX(t,{generateColorPalettes:sX,generateNeutralColorPalettes:aX})),uX(t.fontSize)),eX(t)),Jq(t)),oX(t))}const qM=j0(fX),XM={token:Tu,override:{override:Tu},hashed:!0},KM=de.createContext(XM),Pb="anticon",dX=(t,e)=>e||(t?`ant-${t}`:"ant"),kn=g.createContext({getPrefixCls:dX,iconPrefixCls:Pb}),hX=`-ant-${Date.now()}-${Math.random()}`;function gX(t,e){const n={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new jn(s),c=Ys(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=c[1],n[`${a}-color-hover`]=c[4],n[`${a}-color-active`]=c[6],n[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=c[0],n[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new jn(e.primaryColor),a=Ys(s.toRgbString());a.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(s,c=>c.setAlpha(c.getAlpha()*.12));const l=new jn(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function pX(t,e){const n=gX(t,e);or()&&as(n,`${hX}-dynamic-theme`)}const q0=g.createContext(!1),YM=t=>{let{children:e,disabled:n}=t;const r=g.useContext(q0);return g.createElement(q0.Provider,{value:n??r},e)},Ab=q0,X0=g.createContext(void 0),mX=t=>{let{children:e,size:n}=t;const r=g.useContext(X0);return g.createElement(X0.Provider,{value:n||r},e)},Zg=X0;function vX(){const t=g.useContext(Ab),e=g.useContext(Zg);return{componentDisabled:t,componentSize:e}}const yX="5.12.8";function Lm(t){return t>=0&&t<=255}function ed(t,e){const{r:n,g:r,b:i,a:o}=new jn(t).toRgb();if(o<1)return t;const{r:s,g:a,b:l}=new jn(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-s*(1-c))/c),f=Math.round((r-a*(1-c))/c),d=Math.round((i-l*(1-c))/c);if(Lm(u)&&Lm(f)&&Lm(d))return new jn({r:u,g:f,b:d,a:Math.round(c*100)/100}).toRgbString()}return new jn({r:n,g:r,b:i,a:1}).toRgbString()}var bX=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ZM(t){const{override:e}=t,n=bX(t,["override"]),r=Object.assign({},e);Object.keys(Tu).forEach(d=>{delete r[d]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const d="0s";i.motionDurationFast=d,i.motionDurationMid=d,i.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:ed(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:ed(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:ed(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:ed(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new jn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new jn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new jn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var Ex=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const QM={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},JM={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},_X={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},eO=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=Ex(e,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=ZM(s),o&&Object.entries(o).forEach(a=>{let[l,c]=a;const{theme:u}=c,f=Ex(c,["theme"]);let d=f;u&&(d=eO(Object.assign(Object.assign({},s),f),{override:f},u)),s[l]=d}),s};function qr(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=de.useContext(KM),o=`${yX}-${e||""}`,s=n||qM,[a,l,c]=aq(s,[Tu,t],{salt:o,override:r,getComputedToken:eO,formatToken:ZM,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:QM,ignore:JM,preserve:_X}});return[s,c,e?l:"",a,i]}function br(t){var e=g.useRef();e.current=t;var n=g.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function Ds(t){var e=g.useRef(!1),n=g.useState(t),r=X(n,2),i=r[0],o=r[1];g.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function Rm(t){return t!==void 0}function Gh(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Ds(function(){return Rm(i)?i:Rm(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=X(a,2),c=l[0],u=l[1],f=i!==void 0?i:c,d=s?s(f):f,h=br(o),p=Ds([f]),v=X(p,2),_=v[0],m=v[1];px(function(){var b=_[0];c!==b&&h(c,b)},[_]),px(function(){Rm(i)||u(i)},[i]);var y=br(function(b,w){u(b,w),m([f],w)});return[d,y]}const K0={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Qg=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},Ib=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),wX=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),SX=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),EX=(t,e)=>{const{fontFamily:n,fontSize:r}=t,i=`[class^="${e}"], [class*=" ${e}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},xX=t=>({outline:`${We(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),tO=t=>({"&:focus-visible":Object.assign({},xX(t))});let CX=Ir(function t(){Ar(this,t)});const nO=CX;let TX=function(t){Bl(n,t);var e=jl(n);function n(r){var i;return Ar(this,n),i=e.call(this),i.result=0,r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return Ir(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(nO);const rO="CALC_UNIT";function Nm(t){return typeof t=="number"?`${t}${rO}`:t}let PX=function(t){Bl(n,t);var e=jl(n);function n(r){var i;return Ar(this,n),i=e.call(this),i.result="",r instanceof n?i.result=`(${r.result})`:typeof r=="number"?i.result=Nm(r):typeof r=="string"&&(i.result=r),i}return Ir(n,[{key:"add",value:function(i){return i instanceof n?this.result=`${this.result} + ${i.getResult()}`:(typeof i=="number"||typeof i=="string")&&(this.result=`${this.result} + ${Nm(i)}`),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result=`${this.result} - ${i.getResult()}`:(typeof i=="number"||typeof i=="string")&&(this.result=`${this.result} - ${Nm(i)}`),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result=`(${this.result})`),i instanceof n?this.result=`${this.result} * ${i.getResult(!0)}`:(typeof i=="number"||typeof i=="string")&&(this.result=`${this.result} * ${i}`),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result=`(${this.result})`),i instanceof n?this.result=`${this.result} / ${i.getResult(!0)}`:(typeof i=="number"||typeof i=="string")&&(this.result=`${this.result} / ${i}`),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?`(${this.result})`:this.result}},{key:"equal",value:function(i){const{unit:o=!0}=i||{},s=new RegExp(`${rO}`,"g");return this.result=this.result.replace(s,o?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}]),n}(nO);const AX=t=>{const e=t==="css"?PX:TX;return n=>new e(n)},IX=AX;function MX(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return`max(${n.map(i=>We(i)).join(",")})`},min:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return`min(${n.map(i=>We(i)).join(",")})`}}}const iO=typeof CSSINJS_STATISTIC<"u";let Y0=!0;function Un(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!iO)return Object.assign.apply(Object,[{}].concat(e));Y0=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),Y0=!0,r}const xx={};function OX(){}const LX=t=>{let e,n=t,r=OX;return iO&&typeof Proxy<"u"&&(e=new Set,n=new Proxy(t,{get(i,o){return Y0&&e.add(o),i[o]}}),r=(i,o)=>{var s;xx[i]={global:Array.from(e),component:Object.assign(Object.assign({},(s=xx[i])===null||s===void 0?void 0:s.component),o)}}),{token:n,keys:e,flush:r}},RX=(t,e)=>{const[n,r]=qr();return G0({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce},()=>[{[`.${t}`]:Object.assign(Object.assign({},Ib()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},oO=RX,sO=(t,e,n)=>{var r;return typeof n=="function"?n(Un(e,(r=e[t])!==null&&r!==void 0?r:{})):n??{}},aO=(t,e,n,r)=>{const i=Object.assign({},e[t]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:s}=r;s.forEach(a=>{let[l,c]=a;var u;(i!=null&&i[l]||i!=null&&i[c])&&((u=i[c])!==null&&u!==void 0||(i[c]=i==null?void 0:i[l]))})}let o=Object.assign(Object.assign({},n),i);return r!=null&&r.format&&(o=r.format(o)),Object.keys(o).forEach(s=>{o[s]===e[s]&&delete o[s]}),o},NX=(t,e)=>`${[e,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function Mb(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Array.isArray(t)?t:[t,t],[o]=i,s=i.join("-");return a=>{const[l,c,u,f,d]=qr(),{getPrefixCls:h,iconPrefixCls:p,csp:v}=g.useContext(kn),_=h(),m=d?"css":"js",y=IX(m),{max:b,min:w}=MX(m),S={theme:l,token:f,hashId:u,nonce:()=>v==null?void 0:v.nonce,clientOnly:r.clientOnly,order:r.order||-999};return G0(Object.assign(Object.assign({},S),{clientOnly:!1,path:["Shared",_]}),()=>[{"&":SX(f)}]),oO(p,v),[G0(Object.assign(Object.assign({},S),{path:[s,a,p]}),()=>{if(r.injectStyle===!1)return[];const{token:E,flush:I}=LX(f),M=sO(o,c,n),O=`.${a}`,R=aO(o,c,M,{deprecatedTokens:r.deprecatedTokens,format:r.format});d&&Object.keys(M).forEach(j=>{M[j]=`var(${PM(j,NX(o,d.prefix))})`});const D=Un(E,{componentCls:O,prefixCls:a,iconCls:`.${p}`,antCls:`.${_}`,calc:y,max:b,min:w},d?M:R),k=e(D,{hashId:u,prefixCls:a,rootPrefixCls:_,iconPrefixCls:p});return I(o,R),[r.resetStyle===!1?null:EX(D,a),k]}),u]}}const lO=(t,e,n,r)=>{const i=Mb(t,e,n,Object.assign({resetStyle:!1,order:-998},r));return s=>{let{prefixCls:a}=s;return i(a),null}},kX=(t,e,n)=>{function r(c){return`${t}${c.slice(0,1).toUpperCase()}${c.slice(1)}`}const{unitless:i={},injectStyle:o=!0}=n??{},s={[r("zIndexPopup")]:!0};Object.keys(i).forEach(c=>{s[r(c)]=i[c]});const a=c=>{let{rootCls:u,cssVar:f}=c;const[,d]=qr();return kq({path:[t],prefix:f.prefix,key:f==null?void 0:f.key,unitless:Object.assign(Object.assign({},QM),s),ignore:JM,token:d,scope:u},()=>{const h=sO(t,d,e),p=aO(t,d,h,{format:n==null?void 0:n.format,deprecatedTokens:n==null?void 0:n.deprecatedTokens});return Object.keys(h).forEach(v=>{p[r(v)]=p[v],delete p[v]}),p}),null};return c=>{const[,,,,u]=qr();return[f=>o&&u?de.createElement(de.Fragment,null,de.createElement(a,{rootCls:c,cssVar:u,component:t}),f):f,u==null?void 0:u.key]}},Qu=(t,e,n,r)=>{const i=Mb(t,e,n,r),o=kX(Array.isArray(t)?t[0]:t,n,r);return function(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;const[,l]=i(s),[c,u]=o(a);return[c,l,u]}},FX=Object.assign({},Nu),{useId:Cx}=FX,DX=()=>"",zX=typeof Cx>"u"?DX:Cx,BX=zX;function jX(t,e){const n=t||{},r=n.inherit===!1||!e?XM:e,i=BX();return jg(()=>{var o,s;if(!t)return e;const a=Object.assign({},r.components);Object.keys(t.components||{}).forEach(u=>{a[u]=Object.assign(Object.assign({},a[u]),t.components[u])});const l=`css-var-${i.replace(/:/g,"")}`,c=((o=n.cssVar)!==null&&o!==void 0?o:r.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:"ant"},typeof r.cssVar=="object"?r.cssVar:{}),typeof n.cssVar=="object"?n.cssVar:{}),{key:typeof n.cssVar=="object"&&((s=n.cssVar)===null||s===void 0?void 0:s.key)||l});return Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:a,cssVar:c})},[n,r],(o,s)=>o.some((a,l)=>{const c=s[l];return!xM(a,c,!0)}))}var $X=["children"],cO=g.createContext({});function VX(t){var e=t.children,n=vn(t,$X);return g.createElement(cO.Provider,{value:n},e)}var UX=function(t){Bl(n,t);var e=jl(n);function n(){return Ar(this,n),e.apply(this,arguments)}return Ir(n,[{key:"render",value:function(){return this.props.children}}]),n}(g.Component),vs="none",td="appear",nd="enter",rd="leave",Tx="none",bi="prepare",Wa="start",Ga="active",Ob="end",uO="prepared";function Px(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function HX(t,e){var n={animationend:Px("Animation","AnimationEnd"),transitionend:Px("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var WX=HX(or(),typeof window<"u"?window:{}),fO={};if(or()){var GX=document.createElement("div");fO=GX.style}var id={};function dO(t){if(id[t])return id[t];var e=WX[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in fO)return id[t]=e[o],id[t]}return""}var hO=dO("animationend"),gO=dO("transitionend"),pO=!!(hO&&gO),Ax=hO||"animationend",Ix=gO||"transitionend";function Mx(t,e){if(!t)return null;if(at(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const qX=function(t){var e=g.useRef(),n=g.useRef(t);n.current=t;var r=g.useCallback(function(s){n.current(s)},[]);function i(s){s&&(s.removeEventListener(Ix,r),s.removeEventListener(Ax,r))}function o(s){e.current&&e.current!==s&&i(e.current),s&&s!==e.current&&(s.addEventListener(Ix,r),s.addEventListener(Ax,r),e.current=s)}return g.useEffect(function(){return function(){i(e.current)}},[]),[o,i]};var mO=or()?g.useLayoutEffect:g.useEffect;const XX=function(){var t=g.useRef(null);function e(){En.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=En(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return g.useEffect(function(){return function(){e()}},[]),[n,e]};var KX=[bi,Wa,Ga,Ob],YX=[bi,uO],vO=!1,ZX=!0;function yO(t){return t===Ga||t===Ob}const QX=function(t,e,n){var r=Ds(Tx),i=X(r,2),o=i[0],s=i[1],a=XX(),l=X(a,2),c=l[0],u=l[1];function f(){s(bi,!0)}var d=e?YX:KX;return mO(function(){if(o!==Tx&&o!==Ob){var h=d.indexOf(o),p=d[h+1],v=n(o);v===vO?s(p,!0):p&&c(function(_){function m(){_.isCanceled()||s(p,!0)}v===!0?m():Promise.resolve(v).then(m)})}},[t,o]),g.useEffect(function(){return function(){u()}},[]),[f,o]};function JX(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,f=r.motionLeaveImmediately,d=r.onAppearPrepare,h=r.onEnterPrepare,p=r.onLeavePrepare,v=r.onAppearStart,_=r.onEnterStart,m=r.onLeaveStart,y=r.onAppearActive,b=r.onEnterActive,w=r.onLeaveActive,S=r.onAppearEnd,x=r.onEnterEnd,E=r.onLeaveEnd,I=r.onVisibleChanged,M=Ds(),O=X(M,2),R=O[0],D=O[1],k=Ds(vs),j=X(k,2),G=j[0],F=j[1],N=Ds(null),A=X(N,2),z=A[0],B=A[1],U=g.useRef(!1),W=g.useRef(null);function Y(){return n()}var re=g.useRef(!1);function se(){F(vs,!0),B(null,!0)}function ge(ce){var Pe=Y();if(!(ce&&!ce.deadline&&ce.target!==Pe)){var fe=re.current,le;G===td&&fe?le=S==null?void 0:S(Pe,ce):G===nd&&fe?le=x==null?void 0:x(Pe,ce):G===rd&&fe&&(le=E==null?void 0:E(Pe,ce)),G!==vs&&fe&&le!==!1&&se()}}var ae=qX(ge),J=X(ae,1),q=J[0],Z=function(Pe){var fe,le,De;switch(Pe){case td:return fe={},V(fe,bi,d),V(fe,Wa,v),V(fe,Ga,y),fe;case nd:return le={},V(le,bi,h),V(le,Wa,_),V(le,Ga,b),le;case rd:return De={},V(De,bi,p),V(De,Wa,m),V(De,Ga,w),De;default:return{}}},ue=g.useMemo(function(){return Z(G)},[G]),ie=QX(G,!t,function(ce){if(ce===bi){var Pe=ue[bi];return Pe?Pe(Y()):vO}if(Ie in ue){var fe;B(((fe=ue[Ie])===null||fe===void 0?void 0:fe.call(ue,Y(),null))||null)}return Ie===Ga&&(q(Y()),u>0&&(clearTimeout(W.current),W.current=setTimeout(function(){ge({deadline:!0})},u))),Ie===uO&&se(),ZX}),Q=X(ie,2),oe=Q[0],Ie=Q[1],Le=yO(Ie);re.current=Le,mO(function(){D(e);var ce=U.current;U.current=!0;var Pe;!ce&&e&&a&&(Pe=td),ce&&e&&o&&(Pe=nd),(ce&&!e&&c||!ce&&f&&!e&&c)&&(Pe=rd);var fe=Z(Pe);Pe&&(t||fe[bi])?(F(Pe),oe()):F(vs)},[e]),g.useEffect(function(){(G===td&&!a||G===nd&&!o||G===rd&&!c)&&F(vs)},[a,o,c]),g.useEffect(function(){return function(){U.current=!1,clearTimeout(W.current)}},[]);var Te=g.useRef(!1);g.useEffect(function(){R&&(Te.current=!0),R!==void 0&&G===vs&&((Te.current||R)&&(I==null||I(R)),Te.current=!0)},[R,G]);var Fe=z;return ue[bi]&&Ie===Wa&&(Fe=$({transition:"none"},Fe)),[G,Ie,Fe,R??e]}function eK(t){var e=t;at(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=g.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,f=i.children,d=i.motionName,h=i.leavedClassName,p=i.eventProps,v=g.useContext(cO),_=v.motion,m=n(i,_),y=g.useRef(),b=g.useRef();function w(){try{return y.current instanceof HTMLElement?y.current:Dc(b.current)}catch{return null}}var S=JX(m,a,w,i),x=X(S,4),E=x[0],I=x[1],M=x[2],O=x[3],R=g.useRef(O);O&&(R.current=!0);var D=g.useCallback(function(B){y.current=B,gb(o,B)},[o]),k,j=$($({},p),{},{visible:a});if(!f)k=null;else if(E===vs)O?k=f($({},j),D):!c&&R.current&&h?k=f($($({},j),{},{className:h}),D):u||!c&&!h?k=f($($({},j),{},{style:{display:"none"}}),D):k=null;else{var G,F;I===bi?F="prepare":yO(I)?F="active":I===Wa&&(F="start");var N=Mx(d,"".concat(E,"-").concat(F));k=f($($({},j),{},{className:Ee(Mx(d,E),(G={},V(G,N,N&&F),V(G,d,typeof d=="string"),G)),style:M}),D)}if(g.isValidElement(k)&&Yu(k)){var A=k,z=A.ref;z||(k=g.cloneElement(k,{ref:D}))}return g.createElement(UX,{ref:b},k)});return r.displayName="CSSMotion",r}const vo=eK(pO);var Z0="add",Q0="keep",J0="remove",km="removed";function tK(t){var e;return t&&at(t)==="object"&&"key"in t?e=t:e={key:t},$($({},e),{},{key:String(e.key)})}function ey(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(tK)}function nK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=ey(t),s=ey(e);o.forEach(function(c){for(var u=!1,f=r;f<i;f+=1){var d=s[f];if(d.key===c.key){r<f&&(n=n.concat(s.slice(r,f).map(function(h){return $($({},h),{},{status:Z0})})),r=f),n.push($($({},d),{},{status:Q0})),r+=1,u=!0;break}}u||n.push($($({},c),{},{status:J0}))}),r<i&&(n=n.concat(s.slice(r).map(function(c){return $($({},c),{},{status:Z0})})));var a={};n.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){n=n.filter(function(u){var f=u.key,d=u.status;return f!==c||d!==J0}),n.forEach(function(u){u.key===c&&(u.status=Q0)})}),n}var rK=["component","children","onVisibleChanged","onAllRemoved"],iK=["status"],oK=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function sK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vo,n=function(r){Bl(o,r);var i=jl(o);function o(){var s;Ar(this,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),V(dt(s),"state",{keyEntities:[]}),V(dt(s),"removeKey",function(u){var f=s.state.keyEntities,d=f.map(function(h){return h.key!==u?h:$($({},h),{},{status:km})});return s.setState({keyEntities:d}),d.filter(function(h){var p=h.status;return p!==km}).length}),s}return Ir(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,f=c.children,d=c.onVisibleChanged,h=c.onAllRemoved,p=vn(c,rK),v=u||g.Fragment,_={};return oK.forEach(function(m){_[m]=p[m],delete p[m]}),delete p.keys,g.createElement(v,p,l.map(function(m,y){var b=m.status,w=vn(m,iK),S=b===Z0||b===Q0;return g.createElement(e,Be({},_,{key:w.key,visible:S,eventProps:w,onVisibleChanged:function(E){if(d==null||d(E,{key:w.key}),!E){var I=a.removeKey(w.key);I===0&&h&&h()}}}),function(x,E){return f($($({},x),{},{index:y}),E)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,f=ey(c),d=nK(u,f);return{keyEntities:d.filter(function(h){var p=u.find(function(v){var _=v.key;return h.key===_});return!(p&&p.status===km&&h.status===J0)})}}}]),o}(g.Component);return V(n,"defaultProps",{component:"div"}),n}sK(pO);function aK(t){const{children:e}=t,[,n]=qr(),{motion:r}=n,i=g.useRef(!1);return i.current=i.current||r===!1,i.current?g.createElement(VX,{motion:r},e):e}const lK=()=>null;var cK=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const uK=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],fK="ant";let qh,bO,_O;function Gd(){return qh||fK}function dK(){return bO||Pb}function hK(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const gK=t=>{let{prefixCls:e,iconPrefixCls:n,theme:r}=t;e!==void 0&&(qh=e),n!==void 0&&(bO=n),r&&(hK(r)?pX(Gd(),r):_O=r)},pK=()=>({getPrefixCls:(t,e)=>e||(t?`${Gd()}-${t}`:Gd()),getIconPrefixCls:dK,getRootPrefixCls:()=>qh||Gd(),getTheme:()=>_O}),mK=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:c,space:u,virtual:f,dropdownMatchSelectWidth:d,popupMatchSelectWidth:h,popupOverflow:p,legacyLocale:v,parentContext:_,iconPrefixCls:m,theme:y,componentDisabled:b,segmented:w,statistic:S,spin:x,calendar:E,carousel:I,cascader:M,collapse:O,typography:R,checkbox:D,descriptions:k,divider:j,drawer:G,skeleton:F,steps:N,image:A,layout:z,list:B,mentions:U,modal:W,progress:Y,result:re,slider:se,breadcrumb:ge,menu:ae,pagination:J,input:q,empty:Z,badge:ue,radio:ie,rate:Q,switch:oe,transfer:Ie,avatar:Le,message:Te,tag:Fe,table:ce,card:Pe,tabs:fe,timeline:le,timePicker:De,upload:tt,notification:He,tree:Me,colorPicker:pt,datePicker:mt,rangePicker:Ye,flex:Ze,wave:$e,dropdown:Tt,warning:dn}=t,xn=g.useCallback((Se,qe)=>{const{prefixCls:ve}=t;if(qe)return qe;const Re=ve||_.getPrefixCls("");return Se?`${Re}-${Se}`:Re},[_.getPrefixCls,t.prefixCls]),kt=m||_.iconPrefixCls||Pb,gt=n||_.csp;oO(kt,gt);const wt=jX(y,_.theme),Ft={csp:gt,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||v,direction:c,space:u,virtual:f,popupMatchSelectWidth:h??d,popupOverflow:p,getPrefixCls:xn,iconPrefixCls:kt,theme:wt,segmented:w,statistic:S,spin:x,calendar:E,carousel:I,cascader:M,collapse:O,typography:R,checkbox:D,descriptions:k,divider:j,drawer:G,skeleton:F,steps:N,image:A,input:q,layout:z,list:B,mentions:U,modal:W,progress:Y,result:re,slider:se,breadcrumb:ge,menu:ae,pagination:J,empty:Z,badge:ue,radio:ie,rate:Q,switch:oe,transfer:Ie,avatar:Le,message:Te,tag:Fe,table:ce,card:Pe,tabs:fe,timeline:le,timePicker:De,upload:tt,notification:He,tree:Me,colorPicker:pt,datePicker:mt,rangePicker:Ye,flex:Ze,wave:$e,dropdown:Tt,warning:dn},ct=Object.assign({},_);Object.keys(Ft).forEach(Se=>{Ft[Se]!==void 0&&(ct[Se]=Ft[Se])}),uK.forEach(Se=>{const qe=t[Se];qe&&(ct[Se]=qe)});const vt=jg(()=>ct,ct,(Se,qe)=>{const ve=Object.keys(Se),Re=Object.keys(qe);return ve.length!==Re.length||ve.some(ee=>Se[ee]!==qe[ee])}),Qt=g.useMemo(()=>({prefixCls:kt,csp:gt}),[kt,gt]);let nt=g.createElement(g.Fragment,null,g.createElement(lK,{dropdownMatchSelectWidth:d}),e);const Pt=g.useMemo(()=>{var Se,qe,ve,Re;return Ha(((Se=Zs.Form)===null||Se===void 0?void 0:Se.defaultValidateMessages)||{},((ve=(qe=vt.locale)===null||qe===void 0?void 0:qe.Form)===null||ve===void 0?void 0:ve.defaultValidateMessages)||{},((Re=vt.form)===null||Re===void 0?void 0:Re.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[vt,s==null?void 0:s.validateMessages]);Object.keys(Pt).length>0&&(nt=g.createElement(jq.Provider,{value:Pt},nt)),a&&(nt=g.createElement(Zq,{locale:a,_ANT_MARK__:Kq},nt)),(kt||gt)&&(nt=g.createElement(cb.Provider,{value:Qt},nt)),l&&(nt=g.createElement(mX,{size:l},nt)),nt=g.createElement(aK,null,nt);const rt=g.useMemo(()=>{const Se=wt||{},{algorithm:qe,token:ve,components:Re,cssVar:ee}=Se,be=cK(Se,["algorithm","token","components","cssVar"]),pe=qe&&(!Array.isArray(qe)||qe.length>0)?j0(qe):qM,ye={};Object.entries(Re||{}).forEach(et=>{let[jt,Jt]=et;const At=Object.assign({},Jt);"algorithm"in At&&(At.algorithm===!0?At.theme=pe:(Array.isArray(At.algorithm)||typeof At.algorithm=="function")&&(At.theme=j0(At.algorithm)),delete At.algorithm),ye[jt]=At});const Je=Object.assign(Object.assign({},Tu),ve);return Object.assign(Object.assign({},be),{theme:pe,token:Je,components:ye,override:Object.assign({override:Je},ye),cssVar:ee})},[wt]);return y&&(nt=g.createElement(KM.Provider,{value:rt},nt)),vt.warning&&(nt=g.createElement(Bq.Provider,{value:vt.warning},nt)),b!==void 0&&(nt=g.createElement(YM,{disabled:b},nt)),g.createElement(kn.Provider,{value:vt},nt)},sa=t=>{const e=g.useContext(kn),n=g.useContext(Tb);return g.createElement(mK,Object.assign({parentContext:e,legacyLocale:n},t))};sa.ConfigContext=kn;sa.SizeContext=Zg;sa.config=gK;sa.useConfig=vX;Object.defineProperty(sa,"SizeContext",{get:()=>Zg});var vK=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,yK=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,bK="".concat(vK," ").concat(yK).split(/[\s\n]+/),_K="aria-",wK="data-";function Ox(t,e){return t.indexOf(e)===0}function Pl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=$({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||Ox(i,_K))||n.data&&Ox(i,wK)||n.attr&&bK.includes(i))&&(r[i]=t[i])}),r}const{isValidElement:wO}=Nu;function SK(t){return t&&wO(t)&&t.type===g.Fragment}function EK(t,e,n){return wO(t)?g.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e}function SO(t,e){return EK(t,t,e)}const xK=t=>{const[,,,,e]=qr();return e?`${t}-css-var`:""},Lb=xK;var te={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=te.F1&&n<=te.F12)return!1;switch(n){case te.ALT:case te.CAPS_LOCK:case te.CONTEXT_MENU:case te.CTRL:case te.DOWN:case te.END:case te.ESC:case te.HOME:case te.INSERT:case te.LEFT:case te.MAC_FF_META:case te.META:case te.NUMLOCK:case te.NUM_CENTER:case te.PAGE_DOWN:case te.PAGE_UP:case te.PAUSE:case te.PRINT_SCREEN:case te.RIGHT:case te.SHIFT:case te.UP:case te.WIN_KEY:case te.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=te.ZERO&&e<=te.NINE||e>=te.NUM_ZERO&&e<=te.NUM_MULTIPLY||e>=te.A&&e<=te.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case te.SPACE:case te.QUESTION_MARK:case te.NUM_PLUS:case te.NUM_MINUS:case te.NUM_PERIOD:case te.NUM_DIVISION:case te.SEMICOLON:case te.DASH:case te.EQUALS:case te.COMMA:case te.PERIOD:case te.SLASH:case te.APOSTROPHE:case te.SINGLE_QUOTE:case te.OPEN_SQUARE_BRACKET:case te.BACKSLASH:case te.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const CK=de.createContext(void 0),Rb=CK,ys=100,TK=10,EO=ys*TK,xO={Modal:ys,Drawer:ys,Popover:ys,Popconfirm:ys,Tooltip:ys,Tour:ys},PK={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function AK(t){return t in xO}function Nb(t,e){const[,n]=qr(),r=de.useContext(Rb),i=AK(t);if(e!==void 0)return[e,e];let o=r??0;return i?(o+=(r?0:n.zIndexPopupBase)+xO[t],o=Math.min(o,n.zIndexPopupBase+EO)):o+=PK[t],[r===void 0?e:o,o]}function IK(){const[t,e]=g.useState([]),n=g.useCallback(r=>(e(i=>[].concat(Ae(i),[r])),()=>{e(i=>i.filter(o=>o!==r))}),[]);return[t,n]}function dr(){dr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(F,N,A){F[N]=A.value},o=typeof Symbol=="function"?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(F,N,A){return Object.defineProperty(F,N,{value:A,enumerable:!0,configurable:!0,writable:!0}),F[N]}try{c({},"")}catch{c=function(A,z,B){return A[z]=B}}function u(F,N,A,z){var B=N&&N.prototype instanceof m?N:m,U=Object.create(B.prototype),W=new j(z||[]);return i(U,"_invoke",{value:O(F,A,W)}),U}function f(F,N,A){try{return{type:"normal",arg:F.call(N,A)}}catch(z){return{type:"throw",arg:z}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",p="executing",v="completed",_={};function m(){}function y(){}function b(){}var w={};c(w,s,function(){return this});var S=Object.getPrototypeOf,x=S&&S(S(G([])));x&&x!==n&&r.call(x,s)&&(w=x);var E=b.prototype=m.prototype=Object.create(w);function I(F){["next","throw","return"].forEach(function(N){c(F,N,function(A){return this._invoke(N,A)})})}function M(F,N){function A(B,U,W,Y){var re=f(F[B],F,U);if(re.type!=="throw"){var se=re.arg,ge=se.value;return ge&&at(ge)=="object"&&r.call(ge,"__await")?N.resolve(ge.__await).then(function(ae){A("next",ae,W,Y)},function(ae){A("throw",ae,W,Y)}):N.resolve(ge).then(function(ae){se.value=ae,W(se)},function(ae){return A("throw",ae,W,Y)})}Y(re.arg)}var z;i(this,"_invoke",{value:function(U,W){function Y(){return new N(function(re,se){A(U,W,re,se)})}return z=z?z.then(Y,Y):Y()}})}function O(F,N,A){var z=d;return function(B,U){if(z===p)throw new Error("Generator is already running");if(z===v){if(B==="throw")throw U;return{value:t,done:!0}}for(A.method=B,A.arg=U;;){var W=A.delegate;if(W){var Y=R(W,A);if(Y){if(Y===_)continue;return Y}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(z===d)throw z=v,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);z=p;var re=f(F,N,A);if(re.type==="normal"){if(z=A.done?v:h,re.arg===_)continue;return{value:re.arg,done:A.done}}re.type==="throw"&&(z=v,A.method="throw",A.arg=re.arg)}}}function R(F,N){var A=N.method,z=F.iterator[A];if(z===t)return N.delegate=null,A==="throw"&&F.iterator.return&&(N.method="return",N.arg=t,R(F,N),N.method==="throw")||A!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+A+"' method")),_;var B=f(z,F.iterator,N.arg);if(B.type==="throw")return N.method="throw",N.arg=B.arg,N.delegate=null,_;var U=B.arg;return U?U.done?(N[F.resultName]=U.value,N.next=F.nextLoc,N.method!=="return"&&(N.method="next",N.arg=t),N.delegate=null,_):U:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,_)}function D(F){var N={tryLoc:F[0]};1 in F&&(N.catchLoc=F[1]),2 in F&&(N.finallyLoc=F[2],N.afterLoc=F[3]),this.tryEntries.push(N)}function k(F){var N=F.completion||{};N.type="normal",delete N.arg,F.completion=N}function j(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(D,this),this.reset(!0)}function G(F){if(F||F===""){var N=F[s];if(N)return N.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var A=-1,z=function B(){for(;++A<F.length;)if(r.call(F,A))return B.value=F[A],B.done=!1,B;return B.value=t,B.done=!0,B};return z.next=z}}throw new TypeError(at(F)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(F){var N=typeof F=="function"&&F.constructor;return!!N&&(N===y||(N.displayName||N.name)==="GeneratorFunction")},e.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,b):(F.__proto__=b,c(F,l,"GeneratorFunction")),F.prototype=Object.create(E),F},e.awrap=function(F){return{__await:F}},I(M.prototype),c(M.prototype,a,function(){return this}),e.AsyncIterator=M,e.async=function(F,N,A,z,B){B===void 0&&(B=Promise);var U=new M(u(F,N,A,z),B);return e.isGeneratorFunction(N)?U:U.next().then(function(W){return W.done?W.value:U.next()})},I(E),c(E,l,"Generator"),c(E,s,function(){return this}),c(E,"toString",function(){return"[object Generator]"}),e.keys=function(F){var N=Object(F),A=[];for(var z in N)A.push(z);return A.reverse(),function B(){for(;A.length;){var U=A.pop();if(U in N)return B.value=U,B.done=!1,B}return B.done=!0,B}},e.values=G,j.prototype={constructor:j,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!N)for(var A in this)A.charAt(0)==="t"&&r.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=t)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var A=this;function z(se,ge){return W.type="throw",W.arg=N,A.next=se,ge&&(A.method="next",A.arg=t),!!ge}for(var B=this.tryEntries.length-1;B>=0;--B){var U=this.tryEntries[B],W=U.completion;if(U.tryLoc==="root")return z("end");if(U.tryLoc<=this.prev){var Y=r.call(U,"catchLoc"),re=r.call(U,"finallyLoc");if(Y&&re){if(this.prev<U.catchLoc)return z(U.catchLoc,!0);if(this.prev<U.finallyLoc)return z(U.finallyLoc)}else if(Y){if(this.prev<U.catchLoc)return z(U.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return z(U.finallyLoc)}}}},abrupt:function(N,A){for(var z=this.tryEntries.length-1;z>=0;--z){var B=this.tryEntries[z];if(B.tryLoc<=this.prev&&r.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var U=B;break}}U&&(N==="break"||N==="continue")&&U.tryLoc<=A&&A<=U.finallyLoc&&(U=null);var W=U?U.completion:{};return W.type=N,W.arg=A,U?(this.method="next",this.next=U.finallyLoc,_):this.complete(W)},complete:function(N,A){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&A&&(this.next=A),_},finish:function(N){for(var A=this.tryEntries.length-1;A>=0;--A){var z=this.tryEntries[A];if(z.finallyLoc===N)return this.complete(z.completion,z.afterLoc),k(z),_}},catch:function(N){for(var A=this.tryEntries.length-1;A>=0;--A){var z=this.tryEntries[A];if(z.tryLoc===N){var B=z.completion;if(B.type==="throw"){var U=B.arg;k(z)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(N,A,z){return this.delegate={iterator:G(N),resultName:A,nextLoc:z},this.method==="next"&&(this.arg=t),_}},e}function Lx(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){n(c);return}a.done?e(l):Promise.resolve(l).then(r,i)}function aa(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){Lx(o,r,i,s,a,"next",l)}function a(l){Lx(o,r,i,s,a,"throw",l)}s(void 0)})}}var Ju=$({},CN),MK=Ju.version,OK=Ju.render,LK=Ju.unmountComponentAtNode,Jg;try{var RK=Number((MK||"").split(".")[0]);RK>=18&&(Jg=Ju.createRoot)}catch{}function Rx(t){var e=Ju.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&at(e)==="object"&&(e.usingClientEntryPoint=t)}var Xh="__rc_react_root__";function NK(t,e){Rx(!0);var n=e[Xh]||Jg(e);Rx(!1),n.render(t),e[Xh]=n}function kK(t,e){OK(t,e)}function CO(t,e){if(Jg){NK(t,e);return}kK(t,e)}function FK(t){return ty.apply(this,arguments)}function ty(){return ty=aa(dr().mark(function t(e){return dr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[Xh])===null||i===void 0||i.unmount(),delete e[Xh]}));case 1:case"end":return r.stop()}},t)})),ty.apply(this,arguments)}function DK(t){LK(t)}function TO(t){return ny.apply(this,arguments)}function ny(){return ny=aa(dr().mark(function t(e){return dr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Jg===void 0){r.next=2;break}return r.abrupt("return",FK(e));case 2:DK(e);case 3:case"end":return r.stop()}},t)})),ny.apply(this,arguments)}const Qs=(t,e,n)=>n!==void 0?n:`${t}-${e}`,PO=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},zK=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${t.motionEaseInOut}`,`opacity 0.35s ${t.motionEaseInOut}`].join(",")}}}}},BK=Mb("Wave",t=>[zK(t)]);function jK(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function Fm(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&jK(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function $K(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return Fm(e)?e:Fm(n)?n:Fm(r)?r:null}const AO="ant-wave-target";function Dm(t){return Number.isNaN(t)?0:t}const VK=t=>{const{className:e,target:n,component:r}=t,i=g.useRef(null),[o,s]=g.useState(null),[a,l]=g.useState([]),[c,u]=g.useState(0),[f,d]=g.useState(0),[h,p]=g.useState(0),[v,_]=g.useState(0),[m,y]=g.useState(!1),b={left:c,top:f,width:h,height:v,borderRadius:a.map(x=>`${x}px`).join(" ")};o&&(b["--wave-color"]=o);function w(){const x=getComputedStyle(n);s($K(n));const E=x.position==="static",{borderLeftWidth:I,borderTopWidth:M}=x;u(E?n.offsetLeft:Dm(-parseFloat(I))),d(E?n.offsetTop:Dm(-parseFloat(M))),p(n.offsetWidth),_(n.offsetHeight);const{borderTopLeftRadius:O,borderTopRightRadius:R,borderBottomLeftRadius:D,borderBottomRightRadius:k}=x;l([O,R,k,D].map(j=>Dm(parseFloat(j))))}if(g.useEffect(()=>{if(n){const x=En(()=>{w(),y(!0)});let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(w),E.observe(n)),()=>{En.cancel(x),E==null||E.disconnect()}}},[]),!m)return null;const S=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(AO));return g.createElement(vo,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(x,E)=>{var I;if(E.deadline||E.propertyName==="opacity"){const M=(I=i.current)===null||I===void 0?void 0:I.parentElement;TO(M).then(()=>{M==null||M.remove()})}return!1}},x=>{let{className:E}=x;return g.createElement("div",{ref:i,className:Ee(e,{"wave-quick":S},E),style:b})})},UK=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild),CO(g.createElement(VK,Object.assign({},e,{target:t})),i)},HK=UK;function WK(t,e,n){const{wave:r}=g.useContext(kn),[,i,o]=qr(),s=br(c=>{const u=t.current;if(r!=null&&r.disabled||!u)return;const f=u.querySelector(`.${AO}`)||u,{showEffect:d}=r||{};(d||HK)(f,{className:e,token:i,component:n,event:c,hashId:o})}),a=g.useRef();return c=>{En.cancel(a.current),a.current=En(()=>{s(c)})}}const GK=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=g.useContext(kn),o=g.useRef(null),s=i("wave"),[,a]=BK(s),l=WK(o,Ee(s,a),r);if(de.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==1||n)return;const f=d=>{!PO(d.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(d)};return u.addEventListener("click",f,!0),()=>{u.removeEventListener("click",f,!0)}},[n]),!de.isValidElement(e))return e??null;const c=Yu(e)?Ku(e.ref,o):o;return SO(e,{ref:c})},qK=GK,XK=t=>{const e=de.useContext(Zg);return de.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},IO=XK;globalThis&&globalThis.__rest;const MO=g.createContext(null),OO=(t,e)=>{const n=g.useContext(MO),r=g.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return Ee(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},LO=t=>{let{children:e}=t;return g.createElement(MO.Provider,{value:null},e)};var KK=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const RO=g.createContext(void 0),YK=t=>{const{getPrefixCls:e,direction:n}=g.useContext(kn),{prefixCls:r,size:i,className:o}=t,s=KK(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=qr();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=Ee(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},o,l);return g.createElement(RO.Provider,{value:i},g.createElement("div",Object.assign({},s,{className:u})))},ZK=YK,Nx=/^[\u4e00-\u9fa5]{2}$/,ry=Nx.test.bind(Nx);function NO(t){return t==="danger"?{danger:!0}:{type:t}}function kx(t){return typeof t=="string"}function zm(t){return t==="text"||t==="link"}function QK(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&kx(t.type)&&ry(t.props.children)?SO(t,{children:t.props.children.split("").join(n)}):kx(t)?ry(t)?de.createElement("span",null,t.split("").join(n)):de.createElement("span",null,t):SK(t)?de.createElement("span",null,t):t}function JK(t,e){let n=!1;const r=[];return de.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),de.Children.map(r,i=>QK(i,e))}const eY=g.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=Ee(`${o}-icon`,n);return de.createElement("span",{ref:e,className:s,style:r},i)}),kO=eY,Fx=g.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:i,iconClassName:o}=t;const s=Ee(`${n}-loading-icon`,r);return de.createElement(kO,{prefixCls:n,className:s,style:i,ref:e},de.createElement(HI,{className:o}))}),Bm=()=>({width:0,opacity:0,transform:"scale(0)"}),jm=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),tY=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o}=t,s=!!n;return r?de.createElement(Fx,{prefixCls:e,className:i,style:o}):de.createElement(vo,{visible:s,motionName:`${e}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:Bm,onAppearActive:jm,onEnterStart:Bm,onEnterActive:jm,onLeaveStart:jm,onLeaveActive:Bm},(a,l)=>{let{className:c,style:u}=a;return de.createElement(Fx,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),u),ref:l,iconClassName:c})})},nY=tY,Dx=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),rY=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},Dx(`${e}-primary`,i),Dx(`${e}-danger`,o)]}},iY=rY,oY=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${We(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:t.lineHeight,color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:t.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:t.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},tO(t)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&-icon-only${e}-compact-item`]:{flex:"none"}}}},yo=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),sY=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),aY=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),lY=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),Pu=(t,e,n,r,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},yo(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),kb=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},lY(t))}),FO=t=>Object.assign({},kb(t)),Kh=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),DO=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},FO(t)),{background:t.defaultBg,borderColor:t.defaultBorderColor,color:t.defaultColor,boxShadow:t.defaultShadow}),yo(t.componentCls,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),Pu(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},yo(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Pu(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),kb(t))}),cY=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},FO(t)),{color:t.primaryColor,background:t.colorPrimary,boxShadow:t.primaryShadow}),yo(t.componentCls,{color:t.colorTextLightSolid,background:t.colorPrimaryHover},{color:t.colorTextLightSolid,background:t.colorPrimaryActive})),Pu(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:t.colorError,boxShadow:t.dangerShadow,color:t.dangerColor},yo(t.componentCls,{background:t.colorErrorHover},{background:t.colorErrorActive})),Pu(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),kb(t))}),uY=t=>Object.assign(Object.assign({},DO(t)),{borderStyle:"dashed"}),fY=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},yo(t.componentCls,{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Kh(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},yo(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),Kh(t))}),dY=t=>Object.assign(Object.assign(Object.assign({},yo(t.componentCls,{color:t.colorText,background:t.textHoverBg},{color:t.colorText,background:t.colorBgTextActive})),Kh(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},Kh(t)),yo(t.componentCls,{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBg}))}),hY=t=>{const{componentCls:e}=t;return{[`${e}-default`]:DO(t),[`${e}-primary`]:cY(t),[`${e}-dashed`]:uY(t),[`${e}-link`]:fY(t),[`${e}-text`]:dY(t),[`${e}-ghost`]:Pu(t.componentCls,t.ghostBg,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)}},Fb=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:o,buttonPaddingHorizontal:s,iconCls:a,buttonPaddingVertical:l}=t,c=`${n}-icon-only`;return[{[`${n}${e}`]:{fontSize:i,height:r,padding:`${We(l)} ${We(s)}`,borderRadius:o,[`&${c}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[a]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:sY(t)},{[`${n}${n}-round${e}`]:aY(t)}]},gY=t=>Fb(Un(t,{fontSize:t.contentFontSize})),pY=t=>{const e=Un(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Fb(e,`${t.componentCls}-sm`)},mY=t=>{const e=Un(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Fb(e,`${t.componentCls}-lg`)},vY=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},zO=t=>{const{paddingInline:e,onlyIconSize:n,paddingBlock:r}=t;return Un(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},BO=t=>{const e=t.fontSize,n=t.fontSize,r=t.fontSizeLG;return{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,paddingBlock:Math.max((t.controlHeight-e*t.lineHeight)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-n*t.lineHeight)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-r*t.lineHeight)/2-t.lineWidth,0),onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,contentFontSize:e,contentFontSizeSM:n,contentFontSizeLG:r}},yY=Qu("Button",t=>{const e=zO(t);return[oY(e),pY(e),gY(e),mY(e),vY(e),hY(e),iY(e)]},BO,{unitless:{fontWeight:!0}});function bY(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function _Y(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function jO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},bY(t,r,e)),_Y(n,r,e))}}function wY(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function SY(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function EY(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},wY(t,e)),SY(t.componentCls,e))}}const xY=t=>{const{componentCls:e,calc:n}=t;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:`calc(100% + ${We(t.lineWidth)} * 2)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${We(t.lineWidth)} * 2)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},CY=lO(["Button","compact"],t=>{const e=zO(t);return[jO(e),EY(e),xY(e)]},BO);var TY=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function PY(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const AY=(t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,type:s="default",danger:a,shape:l="default",size:c,styles:u,disabled:f,className:d,rootClassName:h,children:p,icon:v,ghost:_=!1,block:m=!1,htmlType:y="button",classNames:b,style:w={}}=t,S=TY(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:x,autoInsertSpaceInButton:E,direction:I,button:M}=g.useContext(kn),O=x("btn",o),[R,D,k]=yY(O),j=g.useContext(Ab),G=f??j,F=g.useContext(RO),N=g.useMemo(()=>PY(i),[i]),[A,z]=g.useState(N.loading),[B,U]=g.useState(!1),Y=Ku(e,g.createRef()),re=g.Children.count(p)===1&&!v&&!zm(s);g.useEffect(()=>{let fe=null;N.delay>0?fe=setTimeout(()=>{fe=null,z(!0)},N.delay):z(N.loading);function le(){fe&&(clearTimeout(fe),fe=null)}return le},[N]),g.useEffect(()=>{if(!Y||!Y.current||E===!1)return;const fe=Y.current.textContent;re&&ry(fe)?B||U(!0):B&&U(!1)},[Y]);const se=fe=>{const{onClick:le}=t;if(A||G){fe.preventDefault();return}le==null||le(fe)},ge=E!==!1,{compactSize:ae,compactItemClassnames:J}=OO(O,I),q={large:"lg",small:"sm",middle:void 0},Z=IO(fe=>{var le,De;return(De=(le=c??ae)!==null&&le!==void 0?le:F)!==null&&De!==void 0?De:fe}),ue=Z&&q[Z]||"",ie=A?"loading":v,Q=_b(S,["navigate"]),oe=Ee(O,D,k,{[`${O}-${l}`]:l!=="default"&&l,[`${O}-${s}`]:s,[`${O}-${ue}`]:ue,[`${O}-icon-only`]:!p&&p!==0&&!!ie,[`${O}-background-ghost`]:_&&!zm(s),[`${O}-loading`]:A,[`${O}-two-chinese-chars`]:B&&ge&&!A,[`${O}-block`]:m,[`${O}-dangerous`]:!!a,[`${O}-rtl`]:I==="rtl"},J,d,h,M==null?void 0:M.className),Ie=Object.assign(Object.assign({},M==null?void 0:M.style),w),Le=Ee(b==null?void 0:b.icon,(n=M==null?void 0:M.classNames)===null||n===void 0?void 0:n.icon),Te=Object.assign(Object.assign({},(u==null?void 0:u.icon)||{}),((r=M==null?void 0:M.styles)===null||r===void 0?void 0:r.icon)||{}),Fe=v&&!A?de.createElement(kO,{prefixCls:O,className:Le,style:Te},v):de.createElement(nY,{existIcon:!!v,prefixCls:O,loading:!!A}),ce=p||p===0?JK(p,re&&ge):null;if(Q.href!==void 0)return R(de.createElement("a",Object.assign({},Q,{className:Ee(oe,{[`${O}-disabled`]:G}),href:G?void 0:Q.href,style:Ie,onClick:se,ref:Y,tabIndex:G?-1:0}),Fe,ce));let Pe=de.createElement("button",Object.assign({},S,{type:y,className:oe,style:Ie,onClick:se,disabled:G,ref:Y}),Fe,ce,J&&de.createElement(CY,{key:"compact",prefixCls:O}));return zm(s)||(Pe=de.createElement(qK,{component:"Button",disabled:!!A},Pe)),R(Pe)},Db=g.forwardRef(AY);Db.Group=ZK;Db.__ANT_BUTTON=!0;const zb=Db;function zx(t){return!!(t&&t.then)}const IY=t=>{const{type:e,children:n,prefixCls:r,buttonProps:i,close:o,autoFocus:s,emitEvent:a,isSilent:l,quitOnNullishReturnValue:c,actionFn:u}=t,f=g.useRef(!1),d=g.useRef(null),[h,p]=Ds(!1),v=function(){o==null||o.apply(void 0,arguments)};g.useEffect(()=>{let y=null;return s&&(y=setTimeout(()=>{var b;(b=d.current)===null||b===void 0||b.focus()})),()=>{y&&clearTimeout(y)}},[]);const _=y=>{zx(y)&&(p(!0),y.then(function(){p(!1,!0),v.apply(void 0,arguments),f.current=!1},b=>{if(p(!1,!0),f.current=!1,!(l!=null&&l()))return Promise.reject(b)}))},m=y=>{if(f.current)return;if(f.current=!0,!u){v();return}let b;if(a){if(b=u(y),c&&!zx(b)){f.current=!1,v(y);return}}else if(u.length)b=u(o),f.current=!1;else if(b=u(),!b){v();return}_(b)};return g.createElement(zb,Object.assign({},NO(e),{onClick:m,loading:h,prefixCls:r},i,{ref:d}),n)},$O=IY,ef=de.createContext({}),{Provider:VO}=ef,MY=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:r,mergedOkCancel:i,rootPrefixCls:o,close:s,onCancel:a,onConfirm:l}=g.useContext(ef);return i?de.createElement($O,{isSilent:r,actionFn:a,close:function(){s==null||s.apply(void 0,arguments),l==null||l(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:`${o}-btn`},n):null},Bx=MY,OY=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:r,rootPrefixCls:i,okTextLocale:o,okType:s,onConfirm:a,onOk:l}=g.useContext(ef);return de.createElement($O,{isSilent:n,type:s||"primary",actionFn:l,close:function(){e==null||e.apply(void 0,arguments),a==null||a(!0)},autoFocus:t==="ok",buttonProps:r,prefixCls:`${i}-btn`},o)},jx=OY;var UO=g.createContext(null),$x=[];function LY(t,e){var n=g.useState(function(){if(!or())return null;var p=document.createElement("div");return p}),r=X(n,1),i=r[0],o=g.useRef(!1),s=g.useContext(UO),a=g.useState($x),l=X(a,2),c=l[0],u=l[1],f=s||(o.current?void 0:function(p){u(function(v){var _=[p].concat(Ae(v));return _})});function d(){i.parentElement||document.body.appendChild(i),o.current=!0}function h(){var p;(p=i.parentElement)===null||p===void 0||p.removeChild(i),o.current=!1}return Zt(function(){return t?s?s(d):d():h(),h},[t]),Zt(function(){c.length&&(c.forEach(function(p){return p()}),u($x))},[c]),[i,f]}var $m;function RY(t){if(typeof document>"u")return 0;if(t||$m===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),$m=i-o}return $m}function Vx(t){var e=t.match(/^(.*)px$/),n=Number(e==null?void 0:e[1]);return Number.isNaN(n)?RY():n}function NY(t){if(typeof document>"u"||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:Vx(n),height:Vx(r)}}function kY(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var FY="rc-util-locker-".concat(Date.now()),Ux=0;function DY(t){var e=!!t,n=g.useState(function(){return Ux+=1,"".concat(FY,"_").concat(Ux)}),r=X(n,1),i=r[0];Zt(function(){if(e){var o=NY(document.body).width,s=kY();as(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else wu(i);return function(){wu(i)}},[e,i])}var Hx=!1;function zY(t){return typeof t=="boolean"&&(Hx=t),Hx}var Wx=function(e){return e===!1?!1:!or()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},ep=g.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,s=o===void 0?!0:o,a=t.children,l=g.useState(n),c=X(l,2),u=c[0],f=c[1],d=u||n;g.useEffect(function(){(s||n)&&f(n)},[n,s]);var h=g.useState(function(){return Wx(i)}),p=X(h,2),v=p[0],_=p[1];g.useEffect(function(){var R=Wx(i);_(R??null)});var m=LY(d&&!v),y=X(m,2),b=y[0],w=y[1],S=v??b;DY(r&&n&&or()&&(S===b||S===document.body));var x=null;if(a&&Yu(a)&&e){var E=a;x=E.ref}var I=Dl(x,e);if(!d||!or()||v===void 0)return null;var M=S===!1||zY(),O=a;return e&&(O=g.cloneElement(a,{ref:I})),g.createElement(UO.Provider,{value:w},M?O:Hs.createPortal(O,S))}),HO=g.createContext({});function BY(){var t=$({},Nu);return t.useId}var Gx=0,qx=BY();const WO=qx?function(e){var n=qx();return e||n}:function(e){var n=g.useState("ssr-id"),r=X(n,2),i=r[0],o=r[1];return g.useEffect(function(){var s=Gx;Gx+=1,o("rc_unique_".concat(s))},[]),e||i};function Xx(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function Kx(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function jY(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=Kx(i),n.top+=Kx(i,!0),n}const $Y=g.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var Yx={width:0,height:0,overflow:"hidden",outline:"none"},GO=de.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,s=t.ariaId,a=t.footer,l=t.closable,c=t.closeIcon,u=t.onClose,f=t.children,d=t.bodyStyle,h=t.bodyProps,p=t.modalRender,v=t.onMouseDown,_=t.onMouseUp,m=t.holderRef,y=t.visible,b=t.forceRender,w=t.width,S=t.height,x=t.classNames,E=t.styles,I=de.useContext(HO),M=I.panel,O=Dl(m,M),R=g.useRef(),D=g.useRef();de.useImperativeHandle(e,function(){return{focus:function(){var z;(z=R.current)===null||z===void 0||z.focus()},changeActive:function(z){var B=document,U=B.activeElement;z&&U===D.current?R.current.focus():!z&&U===R.current&&D.current.focus()}}});var k={};w!==void 0&&(k.width=w),S!==void 0&&(k.height=S);var j;a&&(j=de.createElement("div",{className:Ee("".concat(n,"-footer"),x==null?void 0:x.footer),style:$({},E==null?void 0:E.footer)},a));var G;o&&(G=de.createElement("div",{className:Ee("".concat(n,"-header"),x==null?void 0:x.header),style:$({},E==null?void 0:E.header)},de.createElement("div",{className:"".concat(n,"-title"),id:s},o)));var F;l&&(F=de.createElement("button",{type:"button",onClick:u,"aria-label":"Close",className:"".concat(n,"-close")},c||de.createElement("span",{className:"".concat(n,"-close-x")})));var N=de.createElement("div",{className:Ee("".concat(n,"-content"),x==null?void 0:x.content),style:E==null?void 0:E.content},F,G,de.createElement("div",Be({className:Ee("".concat(n,"-body"),x==null?void 0:x.body),style:$($({},d),E==null?void 0:E.body)},h),f),j);return de.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:O,style:$($({},i),k),className:Ee(n,r),onMouseDown:v,onMouseUp:_},de.createElement("div",{tabIndex:0,ref:R,style:Yx,"aria-hidden":"true"}),de.createElement($Y,{shouldUpdate:y||b},p?p(N):N),de.createElement("div",{tabIndex:0,ref:D,style:Yx,"aria-hidden":"true"}))}),qO=g.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,s=t.visible,a=t.forceRender,l=t.destroyOnClose,c=t.motionName,u=t.ariaId,f=t.onVisibleChanged,d=t.mousePosition,h=g.useRef(),p=g.useState(),v=X(p,2),_=v[0],m=v[1],y={};_&&(y.transformOrigin=_);function b(){var w=jY(h.current);m(d?"".concat(d.x-w.left,"px ").concat(d.y-w.top,"px"):"")}return g.createElement(vo,{visible:s,onVisibleChanged:f,onAppearPrepare:b,onEnterPrepare:b,forceRender:a,motionName:c,removeOnLeave:l,ref:h},function(w,S){var x=w.className,E=w.style;return g.createElement(GO,Be({},t,{ref:e,title:r,ariaId:u,prefixCls:n,holderRef:S,style:$($($({},E),i),y),className:Ee(o,x)}))})});qO.displayName="Content";function VY(t){var e=t.prefixCls,n=t.style,r=t.visible,i=t.maskProps,o=t.motionName,s=t.className;return g.createElement(vo,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(e,"-mask-hidden")},function(a,l){var c=a.className,u=a.style;return g.createElement("div",Be({ref:l,style:$($({},u),n),className:Ee("".concat(e,"-mask"),c,s)},i))})}function UY(t){var e=t.prefixCls,n=e===void 0?"rc-dialog":e,r=t.zIndex,i=t.visible,o=i===void 0?!1:i,s=t.keyboard,a=s===void 0?!0:s,l=t.focusTriggerAfterClose,c=l===void 0?!0:l,u=t.wrapStyle,f=t.wrapClassName,d=t.wrapProps,h=t.onClose,p=t.afterOpenChange,v=t.afterClose,_=t.transitionName,m=t.animation,y=t.closable,b=y===void 0?!0:y,w=t.mask,S=w===void 0?!0:w,x=t.maskTransitionName,E=t.maskAnimation,I=t.maskClosable,M=I===void 0?!0:I,O=t.maskStyle,R=t.maskProps,D=t.rootClassName,k=t.classNames,j=t.styles,G=g.useRef(),F=g.useRef(),N=g.useRef(),A=g.useState(o),z=X(A,2),B=z[0],U=z[1],W=WO();function Y(){T0(F.current,document.activeElement)||(G.current=document.activeElement)}function re(){if(!T0(F.current,document.activeElement)){var Q;(Q=N.current)===null||Q===void 0||Q.focus()}}function se(Q){if(Q)re();else{if(U(!1),S&&G.current&&c){try{G.current.focus({preventScroll:!0})}catch{}G.current=null}B&&(v==null||v())}p==null||p(Q)}function ge(Q){h==null||h(Q)}var ae=g.useRef(!1),J=g.useRef(),q=function(){clearTimeout(J.current),ae.current=!0},Z=function(){J.current=setTimeout(function(){ae.current=!1})},ue=null;M&&(ue=function(oe){ae.current?ae.current=!1:F.current===oe.target&&ge(oe)});function ie(Q){if(a&&Q.keyCode===te.ESC){Q.stopPropagation(),ge(Q);return}o&&Q.keyCode===te.TAB&&N.current.changeActive(!Q.shiftKey)}return g.useEffect(function(){o&&(U(!0),Y())},[o]),g.useEffect(function(){return function(){clearTimeout(J.current)}},[]),g.createElement("div",Be({className:Ee("".concat(n,"-root"),D)},Pl(t,{data:!0})),g.createElement(VY,{prefixCls:n,visible:S&&o,motionName:Xx(n,x,E),style:$($({zIndex:r},O),j==null?void 0:j.mask),maskProps:R,className:k==null?void 0:k.mask}),g.createElement("div",Be({tabIndex:-1,onKeyDown:ie,className:Ee("".concat(n,"-wrap"),f,k==null?void 0:k.wrapper),ref:F,onClick:ue,style:$($($({zIndex:r},u),j==null?void 0:j.wrapper),{},{display:B?null:"none"})},d),g.createElement(qO,Be({},t,{onMouseDown:q,onMouseUp:Z,ref:N,closable:b,ariaId:W,prefixCls:n,visible:o&&B,onClose:ge,onVisibleChanged:se,motionName:Xx(n,_,m)}))))}var XO=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,o=e.destroyOnClose,s=o===void 0?!1:o,a=e.afterClose,l=e.panelRef,c=g.useState(n),u=X(c,2),f=u[0],d=u[1],h=g.useMemo(function(){return{panel:l}},[l]);return g.useEffect(function(){n&&d(!0)},[n]),!i&&s&&!f?null:g.createElement(HO.Provider,{value:h},g.createElement(ep,{open:n||i||f,autoDestroy:!1,getContainer:r,autoLock:n||f},g.createElement(UY,Be({},e,{destroyOnClose:s,afterClose:function(){a==null||a(),d(!1)}}))))};XO.displayName="Dialog";function HY(t,e,n){return typeof t=="boolean"?t:e===void 0?!!n:e!==!1&&e!==null}function KO(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:de.createElement(Ig,null),i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(!HY(t,e,i))return[!1,null];const s=typeof e=="boolean"||e===void 0||e===null?r:e;return[!0,n?n(s):s]}const WY=()=>or()&&window.document.documentElement;var Ts="RC_FORM_INTERNAL_HOOKS",Ot=function(){fr(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Al=g.createContext({getFieldValue:Ot,getFieldsValue:Ot,getFieldError:Ot,getFieldWarning:Ot,getFieldsError:Ot,isFieldsTouched:Ot,isFieldTouched:Ot,isFieldValidating:Ot,isFieldsValidating:Ot,resetFields:Ot,setFields:Ot,setFieldValue:Ot,setFieldsValue:Ot,validateFields:Ot,submit:Ot,getInternalHooks:function(){return Ot(),{dispatch:Ot,initEntityValue:Ot,registerField:Ot,useSubscribe:Ot,setInitialValues:Ot,destroyForm:Ot,setCallbacks:Ot,registerWatch:Ot,getFields:Ot,setValidateMessages:Ot,setPreserve:Ot,getInitialValue:Ot}}}),Yh=g.createContext(null);function iy(t){return t==null?[]:Array.isArray(t)?t:[t]}function GY(t){return t&&!!t._init}function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(this,arguments)}function qY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Au(t,e)}function oy(t){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(t)}function Au(t,e){return Au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Au(t,e)}function XY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qd(t,e,n){return XY()?qd=Reflect.construct.bind():qd=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),c=new l;return s&&Au(c,s.prototype),c},qd.apply(null,arguments)}function KY(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function sy(t){var e=typeof Map=="function"?new Map:void 0;return sy=function(r){if(r===null||!KY(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return qd(r,arguments,oy(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Au(i,r)},sy(t)}var YY=/%[sdj%]/g,ZY=function(){};typeof process<"u"&&process.env;function ay(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Vr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(YY,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function QY(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Mn(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||QY(e)&&typeof t=="string"&&!t)}function JY(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function Zx(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function eZ(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var Qx=function(t){qY(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(sy(Error));function tZ(t,e,n,r,i){if(e.first){var o=new Promise(function(d,h){var p=function(m){return r(m),m.length?h(new Qx(m,ay(m))):d(i)},v=eZ(t);Zx(v,n,p)});return o.catch(function(d){return d}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],f=new Promise(function(d,h){var p=function(_){if(u.push.apply(u,_),c++,c===l)return r(u),u.length?h(new Qx(u,ay(u))):d(i)};a.length||(r(u),d(i)),a.forEach(function(v){var _=t[v];s.indexOf(v)!==-1?Zx(_,n,p):JY(_,n,p)})});return f.catch(function(d){return d}),f}function nZ(t){return!!(t&&t.message!==void 0)}function rZ(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function Jx(t,e){return function(n){var r;return t.fullFields?r=rZ(e,t.fullFields):r=e[n.field||t.fullField],nZ(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function eC(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Ps({},t[n],r):t[n]=r}}return t}var YO=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||Mn(n,s||e.type))&&i.push(Vr(o.messages.required,e.fullField))},iZ=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Vr(o.messages.whitespace,e.fullField))},od,oZ=function(){if(od)return od;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),l=function(w){return w&&w.exact?o:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+i+e(w)+")","g")};l.v4=function(b){return b&&b.exact?s:new RegExp(""+e(b)+n+e(b),"g")},l.v6=function(b){return b&&b.exact?a:new RegExp(""+e(b)+i+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',y="(?:"+c+"|www\\.)"+u+"(?:localhost|"+f+"|"+d+"|"+h+p+v+")"+_+m;return od=new RegExp("(?:^"+y+"$)","i"),od},tC={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},bc={integer:function(e){return bc.number(e)&&parseInt(e,10)===e},float:function(e){return bc.number(e)&&!bc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!bc.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(tC.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(oZ())},hex:function(e){return typeof e=="string"&&!!e.match(tC.hex)}},sZ=function(e,n,r,i,o){if(e.required&&n===void 0){YO(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?bc[a](n)||i.push(Vr(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&i.push(Vr(o.messages.types[a],e.fullField,e.type))},aZ=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(u=n.length),h&&(u=n.replace(c,"_").length),s?u!==e.len&&i.push(Vr(o.messages[f].len,e.fullField,e.len)):a&&!l&&u<e.min?i.push(Vr(o.messages[f].min,e.fullField,e.min)):l&&!a&&u>e.max?i.push(Vr(o.messages[f].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&i.push(Vr(o.messages[f].range,e.fullField,e.min,e.max))},_a="enum",lZ=function(e,n,r,i,o){e[_a]=Array.isArray(e[_a])?e[_a]:[],e[_a].indexOf(n)===-1&&i.push(Vr(o.messages[_a],e.fullField,e[_a].join(", ")))},cZ=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Vr(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(Vr(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},st={required:YO,whitespace:iZ,type:sZ,range:aZ,enum:lZ,pattern:cZ},uZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n,"string")&&!e.required)return r();st.required(e,n,i,s,o,"string"),Mn(n,"string")||(st.type(e,n,i,s,o),st.range(e,n,i,s,o),st.pattern(e,n,i,s,o),e.whitespace===!0&&st.whitespace(e,n,i,s,o))}r(s)},fZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),n!==void 0&&st.type(e,n,i,s,o)}r(s)},dZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),n!==void 0&&(st.type(e,n,i,s,o),st.range(e,n,i,s,o))}r(s)},hZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),n!==void 0&&st.type(e,n,i,s,o)}r(s)},gZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),Mn(n)||st.type(e,n,i,s,o)}r(s)},pZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),n!==void 0&&(st.type(e,n,i,s,o),st.range(e,n,i,s,o))}r(s)},mZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),n!==void 0&&(st.type(e,n,i,s,o),st.range(e,n,i,s,o))}r(s)},vZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();st.required(e,n,i,s,o,"array"),n!=null&&(st.type(e,n,i,s,o),st.range(e,n,i,s,o))}r(s)},yZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),n!==void 0&&st.type(e,n,i,s,o)}r(s)},bZ="enum",_Z=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o),n!==void 0&&st[bZ](e,n,i,s,o)}r(s)},wZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n,"string")&&!e.required)return r();st.required(e,n,i,s,o),Mn(n,"string")||st.pattern(e,n,i,s,o)}r(s)},SZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n,"date")&&!e.required)return r();if(st.required(e,n,i,s,o),!Mn(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),st.type(e,l,i,s,o),l&&st.range(e,l.getTime(),i,s,o)}}r(s)},EZ=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;st.required(e,n,i,s,o,a),r(s)},Vm=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Mn(n,s)&&!e.required)return r();st.required(e,n,i,a,o,s),Mn(n,s)||st.type(e,n,i,a,o)}r(a)},xZ=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Mn(n)&&!e.required)return r();st.required(e,n,i,s,o)}r(s)},jc={string:uZ,method:fZ,number:dZ,boolean:hZ,regexp:gZ,integer:pZ,float:mZ,array:vZ,object:yZ,enum:_Z,pattern:wZ,date:SZ,url:Vm,hex:Vm,email:Vm,required:EZ,any:xZ};function ly(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var cy=ly(),tf=function(){function t(n){this.rules=null,this._messages=cy,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=eC(ly(),r)),this._messages},e.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,c=o;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,a),Promise.resolve(a);function u(v){var _=[],m={};function y(w){if(Array.isArray(w)){var S;_=(S=_).concat.apply(S,w)}else _.push(w)}for(var b=0;b<v.length;b++)y(v[b]);_.length?(m=ay(_),c(_,m)):c(null,a)}if(l.messages){var f=this.messages();f===cy&&(f=ly()),eC(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(v){var _=s.rules[v],m=a[v];_.forEach(function(y){var b=y;typeof b.transform=="function"&&(a===r&&(a=Ps({},a)),m=a[v]=b.transform(m)),typeof b=="function"?b={validator:b}:b=Ps({},b),b.validator=s.getValidationMethod(b),b.validator&&(b.field=v,b.fullField=b.fullField||v,b.type=s.getType(b),d[v]=d[v]||[],d[v].push({rule:b,value:m,source:a,field:v}))})});var p={};return tZ(d,l,function(v,_){var m=v.rule,y=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");y=y&&(m.required||!m.required&&v.value),m.field=v.field;function b(x,E){return Ps({},E,{fullField:m.fullField+"."+x,fullFields:m.fullFields?[].concat(m.fullFields,[x]):[x]})}function w(x){x===void 0&&(x=[]);var E=Array.isArray(x)?x:[x];!l.suppressWarning&&E.length&&t.warning("async-validator:",E),E.length&&m.message!==void 0&&(E=[].concat(m.message));var I=E.map(Jx(m,a));if(l.first&&I.length)return p[m.field]=1,_(I);if(!y)_(I);else{if(m.required&&!v.value)return m.message!==void 0?I=[].concat(m.message).map(Jx(m,a)):l.error&&(I=[l.error(m,Vr(l.messages.required,m.field))]),_(I);var M={};m.defaultField&&Object.keys(v.value).map(function(D){M[D]=m.defaultField}),M=Ps({},M,v.rule.fields);var O={};Object.keys(M).forEach(function(D){var k=M[D],j=Array.isArray(k)?k:[k];O[D]=j.map(b.bind(null,D))});var R=new t(O);R.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),R.validate(v.value,v.rule.options||l,function(D){var k=[];I&&I.length&&k.push.apply(k,I),D&&D.length&&k.push.apply(k,D),_(k.length?k:null)})}}var S;if(m.asyncValidator)S=m.asyncValidator(m,v.value,w,v.source,l);else if(m.validator){try{S=m.validator(m,v.value,w,v.source,l)}catch(x){console.error==null||console.error(x),l.suppressValidatorError||setTimeout(function(){throw x},0),w(x.message)}S===!0?w():S===!1?w(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):S instanceof Array?w(S):S instanceof Error&&w(S.message)}S&&S.then&&S.then(function(){return w()},function(x){return w(x)})},function(v){u(v)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!jc.hasOwnProperty(r.type))throw new Error(Vr("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?jc.required:jc[this.getType(r)]||void 0},t}();tf.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");jc[e]=n};tf.warning=ZY;tf.messages=cy;tf.validators=jc;var Fr="'${name}' is not a valid ${type}",ZO={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Fr,method:Fr,array:Fr,object:Fr,number:Fr,date:Fr,boolean:Fr,integer:Fr,float:Fr,regexp:Fr,email:Fr,url:Fr,hex:Fr},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},nC=tf;function CZ(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}var rC="CODE_LOGIC_ERROR";function uy(t,e,n,r,i){return fy.apply(this,arguments)}function fy(){return fy=aa(dr().mark(function t(e,n,r,i,o){var s,a,l,c,u,f,d,h,p;return dr().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return s=$({},r),delete s.ruleIndex,nC.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(m){return console.error(m),Promise.reject(rC)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new nC(V({},e,[s])),u=Ha(ZO,i.validateMessages),c.messages(u),f=[],_.prev=10,_.next=13,Promise.resolve(c.validate(V({},e,n),$({},i)));case 13:_.next=18;break;case 15:_.prev=15,_.t0=_.catch(10),_.t0.errors&&(f=_.t0.errors.map(function(m,y){var b=m.message,w=b===rC?u.default:b;return g.isValidElement(w)?g.cloneElement(w,{key:"error_".concat(y)}):w}));case 18:if(!(!f.length&&l)){_.next=23;break}return _.next=21,Promise.all(n.map(function(m,y){return uy("".concat(e,".").concat(y),m,l,i,o)}));case 21:return d=_.sent,_.abrupt("return",d.reduce(function(m,y){return[].concat(Ae(m),Ae(y))},[]));case 23:return h=$($({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),p=f.map(function(m){return typeof m=="string"?CZ(m,h):m}),_.abrupt("return",p);case 26:case"end":return _.stop()}},t,null,[[10,15]])})),fy.apply(this,arguments)}function TZ(t,e,n,r,i,o){var s=t.join("."),a=n.map(function(u,f){var d=u.validator,h=$($({},u),{},{ruleIndex:f});return d&&(h.validator=function(p,v,_){var m=!1,y=function(){for(var S=arguments.length,x=new Array(S),E=0;E<S;E++)x[E]=arguments[E];Promise.resolve().then(function(){fr(!m,"Your validator function has already return a promise. `callback` will be ignored."),m||_.apply(void 0,x)})},b=d(p,v,y);m=b&&typeof b.then=="function"&&typeof b.catch=="function",fr(m,"`callback` is deprecated. Please return a promise instead."),m&&b.then(function(){_()}).catch(function(w){_(w||" ")})}),h}).sort(function(u,f){var d=u.warningOnly,h=u.ruleIndex,p=f.warningOnly,v=f.ruleIndex;return!!d==!!p?h-v:d?1:-1}),l;if(i===!0)l=new Promise(function(){var u=aa(dr().mark(function f(d,h){var p,v,_;return dr().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:p=0;case 1:if(!(p<a.length)){y.next=12;break}return v=a[p],y.next=5,uy(s,e,v,r,o);case 5:if(_=y.sent,!_.length){y.next=9;break}return h([{errors:_,rule:v}]),y.abrupt("return");case 9:p+=1,y.next=1;break;case 12:d([]);case 13:case"end":return y.stop()}},f)}));return function(f,d){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return uy(s,e,u,r,o).then(function(f){return{errors:f,rule:u}})});l=(i?AZ(c):PZ(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function PZ(t){return dy.apply(this,arguments)}function dy(){return dy=aa(dr().mark(function t(e){return dr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,Ae(i));return s}));case 1:case"end":return r.stop()}},t)})),dy.apply(this,arguments)}function AZ(t){return hy.apply(this,arguments)}function hy(){return hy=aa(dr().mark(function t(e){var n;return dr().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),hy.apply(this,arguments)}function pn(t){return iy(t)}function iC(t,e){var n={};return e.forEach(function(r){var i=Hi(t,r);n=yi(n,r,i)}),n}function il(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return QO(e,r,n)})}function QO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function IZ(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||at(t)!=="object"||at(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return Ae(i).every(function(o){var s=t[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function MZ(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&at(e.target)==="object"&&t in e.target?e.target[t]:e}function oC(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(Ae(t.slice(0,n)),[i],Ae(t.slice(n,e)),Ae(t.slice(e+1,r))):o<0?[].concat(Ae(t.slice(0,e)),Ae(t.slice(e+1,n+1)),[i],Ae(t.slice(n+1,r))):t}var OZ=["name"],Jr=[];function sC(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var Bb=function(t){Bl(n,t);var e=jl(n);function n(r){var i;if(Ar(this,n),i=e.call(this,r),V(dt(i),"state",{resetCount:0}),V(dt(i),"cancelRegisterFunc",null),V(dt(i),"mounted",!1),V(dt(i),"touched",!1),V(dt(i),"dirty",!1),V(dt(i),"validatePromise",void 0),V(dt(i),"prevValidating",void 0),V(dt(i),"errors",Jr),V(dt(i),"warnings",Jr),V(dt(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,f=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,pn(f)),i.cancelRegisterFunc=null}),V(dt(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,f=u.prefixName,d=f===void 0?[]:f;return c!==void 0?[].concat(Ae(d),Ae(c)):[]}),V(dt(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,f=l.fieldContext;return u.map(function(d){return typeof d=="function"?d(f):d})}),V(dt(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),V(dt(i),"metaCache",null),V(dt(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=$($({},i.getMeta()),{},{destroy:l});xM(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),V(dt(i),"onStoreChange",function(l,c,u){var f=i.props,d=f.shouldUpdate,h=f.dependencies,p=h===void 0?[]:h,v=f.onReset,_=u.store,m=i.getNamePath(),y=i.getValue(l),b=i.getValue(_),w=c&&il(c,m);switch(u.type==="valueUpdate"&&u.source==="external"&&y!==b&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Jr,i.warnings=Jr,i.triggerMetaEvent()),u.type){case"reset":if(!c||w){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Jr,i.warnings=Jr,i.triggerMetaEvent(),v==null||v(),i.refresh();return}break;case"remove":{if(d){i.reRender();return}break}case"setField":{var S=u.data;if(w){"touched"in S&&(i.touched=S.touched),"validating"in S&&!("originRCField"in S)&&(i.validatePromise=S.validating?Promise.resolve([]):null),"errors"in S&&(i.errors=S.errors||Jr),"warnings"in S&&(i.warnings=S.warnings||Jr),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in S&&il(c,m,!0)){i.reRender();return}if(d&&!m.length&&sC(d,l,_,y,b,u)){i.reRender();return}break}case"dependenciesUpdate":{var x=p.map(pn);if(x.some(function(E){return il(u.relatedFields,E)})){i.reRender();return}break}default:if(w||(!p.length||m.length||d)&&sC(d,l,_,y,b,u)){i.reRender();return}break}d===!0&&i.reRender()}),V(dt(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),f=l||{},d=f.triggerName,h=f.validateOnly,p=h===void 0?!1:h,v=Promise.resolve().then(aa(dr().mark(function _(){var m,y,b,w,S,x,E;return dr().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(i.mounted){M.next=2;break}return M.abrupt("return",[]);case 2:if(m=i.props,y=m.validateFirst,b=y===void 0?!1:y,w=m.messageVariables,S=m.validateDebounce,x=i.getRules(),d&&(x=x.filter(function(O){return O}).filter(function(O){var R=O.validateTrigger;if(!R)return!0;var D=iy(R);return D.includes(d)})),!(S&&d)){M.next=10;break}return M.next=8,new Promise(function(O){setTimeout(O,S)});case 8:if(i.validatePromise===v){M.next=10;break}return M.abrupt("return",[]);case 10:return E=TZ(c,u,x,l,b,w),E.catch(function(O){return O}).then(function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jr;if(i.validatePromise===v){var R;i.validatePromise=null;var D=[],k=[];(R=O.forEach)===null||R===void 0||R.call(O,function(j){var G=j.rule.warningOnly,F=j.errors,N=F===void 0?Jr:F;G?k.push.apply(k,Ae(N)):D.push.apply(D,Ae(N))}),i.errors=D,i.warnings=k,i.triggerMetaEvent(),i.reRender()}}),M.abrupt("return",E);case 13:case"end":return M.stop()}},_)})));return p||(i.validatePromise=v,i.dirty=!0,i.errors=Jr,i.warnings=Jr,i.triggerMetaEvent(),i.reRender()),v}),V(dt(i),"isFieldValidating",function(){return!!i.validatePromise}),V(dt(i),"isFieldTouched",function(){return i.touched}),V(dt(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(Ts),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),V(dt(i),"getErrors",function(){return i.errors}),V(dt(i),"getWarnings",function(){return i.warnings}),V(dt(i),"isListField",function(){return i.props.isListField}),V(dt(i),"isList",function(){return i.props.isList}),V(dt(i),"isPreserve",function(){return i.props.preserve}),V(dt(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),V(dt(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return $($({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=Eu(l);return u.length!==1||!g.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),V(dt(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return Hi(l||c(!0),u)}),V(dt(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.trigger,f=c.validateTrigger,d=c.getValueFromEvent,h=c.normalize,p=c.valuePropName,v=c.getValueProps,_=c.fieldContext,m=f!==void 0?f:_.validateTrigger,y=i.getNamePath(),b=_.getInternalHooks,w=_.getFieldsValue,S=b(Ts),x=S.dispatch,E=i.getValue(),I=v||function(D){return V({},p,D)},M=l[u],O=$($({},l),I(E));O[u]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var D,k=arguments.length,j=new Array(k),G=0;G<k;G++)j[G]=arguments[G];d?D=d.apply(void 0,j):D=MZ.apply(void 0,[p].concat(j)),h&&(D=h(D,E,w(!0))),x({type:"updateValue",namePath:y,value:D}),M&&M.apply(void 0,j)};var R=iy(m||[]);return R.forEach(function(D){var k=O[D];O[D]=function(){k&&k.apply(void 0,arguments);var j=i.props.rules;j&&j.length&&x({type:"validateField",namePath:y,triggerName:D})}}),O}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(Ts),a=s.initEntityValue;a(dt(i))}return i}return Ir(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(Ts),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,c;return l?c=a:g.isValidElement(a)?c=g.cloneElement(a,this.getControlled(a.props)):(fr(!a,"`children` of Field is not validate ReactElement."),c=a),g.createElement(g.Fragment,{key:i},c)}}]),n}(g.Component);V(Bb,"contextType",Al);V(Bb,"defaultProps",{trigger:"onChange",valuePropName:"value"});function JO(t){var e=t.name,n=vn(t,OZ),r=g.useContext(Al),i=g.useContext(Yh),o=e!==void 0?pn(e):void 0,s="keep";return n.isListField||(s="_".concat((o||[]).join("_"))),g.createElement(Bb,Be({key:s,name:o,isListField:!!i},n,{fieldContext:r}))}function LZ(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,s=t.isListField,a=g.useContext(Al),l=g.useContext(Yh),c=g.useRef({keys:[],id:0}),u=c.current,f=g.useMemo(function(){var v=pn(a.prefixName)||[];return[].concat(Ae(v),Ae(pn(e)))},[a.prefixName,e]),d=g.useMemo(function(){return $($({},a),{},{prefixName:f})},[a,f]),h=g.useMemo(function(){return{getKey:function(_){var m=f.length,y=_[m];return[u.keys[y],_.slice(m+1)]}}},[f]);if(typeof r!="function")return fr(!1,"Form.List only accepts function as children."),null;var p=function(_,m,y){var b=y.source;return b==="internal"?!1:_!==m};return g.createElement(Yh.Provider,{value:h},g.createElement(Al.Provider,{value:d},g.createElement(JO,{name:[],shouldUpdate:p,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:s??!!l},function(v,_){var m=v.value,y=m===void 0?[]:m,b=v.onChange,w=a.getFieldValue,S=function(){var M=w(f||[]);return M||[]},x={add:function(M,O){var R=S();O>=0&&O<=R.length?(u.keys=[].concat(Ae(u.keys.slice(0,O)),[u.id],Ae(u.keys.slice(O))),b([].concat(Ae(R.slice(0,O)),[M],Ae(R.slice(O))))):(u.keys=[].concat(Ae(u.keys),[u.id]),b([].concat(Ae(R),[M]))),u.id+=1},remove:function(M){var O=S(),R=new Set(Array.isArray(M)?M:[M]);R.size<=0||(u.keys=u.keys.filter(function(D,k){return!R.has(k)}),b(O.filter(function(D,k){return!R.has(k)})))},move:function(M,O){if(M!==O){var R=S();M<0||M>=R.length||O<0||O>=R.length||(u.keys=oC(u.keys,M,O),b(oC(R,M,O)))}}},E=y||[];return Array.isArray(E)||(E=[]),r(E.map(function(I,M){var O=u.keys[M];return O===void 0&&(u.keys[M]=u.id,O=u.keys[M],u.id+=1),{name:M,key:O,isListField:!0}}),x,_)})))}function RZ(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var eL="__@field_split__";function Um(t){return t.map(function(e){return"".concat(at(e),":").concat(e)}).join(eL)}var wa=function(){function t(){Ar(this,t),V(this,"kvs",new Map)}return Ir(t,[{key:"set",value:function(n,r){this.kvs.set(Um(n),r)}},{key:"get",value:function(n){return this.kvs.get(Um(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(Um(n))}},{key:"map",value:function(n){return Ae(this.kvs.entries()).map(function(r){var i=X(r,2),o=i[0],s=i[1],a=o.split(eL);return n({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=X(c,3),f=u[1],d=u[2];return f==="number"?Number(d):d}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),NZ=["name"],kZ=Ir(function t(e){var n=this;Ar(this,t),V(this,"formHooked",!1),V(this,"forceRootUpdate",void 0),V(this,"subscribable",!0),V(this,"store",{}),V(this,"fieldEntities",[]),V(this,"initialValues",{}),V(this,"callbacks",{}),V(this,"validateMessages",null),V(this,"preserve",null),V(this,"lastValidatePromise",null),V(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),V(this,"getInternalHooks",function(r){return r===Ts?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(fr(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),V(this,"useSubscribe",function(r){n.subscribable=r}),V(this,"prevWithoutPreserves",null),V(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,s=Ha(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=yi(s,l,Hi(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),V(this,"destroyForm",function(){var r=new wa;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r}),V(this,"getInitialValue",function(r){var i=Hi(n.initialValues,r);return r.length?Ha(i):i}),V(this,"setCallbacks",function(r){n.callbacks=r}),V(this,"setValidateMessages",function(r){n.validateMessages=r}),V(this,"setPreserve",function(r){n.preserve=r}),V(this,"watchList",[]),V(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),V(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}}),V(this,"timeoutId",null),V(this,"warningUnhooked",function(){}),V(this,"updateStore",function(r){n.store=r}),V(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),V(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new wa;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),V(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=pn(o);return i.get(s)||{INVALIDATE_NAME_PATH:pn(o)}})}),V(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&at(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var f,d,h="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(a){var p,v;if((p=(v=u).isList)!==null&&p!==void 0&&p.call(v))return}else if(!o&&(f=(d=u).isListField)!==null&&f!==void 0&&f.call(d))return;if(!s)c.push(h);else{var _="getMeta"in u?u.getMeta():null;s(_)&&c.push(h)}}),iC(n.store,c.map(pn))}),V(this,"getFieldValue",function(r){n.warningUnhooked();var i=pn(r);return Hi(n.store,i)}),V(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:pn(r[s]),errors:[],warnings:[]}})}),V(this,"getFieldError",function(r){n.warningUnhooked();var i=pn(r),o=n.getFieldsError([i])[0];return o.errors}),V(this,"getFieldWarning",function(r){n.warningUnhooked();var i=pn(r),o=n.getFieldsError([i])[0];return o.warnings}),V(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(pn),c=!1):(l=null,c=s):(l=s.map(pn),c=a);var u=n.getFieldEntities(!0),f=function(_){return _.isFieldTouched()};if(!l)return c?u.every(f):u.some(f);var d=new wa;l.forEach(function(v){d.set(v,[])}),u.forEach(function(v){var _=v.getNamePath();l.forEach(function(m){m.every(function(y,b){return _[b]===y})&&d.update(m,function(y){return[].concat(Ae(y),[v])})})});var h=function(_){return _.some(f)},p=d.map(function(v){var _=v.value;return _});return c?p.every(h):p.some(h)}),V(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),V(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(pn);return i.some(function(s){var a=s.getNamePath();return il(o,a)&&s.isFieldValidating()})}),V(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),V(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new wa,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var f=i.get(u)||new Set;f.add({entity:l,value:c}),i.set(u,f)}});var s=function(c){c.forEach(function(u){var f=u.props.initialValue;if(f!==void 0){var d=u.getNamePath(),h=n.getInitialValue(d);if(h!==void 0)fr(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var p=i.get(d);if(p&&p.size>1)fr(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(p){var v=n.getFieldValue(d),_=u.isListField();!_&&(!r.skipExist||v===void 0)&&n.updateStore(yi(n.store,d,Ae(p)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=a).push.apply(u,Ae(Ae(c).map(function(f){return f.entity})))}})):a=o,s(a)}),V(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Ha(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(pn);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(yi(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),V(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=vn(s,NZ),c=pn(a);o.push(c),"value"in l&&n.updateStore(yi(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:s})}),n.notifyWatch(o)}),V(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=$($({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),V(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=Hi(n.store,o);s===void 0&&n.updateStore(yi(n.store,o,i))}}),V(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),V(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(f){return f!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(f){return!QO(f.getNamePath(),i)})){var u=n.store;n.updateStore(yi(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),V(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),V(this,"notifyObservers",function(r,i,o){if(n.subscribable){var s=$($({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),V(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(Ae(o))}),o}),V(this,"updateValue",function(r,i){var o=pn(r),s=n.store;n.updateStore(yi(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var c=iC(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(Ae(a)))}),V(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=Ha(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),V(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i}])}),V(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new wa;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var f=pn(u);s.update(f,function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return d.add(l),d})})});var a=function l(c){var u=s.get(c)||new Set;u.forEach(function(f){if(!i.has(f)){i.add(f);var d=f.getNamePath();f.isFieldDirty()&&d.length&&(o.push(d),l(d))}})};return a(r),o}),V(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new wa;i.forEach(function(c){var u=c.name,f=c.errors;a.set(u,f)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return il(r,u)});l.length&&o(l,s)}}),V(this,"validateFields",function(r,i){n.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(pn):[],c=[],u=String(Date.now()),f=new Set,d=s||{},h=d.recursive,p=d.dirty;n.getFieldEntities(!0).forEach(function(y){if(a||l.push(y.getNamePath()),!(!y.props.rules||!y.props.rules.length)&&!(p&&!y.isFieldDirty())){var b=y.getNamePath();if(f.add(b.join(u)),!a||il(l,b,h)){var w=y.validateRules($({validateMessages:$($({},ZO),n.validateMessages)},s));c.push(w.then(function(){return{name:b,errors:[],warnings:[]}}).catch(function(S){var x,E=[],I=[];return(x=S.forEach)===null||x===void 0||x.call(S,function(M){var O=M.rule.warningOnly,R=M.errors;O?I.push.apply(I,Ae(R)):E.push.apply(E,Ae(R))}),E.length?Promise.reject({name:b,errors:E,warnings:I}):{name:b,errors:E,warnings:I}}))}}});var v=RZ(c);n.lastValidatePromise=v,v.catch(function(y){return y}).then(function(y){var b=y.map(function(w){var S=w.name;return S});n.notifyObservers(n.store,b,{type:"validateFinish"}),n.triggerOnFieldsChange(b,y)});var _=v.then(function(){return n.lastValidatePromise===v?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(y){var b=y.filter(function(w){return w&&w.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:b,outOfDate:n.lastValidatePromise!==v})});_.catch(function(y){return y});var m=l.filter(function(y){return f.has(y.join(u))});return n.triggerOnFieldsChange(m),_}),V(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function tL(t){var e=g.useRef(),n=g.useState({}),r=X(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},s=new kZ(o);e.current=s.getForm()}return[e.current]}var gy=g.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),FZ=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=g.useContext(gy),a=g.useRef({});return g.createElement(gy.Provider,{value:$($({},s),{},{validateMessages:$($({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:a.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=$($({},a.current),{},V({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=$({},a.current);delete u[c],a.current=u,s.unregisterForm(c)}})},o)},DZ=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],zZ=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,f=e.validateMessages,d=e.validateTrigger,h=d===void 0?"onChange":d,p=e.onValuesChange,v=e.onFieldsChange,_=e.onFinish,m=e.onFinishFailed,y=vn(e,DZ),b=g.useContext(gy),w=tL(s),S=X(w,1),x=S[0],E=x.getInternalHooks(Ts),I=E.useSubscribe,M=E.setInitialValues,O=E.setCallbacks,R=E.setValidateMessages,D=E.setPreserve,k=E.destroyForm;g.useImperativeHandle(n,function(){return x}),g.useEffect(function(){return b.registerForm(r,x),function(){b.unregisterForm(r)}},[b,x,r]),R($($({},b.validateMessages),f)),O({onValuesChange:p,onFieldsChange:function(W){if(b.triggerFormChange(r,W),v){for(var Y=arguments.length,re=new Array(Y>1?Y-1:0),se=1;se<Y;se++)re[se-1]=arguments[se];v.apply(void 0,[W].concat(re))}},onFinish:function(W){b.triggerFormFinish(r,W),_&&_(W)},onFinishFailed:m}),D(a);var j=g.useRef(null);M(i,!j.current),j.current||(j.current=!0),g.useEffect(function(){return k},[]);var G,F=typeof l=="function";if(F){var N=x.getFieldsValue(!0);G=l(N,x)}else G=l;I(!F);var A=g.useRef();g.useEffect(function(){IZ(A.current||[],o||[])||x.setFields(o||[]),A.current=o},[o,x]);var z=g.useMemo(function(){return $($({},x),{},{validateTrigger:h})},[x,h]),B=g.createElement(Yh.Provider,{value:null},g.createElement(Al.Provider,{value:z},G));return u===!1?B:g.createElement(u,Be({},y,{onSubmit:function(W){W.preventDefault(),W.stopPropagation(),x.submit()},onReset:function(W){var Y;W.preventDefault(),x.resetFields(),(Y=y.onReset)===null||Y===void 0||Y.call(y,W)}}),B)};function aC(t){try{return JSON.stringify(t)}catch{return Math.random()}}function BZ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=i===void 0?{}:i,s=GY(o)?{form:o}:o,a=s.form,l=g.useState(),c=X(l,2),u=c[0],f=c[1],d=g.useMemo(function(){return aC(u)},[u]),h=g.useRef(d);h.current=d;var p=g.useContext(Al),v=a||p,_=v&&v._init,m=pn(r),y=g.useRef(m);return y.current=m,g.useEffect(function(){if(_){var b=v.getFieldsValue,w=v.getInternalHooks,S=w(Ts),x=S.registerWatch,E=function(R,D){var k=s.preserve?D:R;return typeof r=="function"?r(k):Hi(k,y.current)},I=x(function(O,R){var D=E(O,R),k=aC(D);h.current!==k&&(h.current=k,f(D))}),M=E(b(),b(!0));return u!==M&&f(M),I}},[_]),u}var jZ=g.forwardRef(zZ),nf=jZ;nf.FormProvider=FZ;nf.Field=JO;nf.List=LZ;nf.useForm=tL;nf.useWatch=BZ;const py=g.createContext({}),nL=t=>{let{children:e,status:n,override:r}=t;const i=g.useContext(py),o=g.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return g.createElement(py.Provider,{value:o},e)};function lC(){}const $Z=g.createContext({add:lC,remove:lC});function rL(t){const e=g.useContext($Z),n=g.useRef();return br(i=>{if(i){const o=t?i.querySelector(t):i;e.add(o),n.current=o}else e.remove(n.current)})}const VZ=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=g.useContext(ef);return de.createElement(zb,Object.assign({onClick:n},t),e)},cC=VZ,UZ=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:r,onOk:i}=g.useContext(ef);return de.createElement(zb,Object.assign({},NO(n),{loading:t,onClick:i},e),r)},uC=UZ;function iL(t,e){return de.createElement("span",{className:`${t}-close-x`},e||de.createElement(Ig,{className:`${t}-close-icon`}))}const oL=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:i,onOk:o,onCancel:s,okButtonProps:a,cancelButtonProps:l,footer:c}=t,[u]=Yg("Modal",WM()),f=e||(u==null?void 0:u.okText),d=r||(u==null?void 0:u.cancelText),h={confirmLoading:i,okButtonProps:a,cancelButtonProps:l,okTextLocale:f,cancelTextLocale:d,okType:n,onOk:o,onCancel:s},p=de.useMemo(()=>h,Ae(Object.values(h)));let v;return typeof c=="function"||typeof c>"u"?(v=de.createElement(de.Fragment,null,de.createElement(cC,null),de.createElement(uC,null)),typeof c=="function"&&(v=c(v,{OkBtn:uC,CancelBtn:cC})),v=de.createElement(VO,{value:p},v)):v=c,de.createElement(YM,{disabled:!1},v)},HZ=t=>({animationDuration:t,animationFillMode:"both"}),WZ=t=>({animationDuration:t,animationFillMode:"both"}),tp=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},HZ(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},WZ(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},GZ=new _t("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),qZ=new _t("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),XZ=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r=`${n}-fade`,i=e?"&":"";return[tp(r,GZ,qZ,t.motionDurationMid,e),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},KZ=new _t("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),YZ=new _t("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),ZZ=new _t("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),QZ=new _t("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),JZ=new _t("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),eQ=new _t("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),tQ=new _t("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),nQ=new _t("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),rQ={"move-up":{inKeyframes:tQ,outKeyframes:nQ},"move-down":{inKeyframes:KZ,outKeyframes:YZ},"move-left":{inKeyframes:ZZ,outKeyframes:QZ},"move-right":{inKeyframes:JZ,outKeyframes:eQ}},fC=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=rQ[e];return[tp(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},sL=new _t("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),aL=new _t("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),lL=new _t("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),cL=new _t("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),iQ=new _t("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),oQ=new _t("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),sQ=new _t("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),aQ=new _t("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),lQ={"slide-up":{inKeyframes:sL,outKeyframes:aL},"slide-down":{inKeyframes:lL,outKeyframes:cL},"slide-left":{inKeyframes:iQ,outKeyframes:oQ},"slide-right":{inKeyframes:sQ,outKeyframes:aQ}},dC=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=lQ[e];return[tp(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},cQ=new _t("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),uQ=new _t("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),hC=new _t("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),gC=new _t("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),fQ=new _t("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),dQ=new _t("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),hQ=new _t("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),gQ=new _t("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),pQ=new _t("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),mQ=new _t("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),vQ=new _t("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),yQ=new _t("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),bQ={zoom:{inKeyframes:cQ,outKeyframes:uQ},"zoom-big":{inKeyframes:hC,outKeyframes:gC},"zoom-big-fast":{inKeyframes:hC,outKeyframes:gC},"zoom-left":{inKeyframes:hQ,outKeyframes:gQ},"zoom-right":{inKeyframes:pQ,outKeyframes:mQ},"zoom-up":{inKeyframes:fQ,outKeyframes:dQ},"zoom-down":{inKeyframes:vQ,outKeyframes:yQ}},_Q=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=bQ[e];return[tp(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]};function pC(t){return{position:t,inset:0}}const wQ=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},pC("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},pC("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch",[`&:has(${e}${n}-zoom-enter), &:has(${e}${n}-zoom-appear)`]:{pointerEvents:"none"}})}},{[`${e}-root`]:XZ(t)}]},SQ=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${We(t.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Qg(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${We(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:`${We(t.modalCloseBtnSize)}`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:t.modalIconHoverColor,backgroundColor:t.closeBtnHoverBg,textDecoration:"none"},"&:active":{backgroundColor:t.closeBtnActiveBg}},tO(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${We(t.borderRadiusLG)} ${We(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},EQ=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},uL=t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5;return Un(t,{modalHeaderHeight:t.calc(t.calc(r).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalIconHoverColor:t.colorIconHover,modalCloseIconColor:t.colorIcon,modalCloseBtnSize:t.fontHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},fL=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,closeBtnHoverBg:t.wireframe?"transparent":t.colorFillContent,closeBtnActiveBg:t.wireframe?"transparent":t.colorFillContentHover,contentPadding:t.wireframe?0:`${We(t.paddingMD)} ${We(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${We(t.padding)} ${We(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${We(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${We(t.paddingXS)} ${We(t.padding)}`:0,footerBorderTop:t.wireframe?`${We(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${We(t.borderRadiusLG)} ${We(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${We(t.padding*2)} ${We(t.padding*2)} ${We(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),dL=Qu("Modal",t=>{const e=uL(t);return[SQ(e),EQ(e),wQ(e),_Q(e,"zoom")]},fL,{unitless:{titleLineHeight:!0}});var xQ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let my;const CQ=t=>{my={x:t.pageX,y:t.pageY},setTimeout(()=>{my=null},100)};WY()&&document.documentElement.addEventListener("click",CQ,!0);const TQ=t=>{var e;const{getPopupContainer:n,getPrefixCls:r,direction:i,modal:o}=g.useContext(kn),s=W=>{const{onCancel:Y}=t;Y==null||Y(W)},a=W=>{const{onOk:Y}=t;Y==null||Y(W)},{prefixCls:l,className:c,rootClassName:u,open:f,wrapClassName:d,centered:h,getContainer:p,closeIcon:v,closable:_,focusTriggerAfterClose:m=!0,style:y,visible:b,width:w=520,footer:S,classNames:x,styles:E}=t,I=xQ(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","closable","focusTriggerAfterClose","style","visible","width","footer","classNames","styles"]),M=r("modal",l),O=r(),R=Lb(M),[D,k,j]=dL(M,R),G=Ee(d,{[`${M}-centered`]:!!h,[`${M}-wrap-rtl`]:i==="rtl"}),F=S!==null&&g.createElement(oL,Object.assign({},t,{onOk:a,onCancel:s})),[N,A]=KO(_,v,W=>iL(M,W),g.createElement(Ig,{className:`${M}-close-icon`}),!0),z=rL(`.${M}-content`),[B,U]=Nb("Modal",I.zIndex);return D(g.createElement(LO,null,g.createElement(nL,{status:!0,override:!0},g.createElement(Rb.Provider,{value:U},g.createElement(XO,Object.assign({width:w},I,{zIndex:B,getContainer:p===void 0?n:p,prefixCls:M,rootClassName:Ee(k,u,j,R),footer:F,visible:f??b,mousePosition:(e=I.mousePosition)!==null&&e!==void 0?e:my,onClose:s,closable:N,closeIcon:A,focusTriggerAfterClose:m,transitionName:Qs(O,"zoom",t.transitionName),maskTransitionName:Qs(O,"fade",t.maskTransitionName),className:Ee(k,c,o==null?void 0:o.className),style:Object.assign(Object.assign({},o==null?void 0:o.style),y),classNames:Object.assign(Object.assign({wrapper:G},o==null?void 0:o.classNames),x),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),E),panelRef:z}))))))},hL=TQ,PQ=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:i,fontSize:o,lineHeight:s,modalTitleHeight:a,fontHeight:l,confirmBodyPadding:c}=t,u=`${e}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},wX()),[`&${e} ${e}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(l).sub(i).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(a).sub(i).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS,maxWidth:`calc(100% - ${We(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${u}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:r},[`${u}-content`]:{color:t.colorText,fontSize:o,lineHeight:s},[`${u}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${u}-error ${u}-body > ${t.iconCls}`]:{color:t.colorError},[`${u}-warning ${u}-body > ${t.iconCls},
        ${u}-confirm ${u}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${u}-info ${u}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${u}-success ${u}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},AQ=lO(["Modal","confirm"],t=>{const e=uL(t);return[PQ(e)]},fL,{order:-1e3});var IQ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function gL(t){const{prefixCls:e,icon:n,okText:r,cancelText:i,confirmPrefixCls:o,type:s,okCancel:a,footer:l,locale:c}=t,u=IQ(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=n;if(!n&&n!==null)switch(s){case"info":f=g.createElement(IW,null);break;case"success":f=g.createElement(iW,null);break;case"error":f=g.createElement(VI,null);break;default:f=g.createElement(UI,null)}const d=a??s==="confirm",h=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[p]=Yg("Modal"),v=c||p,_=r||(d?v==null?void 0:v.okText:v==null?void 0:v.justOkText),m=i||(v==null?void 0:v.cancelText),y=Object.assign({autoFocusButton:h,cancelTextLocale:m,okTextLocale:_,mergedOkCancel:d},u),b=g.useMemo(()=>y,Ae(Object.values(y))),w=g.createElement(g.Fragment,null,g.createElement(Bx,null),g.createElement(jx,null)),S=t.title!==void 0&&t.title!==null,x=`${o}-body`;return g.createElement("div",{className:`${o}-body-wrapper`},g.createElement("div",{className:Ee(x,{[`${x}-has-title`]:S})},f,g.createElement("div",{className:`${o}-paragraph`},S&&g.createElement("span",{className:`${o}-title`},t.title),g.createElement("div",{className:`${o}-content`},t.content))),l===void 0||typeof l=="function"?g.createElement(VO,{value:b},g.createElement("div",{className:`${o}-btns`},typeof l=="function"?l(w,{OkBtn:jx,CancelBtn:Bx}):w)):l,g.createElement(AQ,{prefixCls:e}))}const MQ=t=>{const{close:e,zIndex:n,afterClose:r,open:i,keyboard:o,centered:s,getContainer:a,maskStyle:l,direction:c,prefixCls:u,wrapClassName:f,rootPrefixCls:d,bodyStyle:h,closable:p=!1,closeIcon:v,modalRender:_,focusTriggerAfterClose:m,onConfirm:y,styles:b}=t,w=`${u}-confirm`,S=t.width||416,x=t.style||{},E=t.mask===void 0?!0:t.mask,I=t.maskClosable===void 0?!1:t.maskClosable,M=Ee(w,`${w}-${t.type}`,{[`${w}-rtl`]:c==="rtl"},t.className),[,O]=qr(),R=g.useMemo(()=>n!==void 0?n:O.zIndexPopupBase+EO,[n,O]);return g.createElement(hL,{prefixCls:u,className:M,wrapClassName:Ee({[`${w}-centered`]:!!t.centered},f),onCancel:()=>{e==null||e({triggerCancel:!0}),y==null||y(!1)},open:i,title:"",footer:null,transitionName:Qs(d||"","zoom",t.transitionName),maskTransitionName:Qs(d||"","fade",t.maskTransitionName),mask:E,maskClosable:I,style:x,styles:Object.assign({body:h,mask:l},b),width:S,zIndex:R,afterClose:r,keyboard:o,centered:s,getContainer:a,closable:p,closeIcon:v,modalRender:_,focusTriggerAfterClose:m},g.createElement(gL,Object.assign({},t,{confirmPrefixCls:w})))},OQ=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:r,theme:i}=t;return g.createElement(sa,{prefixCls:e,iconPrefixCls:n,direction:r,theme:i},g.createElement(MQ,Object.assign({},t)))},pL=OQ,LQ=[],As=LQ;var RQ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let mL="";function NQ(){return mL}function rf(t){const e=document.createDocumentFragment();let n=Object.assign(Object.assign({},t),{close:s,open:!0}),r;function i(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];const f=c.some(d=>d&&d.triggerCancel);t.onCancel&&f&&t.onCancel.apply(t,[()=>{}].concat(Ae(c.slice(1))));for(let d=0;d<As.length;d++)if(As[d]===s){As.splice(d,1);break}TO(e)}function o(l){var{okText:c,cancelText:u,prefixCls:f,getContainer:d}=l,h=RQ(l,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(r),r=setTimeout(()=>{const p=WM(),{getPrefixCls:v,getIconPrefixCls:_,getTheme:m}=pK(),y=v(void 0,NQ()),b=f||`${y}-modal`,w=_(),S=m();let x=d;x===!1&&(x=void 0),CO(g.createElement(pL,Object.assign({},h,{getContainer:x,prefixCls:b,rootPrefixCls:y,iconPrefixCls:w,okText:c,locale:p,theme:S,cancelText:u||p.cancelText})),e)})}function s(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),i.apply(this,c)}}),n.visible&&delete n.visible,o(n)}function a(l){typeof l=="function"?n=l(n):n=Object.assign(Object.assign({},n),l),o(n)}return o(n),As.push(s),{destroy:s,update:a}}function vL(t){return Object.assign(Object.assign({},t),{type:"warning"})}function yL(t){return Object.assign(Object.assign({},t),{type:"info"})}function bL(t){return Object.assign(Object.assign({},t),{type:"success"})}function _L(t){return Object.assign(Object.assign({},t),{type:"error"})}function wL(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function kQ(t){let{rootPrefixCls:e}=t;mL=e}var FQ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const DQ=(t,e)=>{var n,{afterClose:r,config:i}=t,o=FQ(t,["afterClose","config"]);const[s,a]=g.useState(!0),[l,c]=g.useState(i),{direction:u,getPrefixCls:f}=g.useContext(kn),d=f("modal"),h=f(),p=()=>{var y;r(),(y=l.afterClose)===null||y===void 0||y.call(l)},v=function(){a(!1);for(var y=arguments.length,b=new Array(y),w=0;w<y;w++)b[w]=arguments[w];const S=b.some(x=>x&&x.triggerCancel);l.onCancel&&S&&l.onCancel.apply(l,[()=>{}].concat(Ae(b.slice(1))))};g.useImperativeHandle(e,()=>({destroy:v,update:y=>{c(b=>Object.assign(Object.assign({},b),y))}}));const _=(n=l.okCancel)!==null&&n!==void 0?n:l.type==="confirm",[m]=Yg("Modal",Zs.Modal);return g.createElement(pL,Object.assign({prefixCls:d,rootPrefixCls:h},l,{close:v,open:s,afterClose:p,okText:l.okText||(_?m==null?void 0:m.okText:m==null?void 0:m.justOkText),direction:l.direction||u,cancelText:l.cancelText||(m==null?void 0:m.cancelText)},o))},zQ=g.forwardRef(DQ);let mC=0;const BQ=g.memo(g.forwardRef((t,e)=>{const[n,r]=IK();return g.useImperativeHandle(e,()=>({patchElement:r}),[]),g.createElement(g.Fragment,null,n)}));function jQ(){const t=g.useRef(null),[e,n]=g.useState([]);g.useEffect(()=>{e.length&&(Ae(e).forEach(s=>{s()}),n([]))},[e]);const r=g.useCallback(o=>function(a){var l;mC+=1;const c=g.createRef();let u;const f=new Promise(_=>{u=_});let d=!1,h;const p=g.createElement(zQ,{key:`modal-${mC}`,config:o(a),ref:c,afterClose:()=>{h==null||h()},isSilent:()=>d,onConfirm:_=>{u(_)}});return h=(l=t.current)===null||l===void 0?void 0:l.patchElement(p),h&&As.push(h),{destroy:()=>{function _(){var m;(m=c.current)===null||m===void 0||m.destroy()}c.current?_():n(m=>[].concat(Ae(m),[_]))},update:_=>{function m(){var y;(y=c.current)===null||y===void 0||y.update(_)}c.current?m():n(y=>[].concat(Ae(y),[m]))},then:_=>(d=!0,f.then(_))}},[]);return[g.useMemo(()=>({info:r(yL),success:r(bL),error:r(_L),warning:r(vL),confirm:r(wL)}),[]),g.createElement(BQ,{key:"modal-holder",ref:t})]}function SL(t){return e=>g.createElement(sa,{theme:{token:{motion:!1,zIndexPopupBase:0}}},g.createElement(t,Object.assign({},e)))}const $Q=(t,e,n,r)=>SL(o=>{const{prefixCls:s,style:a}=o,l=g.useRef(null),[c,u]=g.useState(0),[f,d]=g.useState(0),[h,p]=Gh(!1,{value:o.open}),{getPrefixCls:v}=g.useContext(kn),_=v(e||"select",s);g.useEffect(()=>{if(p(!0),typeof ResizeObserver<"u"){const b=new ResizeObserver(S=>{const x=S[0].target;u(x.offsetHeight+8),d(x.offsetWidth)}),w=setInterval(()=>{var S;const x=n?`.${n(_)}`:`.${_}-dropdown`,E=(S=l.current)===null||S===void 0?void 0:S.querySelector(x);E&&(clearInterval(w),b.observe(E))},10);return()=>{clearInterval(w),b.disconnect()}}},[]);let m=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},a),{margin:0}),open:h,visible:h,getPopupContainer:()=>l.current});r&&(m=r(m));const y={paddingBottom:c,position:"relative",minWidth:f};return g.createElement("div",{ref:l,style:y},g.createElement(t,Object.assign({},m)))}),VQ=$Q,EL=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var np=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.onMouseDown,s=e.onClick,a=e.children,l;return typeof r=="function"?l=r(i):l=r,g.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),o&&o(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},l!==void 0?l:g.createElement("span",{className:Ee(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},a))};function UQ(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0,l=de.useMemo(function(){if(at(r)==="object")return r.clearIcon;if(i)return i},[r,i]),c=de.useMemo(function(){return!!(!o&&r&&(n.length||s)&&!(a==="combobox"&&s===""))},[r,o,n.length,s,a]);return{allowClear:c,clearIcon:de.createElement(np,{className:"".concat(t,"-clear"),onMouseDown:e,customizeIcon:l},"")}}var xL=g.createContext(null);function HQ(){return g.useContext(xL)}function WQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=g.useState(!1),n=X(e,2),r=n[0],i=n[1],o=g.useRef(null),s=function(){window.clearTimeout(o.current)};g.useEffect(function(){return s},[]);var a=function(c,u){s(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,a,s]}function CL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=g.useRef(null),n=g.useRef(null);g.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function GQ(t,e,n,r){var i=g.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},g.useEffect(function(){function o(s){var a;if(!((a=i.current)!==null&&a!==void 0&&a.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}var qQ=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Sa=void 0;function XQ(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,s=t.responsive,a=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,f=t.style,d=t.children,h=t.display,p=t.order,v=t.component,_=v===void 0?"div":v,m=vn(t,qQ),y=s&&!h;function b(I){l(c,I)}g.useEffect(function(){return function(){b(null)}},[]);var w=o&&i!==Sa?o(i):d,S;r||(S={opacity:y?0:1,height:y?0:Sa,overflowY:y?"hidden":Sa,order:s?p:Sa,pointerEvents:y?"none":Sa,position:y?"absolute":Sa});var x={};y&&(x["aria-hidden"]=!0);var E=g.createElement(_,Be({className:Ee(!r&&n,u),style:$($({},S),f)},x,m,{ref:e}),w);return s&&(E=g.createElement(oa,{onResize:function(M){var O=M.offsetWidth;b(O)},disabled:a},E)),E}var $c=g.forwardRef(XQ);$c.displayName="Item";function KQ(t){if(typeof MessageChannel>"u")En(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function YQ(){var t=g.useRef(null),e=function(r){t.current||(t.current=[],KQ(function(){Hs.unstable_batchedUpdates(function(){t.current.forEach(function(i){i()}),t.current=null})})),t.current.push(r)};return e}function ac(t,e){var n=g.useState(e),r=X(n,2),i=r[0],o=r[1],s=br(function(a){t(function(){o(a)})});return[i,s]}var Zh=de.createContext(null),ZQ=["component"],QQ=["className"],JQ=["className"],eJ=function(e,n){var r=g.useContext(Zh);if(!r){var i=e.component,o=i===void 0?"div":i,s=vn(e,ZQ);return g.createElement(o,Be({},s,{ref:n}))}var a=r.className,l=vn(r,QQ),c=e.className,u=vn(e,JQ);return g.createElement(Zh.Provider,{value:null},g.createElement($c,Be({ref:n,className:Ee(a,c)},l,u)))},TL=g.forwardRef(eJ);TL.displayName="RawItem";var tJ=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],PL="responsive",AL="invalidate";function nJ(t){return"+ ".concat(t.length," ...")}function rJ(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,s=t.renderItem,a=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,f=t.ssr,d=t.style,h=t.className,p=t.maxCount,v=t.renderRest,_=t.renderRawRest,m=t.suffix,y=t.component,b=y===void 0?"div":y,w=t.itemComponent,S=t.onVisibleChange,x=vn(t,tJ),E=f==="full",I=YQ(),M=ac(I,null),O=X(M,2),R=O[0],D=O[1],k=R||0,j=ac(I,new Map),G=X(j,2),F=G[0],N=G[1],A=ac(I,0),z=X(A,2),B=z[0],U=z[1],W=ac(I,0),Y=X(W,2),re=Y[0],se=Y[1],ge=ac(I,0),ae=X(ge,2),J=ae[0],q=ae[1],Z=g.useState(null),ue=X(Z,2),ie=ue[0],Q=ue[1],oe=g.useState(null),Ie=X(oe,2),Le=Ie[0],Te=Ie[1],Fe=g.useMemo(function(){return Le===null&&E?Number.MAX_SAFE_INTEGER:Le||0},[Le,R]),ce=g.useState(!1),Pe=X(ce,2),fe=Pe[0],le=Pe[1],De="".concat(r,"-item"),tt=Math.max(B,re),He=p===PL,Me=o.length&&He,pt=p===AL,mt=Me||typeof p=="number"&&o.length>p,Ye=g.useMemo(function(){var ve=o;return Me?R===null&&E?ve=o:ve=o.slice(0,Math.min(o.length,k/u)):typeof p=="number"&&(ve=o.slice(0,p)),ve},[o,u,R,p,Me]),Ze=g.useMemo(function(){return Me?o.slice(Fe+1):o.slice(Ye.length)},[o,Ye,Me,Fe]),$e=g.useCallback(function(ve,Re){var ee;return typeof l=="function"?l(ve):(ee=l&&(ve==null?void 0:ve[l]))!==null&&ee!==void 0?ee:Re},[l]),Tt=g.useCallback(s||function(ve){return ve},[s]);function dn(ve,Re,ee){Le===ve&&(Re===void 0||Re===ie)||(Te(ve),ee||(le(ve<o.length-1),S==null||S(ve)),Re!==void 0&&Q(Re))}function xn(ve,Re){D(Re.clientWidth)}function kt(ve,Re){N(function(ee){var be=new Map(ee);return Re===null?be.delete(ve):be.set(ve,Re),be})}function gt(ve,Re){se(Re),U(re)}function wt(ve,Re){q(Re)}function Ft(ve){return F.get($e(Ye[ve],ve))}Zt(function(){if(k&&typeof tt=="number"&&Ye){var ve=J,Re=Ye.length,ee=Re-1;if(!Re){dn(0,null);return}for(var be=0;be<Re;be+=1){var pe=Ft(be);if(E&&(pe=pe||0),pe===void 0){dn(be-1,void 0,!0);break}if(ve+=pe,ee===0&&ve<=k||be===ee-1&&ve+Ft(ee)<=k){dn(ee,null);break}else if(ve+tt>k){dn(be-1,ve-pe-J+re);break}}m&&Ft(0)+J>k&&Q(null)}},[k,F,re,J,$e,Ye]);var ct=fe&&!!Ze.length,vt={};ie!==null&&Me&&(vt={position:"absolute",left:ie,top:0});var Qt={prefixCls:De,responsive:Me,component:w,invalidate:pt},nt=a?function(ve,Re){var ee=$e(ve,Re);return g.createElement(Zh.Provider,{key:ee,value:$($({},Qt),{},{order:Re,item:ve,itemKey:ee,registerSize:kt,display:Re<=Fe})},a(ve,Re))}:function(ve,Re){var ee=$e(ve,Re);return g.createElement($c,Be({},Qt,{order:Re,key:ee,item:ve,renderItem:Tt,itemKey:ee,registerSize:kt,display:Re<=Fe}))},Pt,rt={order:ct?Fe:Number.MAX_SAFE_INTEGER,className:"".concat(De,"-rest"),registerSize:gt,display:ct};if(_)_&&(Pt=g.createElement(Zh.Provider,{value:$($({},Qt),rt)},_(Ze)));else{var Se=v||nJ;Pt=g.createElement($c,Be({},Qt,rt),typeof Se=="function"?Se(Ze):Se)}var qe=g.createElement(b,Be({className:Ee(!pt&&r,h),style:d,ref:e},x),Ye.map(nt),mt?Pt:null,m&&g.createElement($c,Be({},Qt,{responsive:He,responsiveDisabled:!Me,order:Fe,className:"".concat(De,"-suffix"),registerSize:wt,display:!0,style:vt}),m));return He&&(qe=g.createElement(oa,{onResize:xn,disabled:!Me},qe)),qe}var of=g.forwardRef(rJ);of.displayName="Overflow";of.Item=TL;of.RESPONSIVE=PL;of.INVALIDATE=AL;var iJ=function(e,n){var r,i=e.prefixCls,o=e.id,s=e.inputElement,a=e.disabled,l=e.tabIndex,c=e.autoFocus,u=e.autoComplete,f=e.editable,d=e.activeDescendantId,h=e.value,p=e.maxLength,v=e.onKeyDown,_=e.onMouseDown,m=e.onChange,y=e.onPaste,b=e.onCompositionStart,w=e.onCompositionEnd,S=e.open,x=e.attrs,E=s||g.createElement("input",null),I=E,M=I.ref,O=I.props,R=O.onKeyDown,D=O.onChange,k=O.onMouseDown,j=O.onCompositionStart,G=O.onCompositionEnd,F=O.style;return"maxLength"in E.props,E=g.cloneElement(E,$($($({type:"search"},O),{},{id:o,ref:Ku(n,M),disabled:a,tabIndex:l,autoComplete:u||"off",autoFocus:c,className:Ee("".concat(i,"-selection-search-input"),(r=E)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":S||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":S?d:void 0},x),{},{value:f?h:"",maxLength:p,readOnly:!f,unselectable:f?null:"on",style:$($({},F),{},{opacity:f?null:0}),onKeyDown:function(A){v(A),R&&R(A)},onMouseDown:function(A){_(A),k&&k(A)},onChange:function(A){m(A),D&&D(A)},onCompositionStart:function(A){b(A),j&&j(A)},onCompositionEnd:function(A){w(A),G&&G(A)},onPaste:y})),E},jb=g.forwardRef(iJ);jb.displayName="Input";function IL(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var oJ=typeof window<"u"&&window.document&&window.document.documentElement,sJ=oJ;function aJ(t){return t!=null}function lJ(t){return!t&&t!==0}function vC(t){return["string","number"].includes(at(t))}function ML(t){var e=void 0;return t&&(vC(t.title)?e=t.title.toString():vC(t.label)&&(e=t.label.toString())),e}function cJ(t,e){sJ?g.useLayoutEffect(t,e):g.useEffect(t,e)}function uJ(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var yC=function(e){e.preventDefault(),e.stopPropagation()},fJ=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,s=e.searchValue,a=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,f=e.mode,d=e.showSearch,h=e.autoFocus,p=e.autoComplete,v=e.activeDescendantId,_=e.tabIndex,m=e.removeIcon,y=e.maxTagCount,b=e.maxTagTextLength,w=e.maxTagPlaceholder,S=w===void 0?function(Q){return"+ ".concat(Q.length," ...")}:w,x=e.tagRender,E=e.onToggleOpen,I=e.onRemove,M=e.onInputChange,O=e.onInputPaste,R=e.onInputKeyDown,D=e.onInputMouseDown,k=e.onInputCompositionStart,j=e.onInputCompositionEnd,G=g.useRef(null),F=g.useState(0),N=X(F,2),A=N[0],z=N[1],B=g.useState(!1),U=X(B,2),W=U[0],Y=U[1],re="".concat(r,"-selection"),se=o||f==="multiple"&&a===!1||f==="tags"?s:"",ge=f==="tags"||f==="multiple"&&a===!1||d&&(o||W);cJ(function(){z(G.current.scrollWidth)},[se]);function ae(Q,oe,Ie,Le,Te){return g.createElement("span",{className:Ee("".concat(re,"-item"),V({},"".concat(re,"-item-disabled"),Ie)),title:ML(Q)},g.createElement("span",{className:"".concat(re,"-item-content")},oe),Le&&g.createElement(np,{className:"".concat(re,"-item-remove"),onMouseDown:yC,onClick:Te,customizeIcon:m},""))}function J(Q,oe,Ie,Le,Te){var Fe=function(Pe){yC(Pe),E(!o)};return g.createElement("span",{onMouseDown:Fe},x({label:oe,value:Q,disabled:Ie,closable:Le,onClose:Te}))}function q(Q){var oe=Q.disabled,Ie=Q.label,Le=Q.value,Te=!u&&!oe,Fe=Ie;if(typeof b=="number"&&(typeof Ie=="string"||typeof Ie=="number")){var ce=String(Fe);ce.length>b&&(Fe="".concat(ce.slice(0,b),"..."))}var Pe=function(le){le&&le.stopPropagation(),I(Q)};return typeof x=="function"?J(Le,Fe,oe,Te,Pe):ae(Q,Fe,oe,Te,Pe)}function Z(Q){var oe=typeof S=="function"?S(Q):S;return ae({title:oe},oe,!1)}var ue=g.createElement("div",{className:"".concat(re,"-search"),style:{width:A},onFocus:function(){Y(!0)},onBlur:function(){Y(!1)}},g.createElement(jb,{ref:l,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:h,autoComplete:p,editable:ge,activeDescendantId:v,value:se,onKeyDown:R,onMouseDown:D,onChange:M,onPaste:O,onCompositionStart:k,onCompositionEnd:j,tabIndex:_,attrs:Pl(e,!0)}),g.createElement("span",{ref:G,className:"".concat(re,"-search-mirror"),"aria-hidden":!0},se,"")),ie=g.createElement(of,{prefixCls:"".concat(re,"-overflow"),data:i,renderItem:q,renderRest:Z,suffix:ue,itemKey:uJ,maxCount:y});return g.createElement(g.Fragment,null,ie,!i.length&&!se&&g.createElement("span",{className:"".concat(re,"-placeholder")},c))},dJ=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,s=e.disabled,a=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,f=e.open,d=e.values,h=e.placeholder,p=e.tabIndex,v=e.showSearch,_=e.searchValue,m=e.activeValue,y=e.maxLength,b=e.onInputKeyDown,w=e.onInputMouseDown,S=e.onInputChange,x=e.onInputPaste,E=e.onInputCompositionStart,I=e.onInputCompositionEnd,M=e.title,O=g.useState(!1),R=X(O,2),D=R[0],k=R[1],j=u==="combobox",G=j||v,F=d[0],N=_||"";j&&m&&!D&&(N=m),g.useEffect(function(){j&&k(!1)},[j,m]);var A=u!=="combobox"&&!f&&!v?!1:!!N,z=M===void 0?ML(F):M,B=function(){if(F)return null;var W=A?{visibility:"hidden"}:void 0;return g.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:W},h)};return g.createElement(g.Fragment,null,g.createElement("span",{className:"".concat(r,"-selection-search")},g.createElement(jb,{ref:o,prefixCls:r,id:i,open:f,inputElement:n,disabled:s,autoFocus:a,autoComplete:l,editable:G,activeDescendantId:c,value:N,onKeyDown:b,onMouseDown:w,onChange:function(W){k(!0),S(W)},onPaste:x,onCompositionStart:E,onCompositionEnd:I,tabIndex:p,attrs:Pl(e,!0),maxLength:j?y:void 0})),!j&&F?g.createElement("span",{className:"".concat(r,"-selection-item"),title:z,style:A?{visibility:"hidden"}:void 0},F.label):null,B())};function hJ(t){return![te.ESC,te.SHIFT,te.BACKSPACE,te.TAB,te.WIN_KEY,te.ALT,te.META,te.WIN_KEY_RIGHT,te.CTRL,te.SEMICOLON,te.EQUALS,te.CAPS_LOCK,te.CONTEXT_MENU,te.F1,te.F2,te.F3,te.F4,te.F5,te.F6,te.F7,te.F8,te.F9,te.F10,te.F11,te.F12].includes(t)}var gJ=function(e,n){var r=g.useRef(null),i=g.useRef(!1),o=e.prefixCls,s=e.open,a=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.autoClearSearchValue,f=e.onSearch,d=e.onSearchSubmit,h=e.onToggleOpen,p=e.onInputKeyDown,v=e.domRef;g.useImperativeHandle(n,function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}});var _=CL(0),m=X(_,2),y=m[0],b=m[1],w=function(N){var A=N.which;(A===te.UP||A===te.DOWN)&&N.preventDefault(),p&&p(N),A===te.ENTER&&a==="tags"&&!i.current&&!s&&(d==null||d(N.target.value)),hJ(A)&&h(!0)},S=function(){b(!0)},x=g.useRef(null),E=function(N){f(N,!0,i.current)!==!1&&h(!0)},I=function(){i.current=!0},M=function(N){i.current=!1,a!=="combobox"&&E(N.target.value)},O=function(N){var A=N.target.value;if(c&&x.current&&/[\r\n]/.test(x.current)){var z=x.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");A=A.replace(z,x.current)}x.current=null,E(A)},R=function(N){var A=N.clipboardData,z=A.getData("text");x.current=z},D=function(N){var A=N.target;if(A!==r.current){var z=document.body.style.msTouchAction!==void 0;z?setTimeout(function(){r.current.focus()}):r.current.focus()}},k=function(N){var A=y();N.target!==r.current&&!A&&a!=="combobox"&&N.preventDefault(),(a!=="combobox"&&(!l||!A)||!s)&&(s&&u!==!1&&f("",!0,!1),h())},j={inputRef:r,onInputKeyDown:w,onInputMouseDown:S,onInputChange:O,onInputPaste:R,onInputCompositionStart:I,onInputCompositionEnd:M},G=a==="multiple"||a==="tags"?g.createElement(fJ,Be({},e,j)):g.createElement(dJ,Be({},e,j));return g.createElement("div",{ref:v,className:"".concat(o,"-selector"),onClick:D,onMouseDown:k},G)},OL=g.forwardRef(gJ);OL.displayName="Selector";function pJ(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,c=l===void 0?0:l,u=i.y,f=u===void 0?0:u,d=g.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(n.autoArrow!==!1){var p=n.points[0],v=n.points[1],_=p[0],m=p[1],y=v[0],b=v[1];_===y||!["t","b"].includes(_)?h.top=f:_==="t"?h.top=0:h.bottom=0,m===b||!["l","r"].includes(m)?h.left=c:m==="l"?h.left=0:h.right=0}return g.createElement("div",{ref:d,className:Ee("".concat(e,"-arrow"),s),style:h},a)}function mJ(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?g.createElement(vo,Be({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return g.createElement("div",{style:{zIndex:r},className:Ee("".concat(e,"-mask"),a)})}):null}var vJ=g.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),yJ=g.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,s=t.target,a=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,f=t.onClick,d=t.mask,h=t.arrow,p=t.arrowPos,v=t.align,_=t.motion,m=t.maskMotion,y=t.forceRender,b=t.getPopupContainer,w=t.autoDestroy,S=t.portal,x=t.zIndex,E=t.onMouseEnter,I=t.onMouseLeave,M=t.onPointerEnter,O=t.ready,R=t.offsetX,D=t.offsetY,k=t.offsetR,j=t.offsetB,G=t.onAlign,F=t.onPrepare,N=t.stretch,A=t.targetWidth,z=t.targetHeight,B=typeof n=="function"?n():n,U=l||c,W=(b==null?void 0:b.length)>0,Y=g.useState(!b||!W),re=X(Y,2),se=re[0],ge=re[1];if(Zt(function(){!se&&W&&s&&ge(!0)},[se,W,s]),!se)return null;var ae="auto",J={left:"-1000vw",top:"-1000vh",right:ae,bottom:ae};if(O||!l){var q,Z=v.points,ue=v.dynamicInset||((q=v._experimental)===null||q===void 0?void 0:q.dynamicInset),ie=ue&&Z[0][1]==="r",Q=ue&&Z[0][0]==="b";ie?(J.right=k,J.left=ae):(J.left=R,J.right=ae),Q?(J.bottom=j,J.top=ae):(J.top=D,J.bottom=ae)}var oe={};return N&&(N.includes("height")&&z?oe.height=z:N.includes("minHeight")&&z&&(oe.minHeight=z),N.includes("width")&&A?oe.width=A:N.includes("minWidth")&&A&&(oe.minWidth=A)),l||(oe.pointerEvents="none"),g.createElement(S,{open:y||U,getContainer:b&&function(){return b(s)},autoDestroy:w},g.createElement(mJ,{prefixCls:i,open:l,zIndex:x,mask:d,motion:m}),g.createElement(oa,{onResize:G,disabled:!l},function(Ie){return g.createElement(vo,Be({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(i,"-hidden")},_,{onAppearPrepare:F,onEnterPrepare:F,visible:l,onVisibleChanged:function(Te){var Fe;_==null||(Fe=_.onVisibleChanged)===null||Fe===void 0||Fe.call(_,Te),a(Te)}}),function(Le,Te){var Fe=Le.className,ce=Le.style,Pe=Ee(i,Fe,r);return g.createElement("div",{ref:Ku(Ie,e,Te),className:Pe,style:$($($($({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},J),oe),ce),{},{boxSizing:"border-box",zIndex:x},o),onMouseEnter:E,onMouseLeave:I,onPointerEnter:M,onClick:f},h&&g.createElement(pJ,{prefixCls:i,arrow:h,arrowPos:p,align:v}),g.createElement(vJ,{cache:!l&&!u},B))})}))}),bJ=g.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=Yu(n),o=g.useCallback(function(a){gb(e,r?r(a):a)},[r]),s=Dl(o,n.ref);return i?g.cloneElement(n,{ref:s}):n}),bC=g.createContext(null);function _C(t){return t?Array.isArray(t)?t:[t]:[]}function _J(t,e,n,r){return g.useMemo(function(){var i=_C(n??e),o=_C(r??e),s=new Set(i),a=new Set(o);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function wJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function SJ(t,e,n,r){for(var i=n.points,o=Object.keys(t),s=0;s<o.length;s+=1){var a,l=o[s];if(wJ((a=t[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function wC(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function sf(t){return t.ownerDocument.defaultView}function vy(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=sf(n).getComputedStyle(n),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function Iu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function lc(t){return Iu(parseFloat(t),0)}function SC(t,e){var n=$({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=sf(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,f=r.getBoundingClientRect(),d=r.offsetHeight,h=r.clientHeight,p=r.offsetWidth,v=r.clientWidth,_=lc(a),m=lc(l),y=lc(c),b=lc(u),w=Iu(Math.round(f.width/p*1e3)/1e3),S=Iu(Math.round(f.height/d*1e3)/1e3),x=(p-v-y-b)*w,E=(d-h-_-m)*S,I=_*S,M=m*S,O=y*w,R=b*w,D=0,k=0;if(o==="clip"){var j=lc(s);D=j*w,k=j*S}var G=f.x+O-D,F=f.y+I-k,N=G+f.width+2*D-O-R-x,A=F+f.height+2*k-I-M-E;n.left=Math.max(n.left,G),n.top=Math.max(n.top,F),n.right=Math.min(n.right,N),n.bottom=Math.min(n.bottom,A)}}),n}function EC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function xC(t,e){var n=e||[],r=X(n,2),i=r[0],o=r[1];return[EC(t.width,i),EC(t.height,o)]}function CC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function Ea(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function Mo(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function EJ(t,e,n,r,i,o,s){var a=g.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=X(a,2),c=l[0],u=l[1],f=g.useRef(0),d=g.useMemo(function(){return e?vy(e):[]},[e]),h=g.useRef({}),p=function(){h.current={}};t||p();var v=br(function(){if(e&&n&&t){let K=function(Ke,Mt){var Ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe,an=B.x+Ke,Kn=B.y+Mt,ip=an+q,op=Kn+J,sp=Math.max(an,Ut.left),ap=Math.max(Kn,Ut.top),Ce=Math.min(ip,Ut.right),Ue=Math.min(op,Ut.bottom);return Math.max(0,(Ce-sp)*(Ue-ap))},he=function(){yt=B.y+Se,on=yt+J,hn=B.x+rt,Gn=hn+q};var L=K,H=he,y,b,w=e,S=w.ownerDocument,x=sf(w),E=x.getComputedStyle(w),I=E.width,M=E.height,O=E.position,R=w.style.left,D=w.style.top,k=w.style.right,j=w.style.bottom,G=w.style.overflow,F=$($({},i[r]),o),N=S.createElement("div");(y=w.parentElement)===null||y===void 0||y.appendChild(N),N.style.left="".concat(w.offsetLeft,"px"),N.style.top="".concat(w.offsetTop,"px"),N.style.position=O,N.style.height="".concat(w.offsetHeight,"px"),N.style.width="".concat(w.offsetWidth,"px"),w.style.left="0",w.style.top="0",w.style.right="auto",w.style.bottom="auto",w.style.overflow="hidden";var A;if(Array.isArray(n))A={x:n[0],y:n[1],width:0,height:0};else{var z=n.getBoundingClientRect();A={x:z.x,y:z.y,width:z.width,height:z.height}}var B=w.getBoundingClientRect(),U=S.documentElement,W=U.clientWidth,Y=U.clientHeight,re=U.scrollWidth,se=U.scrollHeight,ge=U.scrollTop,ae=U.scrollLeft,J=B.height,q=B.width,Z=A.height,ue=A.width,ie={left:0,top:0,right:W,bottom:Y},Q={left:-ae,top:-ge,right:re-ae,bottom:se-ge},oe=F.htmlRegion,Ie="visible",Le="visibleFirst";oe!=="scroll"&&oe!==Le&&(oe=Ie);var Te=oe===Le,Fe=SC(Q,d),ce=SC(ie,d),Pe=oe===Ie?ce:Fe,fe=Te?ce:Pe;w.style.left="auto",w.style.top="auto",w.style.right="0",w.style.bottom="0";var le=w.getBoundingClientRect();w.style.left=R,w.style.top=D,w.style.right=k,w.style.bottom=j,w.style.overflow=G,(b=w.parentElement)===null||b===void 0||b.removeChild(N);var De=Iu(Math.round(q/parseFloat(I)*1e3)/1e3),tt=Iu(Math.round(J/parseFloat(M)*1e3)/1e3);if(De===0||tt===0||jh(n)&&!PO(n))return;var He=F.offset,Me=F.targetOffset,pt=xC(B,He),mt=X(pt,2),Ye=mt[0],Ze=mt[1],$e=xC(A,Me),Tt=X($e,2),dn=Tt[0],xn=Tt[1];A.x-=dn,A.y-=xn;var kt=F.points||[],gt=X(kt,2),wt=gt[0],Ft=gt[1],ct=CC(Ft),vt=CC(wt),Qt=Ea(A,ct),nt=Ea(B,vt),Pt=$({},F),rt=Qt.x-nt.x+Ye,Se=Qt.y-nt.y+Ze,qe=K(rt,Se),ve=K(rt,Se,ce),Re=Ea(A,["t","l"]),ee=Ea(B,["t","l"]),be=Ea(A,["b","r"]),pe=Ea(B,["b","r"]),ye=F.overflow||{},Je=ye.adjustX,et=ye.adjustY,jt=ye.shiftX,Jt=ye.shiftY,At=function(Mt){return typeof Mt=="boolean"?Mt:Mt>=0},yt,on,hn,Gn;he();var Ne=At(et),xe=vt[0]===ct[0];if(Ne&&vt[0]==="t"&&(on>fe.bottom||h.current.bt)){var ke=Se;xe?ke-=J-Z:ke=Re.y-pe.y-Ze;var ft=K(rt,ke),$t=K(rt,ke,ce);ft>qe||ft===qe&&(!Te||$t>=ve)?(h.current.bt=!0,Se=ke,Ze=-Ze,Pt.points=[Mo(vt,0),Mo(ct,0)]):h.current.bt=!1}if(Ne&&vt[0]==="b"&&(yt<fe.top||h.current.tb)){var Dt=Se;xe?Dt+=J-Z:Dt=be.y-ee.y-Ze;var qn=K(rt,Dt),Xi=K(rt,Dt,ce);qn>qe||qn===qe&&(!Te||Xi>=ve)?(h.current.tb=!0,Se=Dt,Ze=-Ze,Pt.points=[Mo(vt,0),Mo(ct,0)]):h.current.tb=!1}var Ri=At(Je),pr=vt[1]===ct[1];if(Ri&&vt[1]==="l"&&(Gn>fe.right||h.current.rl)){var Rt=rt;pr?Rt-=q-ue:Rt=Re.x-pe.x-Ye;var Mr=K(Rt,Se),sr=K(Rt,Se,ce);Mr>qe||Mr===qe&&(!Te||sr>=ve)?(h.current.rl=!0,rt=Rt,Ye=-Ye,Pt.points=[Mo(vt,1),Mo(ct,1)]):h.current.rl=!1}if(Ri&&vt[1]==="r"&&(hn<fe.left||h.current.lr)){var yn=rt;pr?yn+=q-ue:yn=be.x-ee.x-Ye;var Yr=K(yn,Se),bn=K(yn,Se,ce);Yr>qe||Yr===qe&&(!Te||bn>=ve)?(h.current.lr=!0,rt=yn,Ye=-Ye,Pt.points=[Mo(vt,1),Mo(ct,1)]):h.current.lr=!1}he();var gn=jt===!0?0:jt;typeof gn=="number"&&(hn<ce.left&&(rt-=hn-ce.left-Ye,A.x+ue<ce.left+gn&&(rt+=A.x-ce.left+ue-gn)),Gn>ce.right&&(rt-=Gn-ce.right-Ye,A.x>ce.right-gn&&(rt+=A.x-ce.right+gn)));var Zr=Jt===!0?0:Jt;typeof Zr=="number"&&(yt<ce.top&&(Se-=yt-ce.top-Ze,A.y+Z<ce.top+Zr&&(Se+=A.y-ce.top+Z-Zr)),on>ce.bottom&&(Se-=on-ce.bottom-Ze,A.y>ce.bottom-Zr&&(Se+=A.y-ce.bottom+Zr)));var di=B.x+rt,Or=di+q,Kt=B.y+Se,Lr=Kt+J,Ve=A.x,ze=Ve+ue,Vt=A.y,sn=Vt+Z,St=Math.max(di,Ve),It=Math.min(Or,ze),Fn=(St+It)/2,Qr=Fn-di,Xn=Math.max(Kt,Vt),mr=Math.min(Lr,sn),vr=(Xn+mr)/2,Eo=vr-Kt;s==null||s(e,Pt);var C=le.right-B.x-(rt+B.width),T=le.bottom-B.y-(Se+B.height);u({ready:!0,offsetX:rt/De,offsetY:Se/tt,offsetR:C/De,offsetB:T/tt,arrowX:Qr/De,arrowY:Eo/tt,scaleX:De,scaleY:tt,align:Pt})}}),_=function(){f.current+=1;var b=f.current;Promise.resolve().then(function(){f.current===b&&v()})},m=function(){u(function(b){return $($({},b),{},{ready:!1})})};return Zt(m,[r]),Zt(function(){t||m()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,_]}function xJ(t,e,n,r,i){Zt(function(){if(t&&e&&n){let d=function(){r(),i()};var f=d,o=e,s=n,a=vy(o),l=vy(s),c=sf(s),u=new Set([c].concat(Ae(a),Ae(l)));return u.forEach(function(h){h.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),r(),function(){u.forEach(function(h){h.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[t,e,n])}function CJ(t,e,n,r,i,o,s,a){var l=g.useRef(t),c=g.useRef(!1);l.current!==t&&(c.current=!0,l.current=t),g.useEffect(function(){var u=En(function(){c.current=!1});return function(){En.cancel(u)}},[t]),g.useEffect(function(){if(e&&r&&(!i||o)){var u=function(){var x=!1,E=function(O){var R=O.target;x=s(R)},I=function(O){var R=O.target;!c.current&&l.current&&!x&&!s(R)&&a(!1)};return[E,I]},f=u(),d=X(f,2),h=d[0],p=d[1],v=u(),_=X(v,2),m=_[0],y=_[1],b=sf(r);b.addEventListener("mousedown",h,!0),b.addEventListener("click",p,!0),b.addEventListener("contextmenu",p,!0);var w=Fh(n);return w&&(w.addEventListener("mousedown",m,!0),w.addEventListener("click",y,!0),w.addEventListener("contextmenu",y,!0)),function(){b.removeEventListener("mousedown",h,!0),b.removeEventListener("click",p,!0),b.removeEventListener("contextmenu",p,!0),w&&(w.removeEventListener("mousedown",m,!0),w.removeEventListener("click",y,!0),w.removeEventListener("contextmenu",y,!0))}}},[e,n,r,i,o])}var TJ=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function PJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ep,e=g.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=n.children,a=n.action,l=a===void 0?"hover":a,c=n.showAction,u=n.hideAction,f=n.popupVisible,d=n.defaultPopupVisible,h=n.onPopupVisibleChange,p=n.afterPopupVisibleChange,v=n.mouseEnterDelay,_=n.mouseLeaveDelay,m=_===void 0?.1:_,y=n.focusDelay,b=n.blurDelay,w=n.mask,S=n.maskClosable,x=S===void 0?!0:S,E=n.getPopupContainer,I=n.forceRender,M=n.autoDestroy,O=n.destroyPopupOnHide,R=n.popup,D=n.popupClassName,k=n.popupStyle,j=n.popupPlacement,G=n.builtinPlacements,F=G===void 0?{}:G,N=n.popupAlign,A=n.zIndex,z=n.stretch,B=n.getPopupClassNameFromAlign,U=n.fresh,W=n.alignPoint,Y=n.onPopupClick,re=n.onPopupAlign,se=n.arrow,ge=n.popupMotion,ae=n.maskMotion,J=n.popupTransitionName,q=n.popupAnimation,Z=n.maskTransitionName,ue=n.maskAnimation,ie=n.className,Q=n.getTriggerDOMNode,oe=vn(n,TJ),Ie=M||O||!1,Le=g.useState(!1),Te=X(Le,2),Fe=Te[0],ce=Te[1];Zt(function(){ce(EL())},[]);var Pe=g.useRef({}),fe=g.useContext(bC),le=g.useMemo(function(){return{registerSubPopup:function(Ue,ln){Pe.current[Ue]=ln,fe==null||fe.registerSubPopup(Ue,ln)}}},[fe]),De=WO(),tt=g.useState(null),He=X(tt,2),Me=He[0],pt=He[1],mt=br(function(Ce){jh(Ce)&&Me!==Ce&&pt(Ce),fe==null||fe.registerSubPopup(De,Ce)}),Ye=g.useState(null),Ze=X(Ye,2),$e=Ze[0],Tt=Ze[1],dn=g.useRef(null),xn=br(function(Ce){jh(Ce)&&$e!==Ce&&(Tt(Ce),dn.current=Ce)}),kt=g.Children.only(s),gt=(kt==null?void 0:kt.props)||{},wt={},Ft=br(function(Ce){var Ue,ln,Cn=$e;return(Cn==null?void 0:Cn.contains(Ce))||((Ue=Fh(Cn))===null||Ue===void 0?void 0:Ue.host)===Ce||Ce===Cn||(Me==null?void 0:Me.contains(Ce))||((ln=Fh(Me))===null||ln===void 0?void 0:ln.host)===Ce||Ce===Me||Object.values(Pe.current).some(function(cn){return(cn==null?void 0:cn.contains(Ce))||Ce===cn})}),ct=wC(o,ge,q,J),vt=wC(o,ae,ue,Z),Qt=g.useState(d||!1),nt=X(Qt,2),Pt=nt[0],rt=nt[1],Se=f??Pt,qe=br(function(Ce){f===void 0&&rt(Ce)});Zt(function(){rt(f||!1)},[f]);var ve=g.useRef(Se);ve.current=Se;var Re=g.useRef([]);Re.current=[];var ee=br(function(Ce){var Ue;qe(Ce),((Ue=Re.current[Re.current.length-1])!==null&&Ue!==void 0?Ue:Se)!==Ce&&(Re.current.push(Ce),h==null||h(Ce))}),be=g.useRef(),pe=function(){clearTimeout(be.current)},ye=function(Ue){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;pe(),ln===0?ee(Ue):be.current=setTimeout(function(){ee(Ue)},ln*1e3)};g.useEffect(function(){return pe},[]);var Je=g.useState(!1),et=X(Je,2),jt=et[0],Jt=et[1];Zt(function(Ce){(!Ce||Se)&&Jt(!0)},[Se]);var At=g.useState(null),yt=X(At,2),on=yt[0],hn=yt[1],Gn=g.useState([0,0]),Ne=X(Gn,2),xe=Ne[0],ke=Ne[1],ft=function(Ue){ke([Ue.clientX,Ue.clientY])},$t=EJ(Se,Me,W?xe:$e,j,F,N,re),Dt=X($t,11),qn=Dt[0],Xi=Dt[1],Ri=Dt[2],pr=Dt[3],Rt=Dt[4],Mr=Dt[5],sr=Dt[6],yn=Dt[7],Yr=Dt[8],bn=Dt[9],gn=Dt[10],Zr=_J(Fe,l,c,u),di=X(Zr,2),Or=di[0],Kt=di[1],Lr=Or.has("click"),Ve=Kt.has("click")||Kt.has("contextMenu"),ze=br(function(){jt||gn()}),Vt=function(){ve.current&&W&&Ve&&ye(!1)};xJ(Se,$e,Me,ze,Vt),Zt(function(){ze()},[xe,j]),Zt(function(){Se&&!(F!=null&&F[j])&&ze()},[JSON.stringify(N)]);var sn=g.useMemo(function(){var Ce=SJ(F,o,bn,W);return Ee(Ce,B==null?void 0:B(bn))},[bn,B,F,o,W]);g.useImperativeHandle(r,function(){return{nativeElement:dn.current,forceAlign:ze}});var St=g.useState(0),It=X(St,2),Fn=It[0],Qr=It[1],Xn=g.useState(0),mr=X(Xn,2),vr=mr[0],Eo=mr[1],C=function(){if(z&&$e){var Ue=$e.getBoundingClientRect();Qr(Ue.width),Eo(Ue.height)}},T=function(){C(),ze()},L=function(Ue){Jt(!1),gn(),p==null||p(Ue)},H=function(){return new Promise(function(Ue){C(),hn(function(){return Ue})})};Zt(function(){on&&(gn(),on(),hn(null))},[on]);function K(Ce,Ue,ln,Cn){wt[Ce]=function(cn){var af;Cn==null||Cn(cn),ye(Ue,ln);for(var lp=arguments.length,Qb=new Array(lp>1?lp-1:0),lf=1;lf<lp;lf++)Qb[lf-1]=arguments[lf];(af=gt[Ce])===null||af===void 0||af.call.apply(af,[gt,cn].concat(Qb))}}(Lr||Ve)&&(wt.onClick=function(Ce){var Ue;ve.current&&Ve?ye(!1):!ve.current&&Lr&&(ft(Ce),ye(!0));for(var ln=arguments.length,Cn=new Array(ln>1?ln-1:0),cn=1;cn<ln;cn++)Cn[cn-1]=arguments[cn];(Ue=gt.onClick)===null||Ue===void 0||Ue.call.apply(Ue,[gt,Ce].concat(Cn))}),CJ(Se,Ve,$e,Me,w,x,Ft,ye);var he=Or.has("hover"),Ke=Kt.has("hover"),Mt,Ut;he&&(K("onMouseEnter",!0,v,function(Ce){ft(Ce)}),K("onPointerEnter",!0,v,function(Ce){ft(Ce)}),Mt=function(){(Se||jt)&&ye(!0,v)},W&&(wt.onMouseMove=function(Ce){var Ue;(Ue=gt.onMouseMove)===null||Ue===void 0||Ue.call(gt,Ce)})),Ke&&(K("onMouseLeave",!1,m),K("onPointerLeave",!1,m),Ut=function(){ye(!1,m)}),Or.has("focus")&&K("onFocus",!0,y),Kt.has("focus")&&K("onBlur",!1,b),Or.has("contextMenu")&&(wt.onContextMenu=function(Ce){var Ue;ve.current&&Kt.has("contextMenu")?ye(!1):(ft(Ce),ye(!0)),Ce.preventDefault();for(var ln=arguments.length,Cn=new Array(ln>1?ln-1:0),cn=1;cn<ln;cn++)Cn[cn-1]=arguments[cn];(Ue=gt.onContextMenu)===null||Ue===void 0||Ue.call.apply(Ue,[gt,Ce].concat(Cn))}),ie&&(wt.className=Ee(gt.className,ie));var an=$($({},gt),wt),Kn={},ip=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];ip.forEach(function(Ce){oe[Ce]&&(Kn[Ce]=function(){for(var Ue,ln=arguments.length,Cn=new Array(ln),cn=0;cn<ln;cn++)Cn[cn]=arguments[cn];(Ue=an[Ce])===null||Ue===void 0||Ue.call.apply(Ue,[an].concat(Cn)),oe[Ce].apply(oe,Cn)})});var op=g.cloneElement(kt,$($({},an),Kn)),sp={x:Mr,y:sr},ap=se?$({},se!==!0?se:{}):null;return g.createElement(g.Fragment,null,g.createElement(oa,{disabled:!Se,ref:xn,onResize:T},g.createElement(bJ,{getTriggerDOMNode:Q},op)),g.createElement(bC.Provider,{value:le},g.createElement(yJ,{portal:t,ref:mt,prefixCls:o,popup:R,className:Ee(D,sn),style:k,target:$e,onMouseEnter:Mt,onMouseLeave:Ut,onPointerEnter:Mt,zIndex:A,open:Se,keepDom:jt,fresh:U,onClick:Y,mask:w,motion:ct,maskMotion:vt,onVisibleChanged:L,onPrepare:H,forceRender:I,autoDestroy:Ie,getPopupContainer:E,align:bn,arrow:ap,arrowPos:sp,ready:qn,offsetX:Xi,offsetY:Ri,offsetR:pr,offsetB:Rt,onAlign:ze,stretch:z,targetWidth:Fn/yn,targetHeight:vr/Yr})))});return e}const AJ=PJ(ep);var IJ=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],MJ=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},OJ=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,s=e.popupElement,a=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,f=e.direction,d=f===void 0?"ltr":f,h=e.placement,p=e.builtinPlacements,v=e.dropdownMatchSelectWidth,_=e.dropdownRender,m=e.dropdownAlign,y=e.getPopupContainer,b=e.empty,w=e.getTriggerDOMNode,S=e.onPopupVisibleChange,x=e.onPopupMouseEnter,E=vn(e,IJ),I="".concat(r,"-dropdown"),M=s;_&&(M=_(s));var O=g.useMemo(function(){return p||MJ(v)},[p,v]),R=a?"".concat(I,"-").concat(a):l,D=typeof v=="number",k=g.useMemo(function(){return D?null:v===!1?"minWidth":"width"},[v,D]),j=c;D&&(j=$($({},j),{},{width:v}));var G=g.useRef(null);return g.useImperativeHandle(n,function(){return{getPopupElement:function(){return G.current}}}),g.createElement(AJ,Be({},E,{showAction:S?["click"]:[],hideAction:S?["click"]:[],popupPlacement:h||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:O,prefixCls:I,popupTransitionName:R,popup:g.createElement("div",{ref:G,onMouseEnter:x},M),stretch:k,popupAlign:m,popupVisible:i,getPopupContainer:y,popupClassName:Ee(u,V({},"".concat(I,"-empty"),b)),popupStyle:j,getTriggerDOMNode:w,onPopupVisibleChange:S}),o)},LL=g.forwardRef(OJ);LL.displayName="SelectTrigger";function TC(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function RL(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,s=n.groupLabel,a=r||(e?"children":"label");return{label:a,value:i||"value",options:o||"options",groupLabel:s||a}}function LJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=RL(n,!1),s=o.label,a=o.value,l=o.options,c=o.groupLabel;function u(f,d){f.forEach(function(h){if(d||!(l in h)){var p=h[a];i.push({key:TC(h,i.length),groupOption:d,data:h,label:h[s],value:p})}else{var v=h[c];v===void 0&&r&&(v=h.label),i.push({key:TC(h,i.length),group:!0,data:h,label:v}),u(h[l],!0)}})}return u(t,!1),i}function yy(t){var e=$({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return fr(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function RJ(t,e){if(!e||!e.length)return null;var n=!1;function r(o,s){var a=VM(s),l=a[0],c=a.slice(1);if(!l)return[o];var u=o.split(l);return n=n||u.length>1,u.reduce(function(f,d){return[].concat(Ae(f),Ae(r(d,c)))},[]).filter(function(f){return f})}var i=r(t,e);return n?i:null}var NJ=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],kJ=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function by(t){return t==="tags"||t==="multiple"}var FJ=g.forwardRef(function(t,e){var n,r,i=t.id,o=t.prefixCls,s=t.className,a=t.showSearch,l=t.tagRender,c=t.direction,u=t.omitDomProps,f=t.displayValues,d=t.onDisplayValuesChange,h=t.emptyOptions,p=t.notFoundContent,v=p===void 0?"Not Found":p,_=t.onClear,m=t.mode,y=t.disabled,b=t.loading,w=t.getInputElement,S=t.getRawInputElement,x=t.open,E=t.defaultOpen,I=t.onDropdownVisibleChange,M=t.activeValue,O=t.onActiveValueChange,R=t.activeDescendantId,D=t.searchValue,k=t.autoClearSearchValue,j=t.onSearch,G=t.onSearchSplit,F=t.tokenSeparators,N=t.allowClear,A=t.suffixIcon,z=t.clearIcon,B=t.OptionList,U=t.animation,W=t.transitionName,Y=t.dropdownStyle,re=t.dropdownClassName,se=t.dropdownMatchSelectWidth,ge=t.dropdownRender,ae=t.dropdownAlign,J=t.placement,q=t.builtinPlacements,Z=t.getPopupContainer,ue=t.showAction,ie=ue===void 0?[]:ue,Q=t.onFocus,oe=t.onBlur,Ie=t.onKeyUp,Le=t.onKeyDown,Te=t.onMouseDown,Fe=vn(t,NJ),ce=by(m),Pe=(a!==void 0?a:ce)||m==="combobox",fe=$({},Fe);kJ.forEach(function(Ve){delete fe[Ve]}),u==null||u.forEach(function(Ve){delete fe[Ve]});var le=g.useState(!1),De=X(le,2),tt=De[0],He=De[1];g.useEffect(function(){He(EL())},[]);var Me=g.useRef(null),pt=g.useRef(null),mt=g.useRef(null),Ye=g.useRef(null),Ze=g.useRef(null),$e=g.useRef(!1),Tt=WQ(),dn=X(Tt,3),xn=dn[0],kt=dn[1],gt=dn[2];g.useImperativeHandle(e,function(){var Ve,ze;return{focus:(Ve=Ye.current)===null||Ve===void 0?void 0:Ve.focus,blur:(ze=Ye.current)===null||ze===void 0?void 0:ze.blur,scrollTo:function(sn){var St;return(St=Ze.current)===null||St===void 0?void 0:St.scrollTo(sn)}}});var wt=g.useMemo(function(){var Ve;if(m!=="combobox")return D;var ze=(Ve=f[0])===null||Ve===void 0?void 0:Ve.value;return typeof ze=="string"||typeof ze=="number"?String(ze):""},[D,m,f]),Ft=m==="combobox"&&typeof w=="function"&&w()||null,ct=typeof S=="function"&&S(),vt=Dl(pt,ct==null||(n=ct.props)===null||n===void 0?void 0:n.ref),Qt=g.useState(!1),nt=X(Qt,2),Pt=nt[0],rt=nt[1];Zt(function(){rt(!0)},[]);var Se=Gh(!1,{defaultValue:E,value:x}),qe=X(Se,2),ve=qe[0],Re=qe[1],ee=Pt?ve:!1,be=!v&&h;(y||be&&ee&&m==="combobox")&&(ee=!1);var pe=be?!1:ee,ye=g.useCallback(function(Ve){var ze=Ve!==void 0?Ve:!ee;y||(Re(ze),ee!==ze&&(I==null||I(ze)))},[y,ee,Re,I]),Je=g.useMemo(function(){return(F||[]).some(function(Ve){return[`
`,`\r
`].includes(Ve)})},[F]),et=function(ze,Vt,sn){var St=!0,It=ze;O==null||O(null);var Fn=sn?null:RJ(ze,F);return m!=="combobox"&&Fn&&(It="",G==null||G(Fn),ye(!1),St=!1),j&&wt!==It&&j(It,{source:Vt?"typing":"effect"}),St},jt=function(ze){!ze||!ze.trim()||j(ze,{source:"submit"})};g.useEffect(function(){!ee&&!ce&&m!=="combobox"&&et("",!1,!1)},[ee]),g.useEffect(function(){ve&&y&&Re(!1),y&&!$e.current&&kt(!1)},[y]);var Jt=CL(),At=X(Jt,2),yt=At[0],on=At[1],hn=function(ze){var Vt=yt(),sn=ze.which;if(sn===te.ENTER&&(m!=="combobox"&&ze.preventDefault(),ee||ye(!0)),on(!!wt),sn===te.BACKSPACE&&!Vt&&ce&&!wt&&f.length){for(var St=Ae(f),It=null,Fn=St.length-1;Fn>=0;Fn-=1){var Qr=St[Fn];if(!Qr.disabled){St.splice(Fn,1),It=Qr;break}}It&&d(St,{type:"remove",values:[It]})}for(var Xn=arguments.length,mr=new Array(Xn>1?Xn-1:0),vr=1;vr<Xn;vr++)mr[vr-1]=arguments[vr];if(ee&&Ze.current){var Eo;(Eo=Ze.current).onKeyDown.apply(Eo,[ze].concat(mr))}Le==null||Le.apply(void 0,[ze].concat(mr))},Gn=function(ze){for(var Vt=arguments.length,sn=new Array(Vt>1?Vt-1:0),St=1;St<Vt;St++)sn[St-1]=arguments[St];if(ee&&Ze.current){var It;(It=Ze.current).onKeyUp.apply(It,[ze].concat(sn))}Ie==null||Ie.apply(void 0,[ze].concat(sn))},Ne=function(ze){var Vt=f.filter(function(sn){return sn!==ze});d(Vt,{type:"remove",values:[ze]})},xe=g.useRef(!1),ke=function(){kt(!0),y||(Q&&!xe.current&&Q.apply(void 0,arguments),ie.includes("focus")&&ye(!0)),xe.current=!0},ft=function(){$e.current=!0,kt(!1,function(){xe.current=!1,$e.current=!1,ye(!1)}),!y&&(wt&&(m==="tags"?j(wt,{source:"submit"}):m==="multiple"&&j("",{source:"blur"})),oe&&oe.apply(void 0,arguments))},$t=[];g.useEffect(function(){return function(){$t.forEach(function(Ve){return clearTimeout(Ve)}),$t.splice(0,$t.length)}},[]);var Dt=function(ze){var Vt,sn=ze.target,St=(Vt=mt.current)===null||Vt===void 0?void 0:Vt.getPopupElement();if(St&&St.contains(sn)){var It=setTimeout(function(){var mr=$t.indexOf(It);if(mr!==-1&&$t.splice(mr,1),gt(),!tt&&!St.contains(document.activeElement)){var vr;(vr=Ye.current)===null||vr===void 0||vr.focus()}});$t.push(It)}for(var Fn=arguments.length,Qr=new Array(Fn>1?Fn-1:0),Xn=1;Xn<Fn;Xn++)Qr[Xn-1]=arguments[Xn];Te==null||Te.apply(void 0,[ze].concat(Qr))},qn=g.useState({}),Xi=X(qn,2),Ri=Xi[1];function pr(){Ri({})}var Rt;ct&&(Rt=function(ze){ye(ze)}),GQ(function(){var Ve;return[Me.current,(Ve=mt.current)===null||Ve===void 0?void 0:Ve.getPopupElement()]},pe,ye,!!ct);var Mr=g.useMemo(function(){return $($({},t),{},{notFoundContent:v,open:ee,triggerOpen:pe,id:i,showSearch:Pe,multiple:ce,toggleOpen:ye})},[t,v,pe,ee,i,Pe,ce,ye]),sr=!!A||b,yn;sr&&(yn=g.createElement(np,{className:Ee("".concat(o,"-arrow"),V({},"".concat(o,"-arrow-loading"),b)),customizeIcon:A,customizeIconProps:{loading:b,searchValue:wt,open:ee,focused:xn,showSearch:Pe}}));var Yr=function(){var ze;_==null||_(),(ze=Ye.current)===null||ze===void 0||ze.focus(),d([],{type:"clear",values:f}),et("",!1,!1)},bn=UQ(o,Yr,f,N,z,y,wt,m),gn=bn.allowClear,Zr=bn.clearIcon,di=g.createElement(B,{ref:Ze}),Or=Ee(o,s,(r={},V(r,"".concat(o,"-focused"),xn),V(r,"".concat(o,"-multiple"),ce),V(r,"".concat(o,"-single"),!ce),V(r,"".concat(o,"-allow-clear"),N),V(r,"".concat(o,"-show-arrow"),sr),V(r,"".concat(o,"-disabled"),y),V(r,"".concat(o,"-loading"),b),V(r,"".concat(o,"-open"),ee),V(r,"".concat(o,"-customize-input"),Ft),V(r,"".concat(o,"-show-search"),Pe),r)),Kt=g.createElement(LL,{ref:mt,disabled:y,prefixCls:o,visible:pe,popupElement:di,animation:U,transitionName:W,dropdownStyle:Y,dropdownClassName:re,direction:c,dropdownMatchSelectWidth:se,dropdownRender:ge,dropdownAlign:ae,placement:J,builtinPlacements:q,getPopupContainer:Z,empty:h,getTriggerDOMNode:function(){return pt.current},onPopupVisibleChange:Rt,onPopupMouseEnter:pr},ct?g.cloneElement(ct,{ref:vt}):g.createElement(OL,Be({},t,{domRef:pt,prefixCls:o,inputElement:Ft,ref:Ye,id:i,showSearch:Pe,autoClearSearchValue:k,mode:m,activeDescendantId:R,tagRender:l,values:f,open:ee,onToggleOpen:ye,activeValue:M,searchValue:wt,onSearch:et,onSearchSubmit:jt,onRemove:Ne,tokenWithEnter:Je}))),Lr;return ct?Lr=Kt:Lr=g.createElement("div",Be({className:Or},fe,{ref:Me,onMouseDown:Dt,onKeyDown:hn,onKeyUp:Gn,onFocus:ke,onBlur:ft}),xn&&!ee&&g.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map(function(Ve){var ze=Ve.label,Vt=Ve.value;return["number","string"].includes(at(ze))?ze:Vt}).join(", "))),Kt,yn,gn&&Zr),g.createElement(xL.Provider,{value:Mr},Lr)}),$b=function(){return null};$b.isSelectOptGroup=!0;var Vb=function(){return null};Vb.isSelectOption=!0;var NL=g.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,s=t.prefixCls,a=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,f={},d={display:"flex",flexDirection:"column"};if(r!==void 0){var h;f={height:n,position:"relative",overflow:"hidden"},d=$($({},d),{},(h={transform:"translateY(".concat(r,"px)")},V(h,c?"marginRight":"marginLeft",-i),V(h,"position","absolute"),V(h,"left",0),V(h,"right",0),V(h,"top",0),h))}return g.createElement("div",{style:f},g.createElement(oa,{onResize:function(v){var _=v.offsetHeight;_&&a&&a()}},g.createElement("div",Be({style:d,className:Ee(V({},"".concat(s,"-holder-inner"),s)),ref:e},l),o,u)))});NL.displayName="Filler";function PC(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]}var AC=g.forwardRef(function(t,e){var n,r=t.prefixCls,i=t.rtl,o=t.scrollOffset,s=t.scrollRange,a=t.onStartMove,l=t.onStopMove,c=t.onScroll,u=t.horizontal,f=t.spinSize,d=t.containerSize,h=t.style,p=t.thumbStyle,v=g.useState(!1),_=X(v,2),m=_[0],y=_[1],b=g.useState(null),w=X(b,2),S=w[0],x=w[1],E=g.useState(null),I=X(E,2),M=I[0],O=I[1],R=!i,D=g.useRef(),k=g.useRef(),j=g.useState(!1),G=X(j,2),F=G[0],N=G[1],A=g.useRef(),z=function(){clearTimeout(A.current),N(!0),A.current=setTimeout(function(){N(!1)},3e3)},B=s-d||0,U=d-f||0,W=B>0,Y=g.useMemo(function(){if(o===0||B===0)return 0;var ie=o/B;return ie*U},[o,B,U]),re=function(Q){Q.stopPropagation(),Q.preventDefault()},se=g.useRef({top:Y,dragging:m,pageY:S,startTop:M});se.current={top:Y,dragging:m,pageY:S,startTop:M};var ge=function(Q){y(!0),x(PC(Q,u)),O(se.current.top),a(),Q.stopPropagation(),Q.preventDefault()};g.useEffect(function(){var ie=function(Le){Le.preventDefault()},Q=D.current,oe=k.current;return Q.addEventListener("touchstart",ie),oe.addEventListener("touchstart",ge),function(){Q.removeEventListener("touchstart",ie),oe.removeEventListener("touchstart",ge)}},[]);var ae=g.useRef();ae.current=B;var J=g.useRef();J.current=U,g.useEffect(function(){if(m){var ie,Q=function(Le){var Te=se.current,Fe=Te.dragging,ce=Te.pageY,Pe=Te.startTop;if(En.cancel(ie),Fe){var fe=PC(Le,u)-ce,le=Pe;!R&&u?le-=fe:le+=fe;var De=ae.current,tt=J.current,He=tt?le/tt:0,Me=Math.ceil(He*De);Me=Math.max(Me,0),Me=Math.min(Me,De),ie=En(function(){c(Me,u)})}},oe=function(){y(!1),l()};return window.addEventListener("mousemove",Q),window.addEventListener("touchmove",Q),window.addEventListener("mouseup",oe),window.addEventListener("touchend",oe),function(){window.removeEventListener("mousemove",Q),window.removeEventListener("touchmove",Q),window.removeEventListener("mouseup",oe),window.removeEventListener("touchend",oe),En.cancel(ie)}}},[m]),g.useEffect(function(){z()},[o]),g.useImperativeHandle(e,function(){return{delayHidden:z}});var q="".concat(r,"-scrollbar"),Z={position:"absolute",visibility:F&&W?null:"hidden"},ue={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return u?(Z.height=8,Z.left=0,Z.right=0,Z.bottom=0,ue.height="100%",ue.width=f,R?ue.left=Y:ue.right=Y):(Z.width=8,Z.top=0,Z.bottom=0,R?Z.right=0:Z.left=0,ue.width="100%",ue.height=f,ue.top=Y),g.createElement("div",{ref:D,className:Ee(q,(n={},V(n,"".concat(q,"-horizontal"),u),V(n,"".concat(q,"-vertical"),!u),V(n,"".concat(q,"-visible"),F),n)),style:$($({},Z),h),onMouseDown:re,onMouseMove:z},g.createElement("div",{ref:k,className:Ee("".concat(q,"-thumb"),V({},"".concat(q,"-thumb-moving"),m)),style:$($({},ue),p),onMouseDown:ge}))});function DJ(t){var e=t.children,n=t.setRef,r=g.useCallback(function(i){n(i)},[]);return g.cloneElement(e,{ref:r})}function zJ(t,e,n,r,i,o,s){var a=s.getKey;return t.slice(e,n+1).map(function(l,c){var u=e+c,f=o(l,u,{style:{width:r}}),d=a(l);return g.createElement(DJ,{key:d,setRef:function(p){return i(l,p)}},f)})}var BJ=function(){function t(){Ar(this,t),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return Ir(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function jJ(t,e,n){var r=g.useState(0),i=X(r,2),o=i[0],s=i[1],a=g.useRef(new Map),l=g.useRef(new BJ),c=g.useRef();function u(){En.cancel(c.current)}function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var p=function(){a.current.forEach(function(_,m){if(_&&_.offsetParent){var y=Dc(_),b=y.offsetHeight;l.current.get(m)!==b&&l.current.set(m,y.offsetHeight)}}),s(function(_){return _+1})};h?p():c.current=En(p)}function d(h,p){var v=t(h),_=a.current.get(v);p?(a.current.set(v,p),f()):a.current.delete(v),!_!=!p&&(p?e==null||e(h):n==null||n(h))}return g.useEffect(function(){return u},[]),[d,f,l.current,o]}var $J=10;function VJ(t,e,n,r,i,o,s,a){var l=g.useRef(),c=g.useState(null),u=X(c,2),f=u[0],d=u[1];return Zt(function(){if(f&&f.times<$J){if(!t.current){d(function(z){return $({},z)});return}o();var h=f.targetAlign,p=f.originAlign,v=f.index,_=f.offset,m=t.current.clientHeight,y=!1,b=h,w=null;if(m){for(var S=h||p,x=0,E=0,I=0,M=Math.min(e.length-1,v),O=0;O<=M;O+=1){var R=i(e[O]);E=x;var D=n.get(R);I=E+(D===void 0?r:D),x=I}for(var k=S==="top"?_:m-_,j=M;j>=0;j-=1){var G=i(e[j]),F=n.get(G);if(F===void 0){y=!0;break}if(k-=F,k<=0)break}switch(S){case"top":w=E-_;break;case"bottom":w=I-m+_;break;default:{var N=t.current.scrollTop,A=N+m;E<N?b="top":I>A&&(b="bottom")}}w!==null&&s(w),w!==f.lastTop&&(y=!0)}y&&d($($({},f),{},{times:f.times+1,targetAlign:b,lastTop:w}))}},[f,t.current]),function(h){if(h==null){a();return}if(En.cancel(l.current),typeof h=="number")s(h);else if(h&&at(h)==="object"){var p,v=h.align;"index"in h?p=h.index:p=e.findIndex(function(y){return i(y)===h.key});var _=h.offset,m=_===void 0?0:_;d({times:0,index:p,offset:m,originAlign:v})}}}function UJ(t,e,n){var r=t.length,i=e.length,o,s;if(r===0&&i===0)return null;r<i?(o=t,s=e):(o=e,s=t);var a={__EMPTY_ITEM__:!0};function l(p){return p!==void 0?n(p):a}for(var c=null,u=Math.abs(r-i)!==1,f=0;f<s.length;f+=1){var d=l(o[f]),h=l(s[f]);if(d!==h){c=f,u=u||d!==l(s[f+1]);break}}return c===null?null:{index:c,multiple:u}}function HJ(t,e,n){var r=g.useState(t),i=X(r,2),o=i[0],s=i[1],a=g.useState(null),l=X(a,2),c=l[0],u=l[1];return g.useEffect(function(){var f=UJ(o||[],t||[],e);(f==null?void 0:f.index)!==void 0&&(n==null||n(f.index),u(t[f.index])),s(t)},[t]),[c]}var IC=(typeof navigator>"u"?"undefined":at(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const kL=function(t,e){var n=g.useRef(!1),r=g.useRef(null);function i(){clearTimeout(r.current),n.current=!0,r.current=setTimeout(function(){n.current=!1},50)}var o=g.useRef({top:t,bottom:e});return o.current.top=t,o.current.bottom=e,function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s<0&&o.current.top||s>0&&o.current.bottom;return a&&l?(clearTimeout(r.current),n.current=!1):(!l||n.current)&&i(),!n.current&&l}};function WJ(t,e,n,r,i){var o=g.useRef(0),s=g.useRef(null),a=g.useRef(null),l=g.useRef(!1),c=kL(e,n);function u(_,m){En.cancel(s.current),o.current+=m,a.current=m,!c(m)&&(IC||_.preventDefault(),s.current=En(function(){var y=l.current?10:1;i(o.current*y),o.current=0}))}function f(_,m){i(m,!0),IC||_.preventDefault()}var d=g.useRef(null),h=g.useRef(null);function p(_){if(t){En.cancel(h.current),h.current=En(function(){d.current=null},2);var m=_.deltaX,y=_.deltaY,b=_.shiftKey,w=m,S=y;(d.current==="sx"||!d.current&&b&&y&&!m)&&(w=y,S=0,d.current="sx");var x=Math.abs(w),E=Math.abs(S);d.current===null&&(d.current=r&&x>E?"x":"y"),d.current==="y"?u(_,S):f(_,w)}}function v(_){t&&(l.current=_.detail===a.current)}return[p,v]}var GJ=14/15;function qJ(t,e,n){var r=g.useRef(!1),i=g.useRef(0),o=g.useRef(null),s=g.useRef(null),a,l=function(d){if(r.current){var h=Math.ceil(d.touches[0].pageY),p=i.current-h;i.current=h,n(p)&&d.preventDefault(),clearInterval(s.current),s.current=setInterval(function(){p*=GJ,(!n(p,!0)||Math.abs(p)<=.1)&&clearInterval(s.current)},16)}},c=function(){r.current=!1,a()},u=function(d){a(),d.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(d.touches[0].pageY),o.current=d.target,o.current.addEventListener("touchmove",l),o.current.addEventListener("touchend",c))};a=function(){o.current&&(o.current.removeEventListener("touchmove",l),o.current.removeEventListener("touchend",c))},Zt(function(){return t&&e.current.addEventListener("touchstart",u),function(){var f;(f=e.current)===null||f===void 0||f.removeEventListener("touchstart",u),a(),clearInterval(s.current)}},[t])}var XJ=20;function MC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*100;return isNaN(n)&&(n=0),n=Math.max(n,XJ),n=Math.min(n,t/2),Math.floor(n)}function KJ(t,e,n,r){var i=g.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=X(i,2),s=o[0],a=o[1],l=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,d=s.get(u),h=s.get(f);if(d===void 0||h===void 0)for(var p=t.length,v=a.length;v<p;v+=1){var _,m=t[v],y=e(m);s.set(y,v);var b=(_=n.get(y))!==null&&_!==void 0?_:r;if(a[v]=(a[v-1]||0)+b,y===u&&(d=v),y===f&&(h=v),d!==void 0&&h!==void 0)break}return{top:a[d-1]||0,bottom:a[h]}};return l}var YJ=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],ZJ=[],QJ={overflowY:"auto",overflowAnchor:"none"};function JJ(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,s=t.itemHeight,a=t.fullHeight,l=a===void 0?!0:a,c=t.style,u=t.data,f=t.children,d=t.itemKey,h=t.virtual,p=t.direction,v=t.scrollWidth,_=t.component,m=_===void 0?"div":_,y=t.onScroll,b=t.onVirtualScroll,w=t.onVisibleChange,S=t.innerProps,x=t.extraRender,E=t.styles,I=vn(t,YJ),M=!!(h!==!1&&o&&s),O=M&&u&&(s*u.length>o||!!v),R=p==="rtl",D=Ee(r,V({},"".concat(r,"-rtl"),R),i),k=u||ZJ,j=g.useRef(),G=g.useRef(),F=g.useState(0),N=X(F,2),A=N[0],z=N[1],B=g.useState(0),U=X(B,2),W=U[0],Y=U[1],re=g.useState(!1),se=X(re,2),ge=se[0],ae=se[1],J=function(){ae(!0)},q=function(){ae(!1)},Z=g.useCallback(function(Ne){return typeof d=="function"?d(Ne):Ne==null?void 0:Ne[d]},[d]),ue={getKey:Z};function ie(Ne){z(function(xe){var ke;typeof Ne=="function"?ke=Ne(xe):ke=Ne;var ft=vt(ke);return j.current.scrollTop=ft,ft})}var Q=g.useRef({start:0,end:k.length}),oe=g.useRef(),Ie=HJ(k,Z),Le=X(Ie,1),Te=Le[0];oe.current=Te;var Fe=jJ(Z,null,null),ce=X(Fe,4),Pe=ce[0],fe=ce[1],le=ce[2],De=ce[3],tt=g.useMemo(function(){if(!M)return{scrollHeight:void 0,start:0,end:k.length-1,offset:void 0};if(!O){var Ne;return{scrollHeight:((Ne=G.current)===null||Ne===void 0?void 0:Ne.offsetHeight)||0,start:0,end:k.length-1,offset:void 0}}for(var xe=0,ke,ft,$t,Dt=k.length,qn=0;qn<Dt;qn+=1){var Xi=k[qn],Ri=Z(Xi),pr=le.get(Ri),Rt=xe+(pr===void 0?s:pr);Rt>=A&&ke===void 0&&(ke=qn,ft=xe),Rt>A+o&&$t===void 0&&($t=qn),xe=Rt}return ke===void 0&&(ke=0,ft=0,$t=Math.ceil(o/s)),$t===void 0&&($t=k.length-1),$t=Math.min($t+1,k.length-1),{scrollHeight:xe,start:ke,end:$t,offset:ft}},[O,M,A,k,De,o]),He=tt.scrollHeight,Me=tt.start,pt=tt.end,mt=tt.offset;Q.current.start=Me,Q.current.end=pt;var Ye=g.useState({width:0,height:o}),Ze=X(Ye,2),$e=Ze[0],Tt=Ze[1],dn=function(xe){Tt({width:xe.width||xe.offsetWidth,height:xe.height||xe.offsetHeight})},xn=g.useRef(),kt=g.useRef(),gt=g.useMemo(function(){return MC($e.width,v)},[$e.width,v]),wt=g.useMemo(function(){return MC($e.height,He)},[$e.height,He]),Ft=He-o,ct=g.useRef(Ft);ct.current=Ft;function vt(Ne){var xe=Ne;return Number.isNaN(ct.current)||(xe=Math.min(xe,ct.current)),xe=Math.max(xe,0),xe}var Qt=A<=0,nt=A>=Ft,Pt=kL(Qt,nt),rt=function(){return{x:R?-W:W,y:A}},Se=g.useRef(rt()),qe=br(function(){if(b){var Ne=rt();(Se.current.x!==Ne.x||Se.current.y!==Ne.y)&&(b(Ne),Se.current=Ne)}});function ve(Ne,xe){var ke=Ne;xe?(Hs.flushSync(function(){Y(ke)}),qe()):ie(ke)}function Re(Ne){var xe=Ne.currentTarget.scrollTop;xe!==A&&ie(xe),y==null||y(Ne),qe()}var ee=function(xe){var ke=xe,ft=v-$e.width;return ke=Math.max(ke,0),ke=Math.min(ke,ft),ke},be=br(function(Ne,xe){xe?(Hs.flushSync(function(){Y(function(ke){var ft=ke+(R?-Ne:Ne);return ee(ft)})}),qe()):ie(function(ke){var ft=ke+Ne;return ft})}),pe=WJ(M,Qt,nt,!!v,be),ye=X(pe,2),Je=ye[0],et=ye[1];qJ(M,j,function(Ne,xe){return Pt(Ne,xe)?!1:(Je({preventDefault:function(){},deltaY:Ne}),!0)}),Zt(function(){function Ne(ke){M&&ke.preventDefault()}var xe=j.current;return xe.addEventListener("wheel",Je),xe.addEventListener("DOMMouseScroll",et),xe.addEventListener("MozMousePixelScroll",Ne),function(){xe.removeEventListener("wheel",Je),xe.removeEventListener("DOMMouseScroll",et),xe.removeEventListener("MozMousePixelScroll",Ne)}},[M]),Zt(function(){v&&Y(function(Ne){return ee(Ne)})},[$e.width,v]);var jt=function(){var xe,ke;(xe=xn.current)===null||xe===void 0||xe.delayHidden(),(ke=kt.current)===null||ke===void 0||ke.delayHidden()},Jt=VJ(j,k,le,s,Z,function(){return fe(!0)},ie,jt);g.useImperativeHandle(e,function(){return{getScrollInfo:rt,scrollTo:function(xe){function ke(ft){return ft&&at(ft)==="object"&&("left"in ft||"top"in ft)}ke(xe)?(xe.left!==void 0&&Y(ee(xe.left)),Jt(xe.top)):Jt(xe)}}}),Zt(function(){if(w){var Ne=k.slice(Me,pt+1);w(Ne,k)}},[Me,pt,k]);var At=KJ(k,Z,le,s),yt=x==null?void 0:x({start:Me,end:pt,virtual:O,offsetX:W,offsetY:mt,rtl:R,getSize:At}),on=zJ(k,Me,pt,v,Pe,f,ue),hn=null;o&&(hn=$(V({},l?"height":"maxHeight",o),QJ),M&&(hn.overflowY="hidden",v&&(hn.overflowX="hidden"),ge&&(hn.pointerEvents="none")));var Gn={};return R&&(Gn.dir="rtl"),g.createElement("div",Be({style:$($({},c),{},{position:"relative"}),className:D},Gn,I),g.createElement(oa,{onResize:dn},g.createElement(m,{className:"".concat(r,"-holder"),style:hn,ref:j,onScroll:Re,onMouseEnter:jt},g.createElement(NL,{prefixCls:r,height:He,offsetX:W,offsetY:mt,scrollWidth:v,onInnerResize:fe,ref:G,innerProps:S,rtl:R,extra:yt},on))),O&&He>o&&g.createElement(AC,{ref:xn,prefixCls:r,scrollOffset:A,scrollRange:He,rtl:R,onScroll:ve,onStartMove:J,onStopMove:q,spinSize:wt,containerSize:$e.height,style:E==null?void 0:E.verticalScrollBar,thumbStyle:E==null?void 0:E.verticalScrollBarThumb}),O&&v&&g.createElement(AC,{ref:kt,prefixCls:r,scrollOffset:W,scrollRange:v,rtl:R,onScroll:ve,onStartMove:J,onStopMove:q,spinSize:gt,containerSize:$e.width,horizontal:!0,style:E==null?void 0:E.horizontalScrollBar,thumbStyle:E==null?void 0:E.horizontalScrollBarThumb}))}var FL=g.forwardRef(JJ);FL.displayName="List";var DL=g.createContext(null);function eee(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var tee=["disabled","title","children","style","className"];function OC(t){return typeof t=="string"||typeof t=="number"}var nee=function(e,n){var r=HQ(),i=r.prefixCls,o=r.id,s=r.open,a=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,f=r.notFoundContent,d=r.onPopupScroll,h=g.useContext(DL),p=h.flattenOptions,v=h.onActiveValue,_=h.defaultActiveFirstOption,m=h.onSelect,y=h.menuItemSelectedIcon,b=h.rawValues,w=h.fieldNames,S=h.virtual,x=h.direction,E=h.listHeight,I=h.listItemHeight,M=h.optionRender,O="".concat(i,"-item"),R=jg(function(){return p},[s,p],function(J,q){return q[0]&&J[1]!==q[1]}),D=g.useRef(null),k=function(q){q.preventDefault()},j=function(q){D.current&&D.current.scrollTo(typeof q=="number"?{index:q}:q)},G=function(q){for(var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ue=R.length,ie=0;ie<ue;ie+=1){var Q=(q+ie*Z+ue)%ue,oe=R[Q],Ie=oe.group,Le=oe.data;if(!Ie&&!Le.disabled)return Q}return-1},F=g.useState(function(){return G(0)}),N=X(F,2),A=N[0],z=N[1],B=function(q){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;z(q);var ue={source:Z?"keyboard":"mouse"},ie=R[q];if(!ie){v(null,-1,ue);return}v(ie.value,q,ue)};g.useEffect(function(){B(_!==!1?G(0):-1)},[R.length,c]);var U=g.useCallback(function(J){return b.has(J)&&l!=="combobox"},[l,Ae(b).toString(),b.size]);g.useEffect(function(){var J=setTimeout(function(){if(!a&&s&&b.size===1){var Z=Array.from(b)[0],ue=R.findIndex(function(ie){var Q=ie.data;return Q.value===Z});ue!==-1&&(B(ue),j(ue))}});if(s){var q;(q=D.current)===null||q===void 0||q.scrollTo(void 0)}return function(){return clearTimeout(J)}},[s,c]);var W=function(q){q!==void 0&&m(q,{selected:!b.has(q)}),a||u(!1)};if(g.useImperativeHandle(n,function(){return{onKeyDown:function(q){var Z=q.which,ue=q.ctrlKey;switch(Z){case te.N:case te.P:case te.UP:case te.DOWN:{var ie=0;if(Z===te.UP?ie=-1:Z===te.DOWN?ie=1:eee()&&ue&&(Z===te.N?ie=1:Z===te.P&&(ie=-1)),ie!==0){var Q=G(A+ie,ie);j(Q),B(Q,!0)}break}case te.ENTER:{var oe=R[A];oe&&!oe.data.disabled?W(oe.value):W(void 0),s&&q.preventDefault();break}case te.ESC:u(!1),s&&q.stopPropagation()}},onKeyUp:function(){},scrollTo:function(q){j(q)}}}),R.length===0)return g.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(O,"-empty"),onMouseDown:k},f);var Y=Object.keys(w).map(function(J){return w[J]}),re=function(q){return q.label};function se(J,q){var Z=J.group;return{role:Z?"presentation":"option",id:"".concat(o,"_list_").concat(q)}}var ge=function(q){var Z=R[q];if(!Z)return null;var ue=Z.data||{},ie=ue.value,Q=Z.group,oe=Pl(ue,!0),Ie=re(Z);return Z?g.createElement("div",Be({"aria-label":typeof Ie=="string"&&!Q?Ie:null},oe,{key:q},se(Z,q),{"aria-selected":U(ie)}),ie):null},ae={role:"listbox",id:"".concat(o,"_list")};return g.createElement(g.Fragment,null,S&&g.createElement("div",Be({},ae,{style:{height:0,width:0,overflow:"hidden"}}),ge(A-1),ge(A),ge(A+1)),g.createElement(FL,{itemKey:"key",ref:D,data:R,height:E,itemHeight:I,fullHeight:!1,onMouseDown:k,onScroll:d,virtual:S,direction:x,innerProps:S?null:ae},function(J,q){var Z,ue=J.group,ie=J.groupOption,Q=J.data,oe=J.label,Ie=J.value,Le=Q.key;if(ue){var Te,Fe=(Te=Q.title)!==null&&Te!==void 0?Te:OC(oe)?oe.toString():void 0;return g.createElement("div",{className:Ee(O,"".concat(O,"-group")),title:Fe},oe!==void 0?oe:Le)}var ce=Q.disabled,Pe=Q.title;Q.children;var fe=Q.style,le=Q.className,De=vn(Q,tee),tt=_b(De,Y),He=U(Ie),Me="".concat(O,"-option"),pt=Ee(O,Me,le,(Z={},V(Z,"".concat(Me,"-grouped"),ie),V(Z,"".concat(Me,"-active"),A===q&&!ce),V(Z,"".concat(Me,"-disabled"),ce),V(Z,"".concat(Me,"-selected"),He),Z)),mt=re(J),Ye=!y||typeof y=="function"||He,Ze=typeof mt=="number"?mt:mt||Ie,$e=OC(Ze)?Ze.toString():void 0;return Pe!==void 0&&($e=Pe),g.createElement("div",Be({},Pl(tt),S?{}:se(J,q),{"aria-selected":He,className:pt,title:$e,onMouseMove:function(){A===q||ce||B(q)},onClick:function(){ce||W(Ie)},style:fe}),g.createElement("div",{className:"".concat(Me,"-content")},typeof M=="function"?M(J,{index:q}):Ze),g.isValidElement(y)||He,Ye&&g.createElement(np,{className:"".concat(O,"-option-state"),customizeIcon:y,customizeIconProps:{value:Ie,disabled:ce,isSelected:He}},He?"":null))}))},zL=g.forwardRef(nee);zL.displayName="OptionList";const ree=function(t,e){var n=g.useRef({values:new Map,options:new Map}),r=g.useMemo(function(){var o=n.current,s=o.values,a=o.options,l=t.map(function(f){if(f.label===void 0){var d;return $($({},f),{},{label:(d=s.get(f.value))===null||d===void 0?void 0:d.label})}return f}),c=new Map,u=new Map;return l.forEach(function(f){c.set(f.value,f),u.set(f.value,e.get(f.value)||a.get(f.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=g.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function Hm(t,e){return IL(t).join("").toUpperCase().includes(e)}const iee=function(t,e,n,r,i){return g.useMemo(function(){if(!n||r===!1)return t;var o=e.options,s=e.label,a=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),f=c?r:function(h,p){return i?Hm(p[i],u):p[o]?Hm(p[s!=="children"?s:"label"],u):Hm(p[a],u)},d=c?function(h){return yy(h)}:function(h){return h};return t.forEach(function(h){if(h[o]){var p=f(n,d(h));if(p)l.push(h);else{var v=h[o].filter(function(_){return f(n,d(_))});v.length&&l.push($($({},h),{},V({},o,v)))}return}f(n,d(h))&&l.push(h)}),l},[t,r,i,n,e])};var LC=0,oee=or();function see(){var t;return oee?(t=LC,LC+=1):t="TEST_OR_SSR",t}function aee(t){var e=g.useState(),n=X(e,2),r=n[0],i=n[1];return g.useEffect(function(){i("rc_select_".concat(see()))},[]),t||r}var lee=["children","value"],cee=["children"];function uee(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,s=vn(r,lee);return $({key:n,value:o!==void 0?o:n,children:i},s)}function BL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Eu(t).map(function(n,r){if(!g.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,s=i.key,a=i.props,l=a.children,c=vn(a,cee);return e||!o?uee(n):$($({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},c),{},{options:BL(l)})}).filter(function(n){return n})}function fee(t,e,n,r,i){return g.useMemo(function(){var o=t,s=!t;s&&(o=BL(e));var a=new Map,l=new Map,c=function(d,h,p){p&&typeof p=="string"&&d.set(h[p],h)};function u(f){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,h=0;h<f.length;h+=1){var p=f[h];!p[n.options]||d?(a.set(p[n.value],p),c(l,p,n.label),c(l,p,r),c(l,p,i)):u(p[n.options],!0)}}return u(o),{options:o,valueOptions:a,labelOptions:l}},[t,e,n,r,i])}function RC(t){var e=g.useRef();e.current=t;var n=g.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var dee=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],hee=["inputValue"];function gee(t){return!t||at(t)!=="object"}var pee=g.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,s=t.backfill,a=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,f=t.autoClearSearchValue,d=f===void 0?!0:f,h=t.onSelect,p=t.onDeselect,v=t.dropdownMatchSelectWidth,_=v===void 0?!0:v,m=t.filterOption,y=t.filterSort,b=t.optionFilterProp,w=t.optionLabelProp,S=t.options,x=t.optionRender,E=t.children,I=t.defaultActiveFirstOption,M=t.menuItemSelectedIcon,O=t.virtual,R=t.direction,D=t.listHeight,k=D===void 0?200:D,j=t.listItemHeight,G=j===void 0?20:j,F=t.value,N=t.defaultValue,A=t.labelInValue,z=t.onChange,B=vn(t,dee),U=aee(n),W=by(r),Y=!!(!S&&E),re=g.useMemo(function(){return m===void 0&&r==="combobox"?!1:m},[m,r]),se=g.useMemo(function(){return RL(a,Y)},[JSON.stringify(a),Y]),ge=Gh("",{value:c!==void 0?c:l,postState:function(be){return be||""}}),ae=X(ge,2),J=ae[0],q=ae[1],Z=fee(S,E,se,b,w),ue=Z.valueOptions,ie=Z.labelOptions,Q=Z.options,oe=g.useCallback(function(ee){var be=IL(ee);return be.map(function(pe){var ye,Je,et,jt,Jt;if(gee(pe))ye=pe;else{var At;et=pe.key,Je=pe.label,ye=(At=pe.value)!==null&&At!==void 0?At:et}var yt=ue.get(ye);if(yt){var on;Je===void 0&&(Je=yt==null?void 0:yt[w||se.label]),et===void 0&&(et=(on=yt==null?void 0:yt.key)!==null&&on!==void 0?on:ye),jt=yt==null?void 0:yt.disabled,Jt=yt==null?void 0:yt.title}return{label:Je,value:ye,key:et,disabled:jt,title:Jt}})},[se,w,ue]),Ie=Gh(N,{value:F}),Le=X(Ie,2),Te=Le[0],Fe=Le[1],ce=g.useMemo(function(){var ee,be=oe(Te);return r==="combobox"&&lJ((ee=be[0])===null||ee===void 0?void 0:ee.value)?[]:be},[Te,oe,r]),Pe=ree(ce,ue),fe=X(Pe,2),le=fe[0],De=fe[1],tt=g.useMemo(function(){if(!r&&le.length===1){var ee=le[0];if(ee.value===null&&(ee.label===null||ee.label===void 0))return[]}return le.map(function(be){var pe;return $($({},be),{},{label:(pe=be.label)!==null&&pe!==void 0?pe:be.value})})},[r,le]),He=g.useMemo(function(){return new Set(le.map(function(ee){return ee.value}))},[le]);g.useEffect(function(){if(r==="combobox"){var ee,be=(ee=le[0])===null||ee===void 0?void 0:ee.value;q(aJ(be)?String(be):"")}},[le]);var Me=RC(function(ee,be){var pe,ye=be??ee;return pe={},V(pe,se.value,ee),V(pe,se.label,ye),pe}),pt=g.useMemo(function(){if(r!=="tags")return Q;var ee=Ae(Q),be=function(ye){return ue.has(ye)};return Ae(le).sort(function(pe,ye){return pe.value<ye.value?-1:1}).forEach(function(pe){var ye=pe.value;be(ye)||ee.push(Me(ye,pe.label))}),ee},[Me,Q,ue,le,r]),mt=iee(pt,se,J,re,b),Ye=g.useMemo(function(){return r!=="tags"||!J||mt.some(function(ee){return ee[b||"value"]===J})||mt.some(function(ee){return ee[se.value]===J})?mt:[Me(J)].concat(Ae(mt))},[Me,b,r,mt,J,se]),Ze=g.useMemo(function(){return y?Ae(Ye).sort(function(ee,be){return y(ee,be)}):Ye},[Ye,y]),$e=g.useMemo(function(){return LJ(Ze,{fieldNames:se,childrenAsData:Y})},[Ze,se,Y]),Tt=function(be){var pe=oe(be);if(Fe(pe),z&&(pe.length!==le.length||pe.some(function(et,jt){var Jt;return((Jt=le[jt])===null||Jt===void 0?void 0:Jt.value)!==(et==null?void 0:et.value)}))){var ye=A?pe:pe.map(function(et){return et.value}),Je=pe.map(function(et){return yy(De(et.value))});z(W?ye:ye[0],W?Je:Je[0])}},dn=g.useState(null),xn=X(dn,2),kt=xn[0],gt=xn[1],wt=g.useState(0),Ft=X(wt,2),ct=Ft[0],vt=Ft[1],Qt=I!==void 0?I:r!=="combobox",nt=g.useCallback(function(ee,be){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=pe.source,Je=ye===void 0?"keyboard":ye;vt(be),s&&r==="combobox"&&ee!==null&&Je==="keyboard"&&gt(String(ee))},[s,r]),Pt=function(be,pe,ye){var Je=function(){var xe,ke=De(be);return[A?{label:ke==null?void 0:ke[se.label],value:be,key:(xe=ke==null?void 0:ke.key)!==null&&xe!==void 0?xe:be}:be,yy(ke)]};if(pe&&h){var et=Je(),jt=X(et,2),Jt=jt[0],At=jt[1];h(Jt,At)}else if(!pe&&p&&ye!=="clear"){var yt=Je(),on=X(yt,2),hn=on[0],Gn=on[1];p(hn,Gn)}},rt=RC(function(ee,be){var pe,ye=W?be.selected:!0;ye?pe=W?[].concat(Ae(le),[ee]):[ee]:pe=le.filter(function(Je){return Je.value!==ee}),Tt(pe),Pt(ee,ye),r==="combobox"?gt(""):(!by||d)&&(q(""),gt(""))}),Se=function(be,pe){Tt(be);var ye=pe.type,Je=pe.values;(ye==="remove"||ye==="clear")&&Je.forEach(function(et){Pt(et.value,!1,ye)})},qe=function(be,pe){if(q(be),gt(null),pe.source==="submit"){var ye=(be||"").trim();if(ye){var Je=Array.from(new Set([].concat(Ae(He),[ye])));Tt(Je),Pt(ye,!0),q("")}return}pe.source!=="blur"&&(r==="combobox"&&Tt(be),u==null||u(be))},ve=function(be){var pe=be;r!=="tags"&&(pe=be.map(function(Je){var et=ie.get(Je);return et==null?void 0:et.value}).filter(function(Je){return Je!==void 0}));var ye=Array.from(new Set([].concat(Ae(He),Ae(pe))));Tt(ye),ye.forEach(function(Je){Pt(Je,!0)})},Re=g.useMemo(function(){var ee=O!==!1&&_!==!1;return $($({},Z),{},{flattenOptions:$e,onActiveValue:nt,defaultActiveFirstOption:Qt,onSelect:rt,menuItemSelectedIcon:M,rawValues:He,fieldNames:se,virtual:ee,direction:R,listHeight:k,listItemHeight:G,childrenAsData:Y,optionRender:x})},[Z,$e,nt,Qt,rt,M,He,se,O,_,k,G,Y,x]);return g.createElement(DL.Provider,{value:Re},g.createElement(FJ,Be({},B,{id:U,prefixCls:o,ref:e,omitDomProps:hee,mode:r,displayValues:tt,onDisplayValuesChange:Se,direction:R,searchValue:J,onSearch:qe,autoClearSearchValue:d,onSearchSplit:ve,dropdownMatchSelectWidth:_,OptionList:zL,emptyOptions:!$e.length,activeValue:kt,activeDescendantId:"".concat(U,"_list_").concat(ct)})))}),Ub=pee;Ub.Option=Vb;Ub.OptGroup=$b;function mee(t,e,n){return Ee({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const vee=(t,e)=>e||t,yee=()=>{const[,t]=qr(),n=new jn(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return g.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{fill:"none",fillRule:"evenodd"},g.createElement("g",{transform:"translate(24 31.67)"},g.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),g.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),g.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),g.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),g.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),g.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),g.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},g.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),g.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},bee=yee,_ee=()=>{const[,t]=qr(),{colorFill:e,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:i}=t,{borderColor:o,shadowColor:s,contentColor:a}=g.useMemo(()=>({borderColor:new jn(e).onBackground(i).toHexShortString(),shadowColor:new jn(n).onBackground(i).toHexShortString(),contentColor:new jn(r).onBackground(i).toHexShortString()}),[e,n,r,i]);return g.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},g.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},g.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),g.createElement("g",{fillRule:"nonzero",stroke:o},g.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),g.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:a}))))},wee=_ee,See=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:s}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorText},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDisabled,[`${e}-description`]:{color:t.colorTextDisabled},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},Eee=Qu("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,i=Un(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[See(i)]});var xee=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jL=g.createElement(bee,null),$L=g.createElement(wee,null),Hb=t=>{var{className:e,rootClassName:n,prefixCls:r,image:i=jL,description:o,children:s,imageStyle:a,style:l}=t,c=xee(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:u,direction:f,empty:d}=g.useContext(kn),h=u("empty",r),[p,v,_]=Eee(h),[m]=Yg("Empty"),y=typeof o<"u"?o:m==null?void 0:m.description,b=typeof y=="string"?y:"empty";let w=null;return typeof i=="string"?w=g.createElement("img",{alt:b,src:i}):w=i,p(g.createElement("div",Object.assign({className:Ee(v,_,h,d==null?void 0:d.className,{[`${h}-normal`]:i===$L,[`${h}-rtl`]:f==="rtl"},e,n),style:Object.assign(Object.assign({},d==null?void 0:d.style),l)},c),g.createElement("div",{className:`${h}-image`,style:a},w),y&&g.createElement("div",{className:`${h}-description`},y),s&&g.createElement("div",{className:`${h}-footer`},s)))};Hb.PRESENTED_IMAGE_DEFAULT=jL;Hb.PRESENTED_IMAGE_SIMPLE=$L;const cc=Hb,Cee=t=>{const{componentName:e}=t,{getPrefixCls:n}=g.useContext(kn),r=n("empty");switch(e){case"Table":case"List":return de.createElement(cc,{image:cc.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return de.createElement(cc,{image:cc.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});default:return de.createElement(cc,null)}},Tee=Cee,Pee=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function Aee(t,e){return t||Pee(e)}const Iee=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},Mee=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,s=`&${e}-slide-up-leave${e}-slide-up-leave-active`,a=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},Qg(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${a}bottomLeft,
          ${o}${a}bottomLeft
        `]:{animationName:sL},[`
          ${i}${a}topLeft,
          ${o}${a}topLeft,
          ${i}${a}topRight,
          ${o}${a}topRight
        `]:{animationName:lL},[`${s}${a}bottomLeft`]:{animationName:aL},[`
          ${s}${a}topLeft,
          ${s}${a}topRight
        `]:{animationName:cL},"&-hidden":{display:"none"},[`${r}`]:Object.assign(Object.assign({},Iee(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},K0),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary},[`&:has(+ ${r}-option-selected:not(${r}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${r}-option-selected:not(${r}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}}}),"&-rtl":{direction:"rtl"}})},dC(t,"slide-up"),dC(t,"slide-down"),fC(t,"move-up"),fC(t,"move-down")]},Oee=Mee,xa=2,Lee=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()};function Wm(t,e){const{componentCls:n,iconCls:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,s=Lee(t),a=e?`${n}-${e}`:"";return{[`${n}-multiple${a}`]:{fontSize:t.fontSize,[i]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:t.calc(xa).mul(2).equal(),paddingBlock:t.calc(s).sub(xa).equal(),borderRadius:t.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${We(xa)} 0`,lineHeight:We(o),visibility:"hidden",content:'"\\a0"'}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()},[`${n}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:xa,marginBottom:xa,lineHeight:We(t.calc(o).sub(t.calc(t.lineWidth).mul(2)).equal()),background:t.multipleItemBg,border:`${We(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`,borderRadius:t.borderRadiusSM,cursor:"default",transition:`font-size ${t.motionDurationSlow}, line-height ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,marginInlineEnd:t.calc(xa).mul(2).equal(),paddingInlineStart:t.paddingXS,paddingInlineEnd:t.calc(t.paddingXS).div(2).equal(),[`${n}-disabled&`]:{color:t.multipleItemColorDisabled,borderColor:t.multipleItemBorderColorDisabled,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(t.paddingXS).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},Ib()),{display:"inline-flex",alignItems:"center",color:t.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:t.colorIconHover}})},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${i}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:We(o),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}}}}const Ree=t=>{const{componentCls:e}=t,n=Un(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.controlHeightXS,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=Un(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[Wm(t),Wm(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},Wm(r,"lg")]},Nee=Ree;function Gm(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),s=e?`${n}-${e}`:"";return{[`${n}-single${s}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},Qg(t,!0)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:We(o),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${We(r)}`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:We(o)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${We(r)}`,"&:after":{display:"none"}}}}}}}function kee(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[Gm(t),Gm(Un(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${We(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},Gm(Un(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const Fee=t=>{const{componentCls:e,selectorBg:n}=t;return{position:"relative",backgroundColor:n,border:`${We(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{color:t.colorTextDisabled,background:t.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:t.multipleSelectorBgDisabled},input:{cursor:"not-allowed"}}}},qm=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:r,borderHoverColor:i,antCls:o,borderActiveColor:s,outlineColor:a,controlOutlineWidth:l}=e,c=n?{[`${r}-selector`]:{borderColor:s}}:{};return{[t]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${o}-pagination-size-changer)`]:Object.assign(Object.assign({},c),{[`&:hover ${r}-selector`]:{borderColor:i},[`${r}-focused& ${r}-selector`]:{borderColor:s,boxShadow:`0 0 0 ${We(l)} ${a}`,outline:0}})}}},Dee=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},zee=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t;return{[n]:Object.assign(Object.assign({},Qg(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},Fee(t)),Dee(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},K0),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},K0),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},Ib()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:t.clearBg,cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}},Bee=t=>{const{componentCls:e}=t;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},zee(t),kee(t),Nee(t),Oee(t),{[`${e}-rtl`]:{direction:"rtl"}},qm(e,Un(t,{borderHoverColor:t.colorPrimaryHover,borderActiveColor:t.colorPrimary,outlineColor:t.controlOutline})),qm(`${e}-status-error`,Un(t,{borderHoverColor:t.colorErrorHover,borderActiveColor:t.colorError,outlineColor:t.colorErrorOutline}),!0),qm(`${e}-status-warning`,Un(t,{borderHoverColor:t.colorWarningHover,borderActiveColor:t.colorWarning,outlineColor:t.colorWarningOutline}),!0),jO(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},jee=t=>{const{fontSize:e,lineHeight:n,controlHeight:r,controlPaddingHorizontal:i,zIndexPopupBase:o,colorText:s,fontWeightStrong:a,controlItemBgActive:l,controlItemBgHover:c,colorBgContainer:u,colorFillSecondary:f,controlHeightLG:d,controlHeightSM:h,colorBgContainerDisabled:p,colorTextDisabled:v}=t;return{zIndexPopup:o+50,optionSelectedColor:s,optionSelectedFontWeight:a,optionSelectedBg:l,optionActiveBg:c,optionPadding:`${(r-e*n)/2}px ${i}px`,optionFontSize:e,optionLineHeight:n,optionHeight:r,selectorBg:u,clearBg:u,singleItemHeightLG:d,multipleItemBg:f,multipleItemBorderColor:"transparent",multipleItemHeight:h,multipleItemHeightLG:r,multipleSelectorBgDisabled:p,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25)}},$ee=Qu("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=Un(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[Bee(r)]},jee,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});function Vee(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:o,multiple:s,hasFeedback:a,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:f,componentName:d}=t;const h=n??g.createElement(VI,null),p=y=>e===null&&!a&&!f?null:g.createElement(g.Fragment,null,c!==!1&&y,a&&u);let v=null;if(e!==void 0)v=p(e);else if(o)v=p(g.createElement(HI,{spin:!0}));else{const y=`${l}-suffix`;v=b=>{let{open:w,showSearch:S}=b;return p(w&&S?g.createElement(XW,{className:y}):g.createElement(yW,{className:y}))}}let _=null;r!==void 0?_=r:s?_=g.createElement(lW,null):_=null;let m=null;return i!==void 0?m=i:m=g.createElement(Ig,null),{clearIcon:h,suffixIcon:v,itemIcon:_,removeIcon:m}}function Uee(t,e){return e!==void 0?e:t!==null}var Hee=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const VL="SECRET_COMBOBOX_MODE_DO_NOT_USE",Wee=(t,e)=>{var n,r,{prefixCls:i,bordered:o=!0,className:s,rootClassName:a,getPopupContainer:l,popupClassName:c,dropdownClassName:u,listHeight:f=256,placement:d,listItemHeight:h,size:p,disabled:v,notFoundContent:_,status:m,builtinPlacements:y,dropdownMatchSelectWidth:b,popupMatchSelectWidth:w,direction:S,style:x,allowClear:E}=t,I=Hee(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear"]);const{getPopupContainer:M,getPrefixCls:O,renderEmpty:R,direction:D,virtual:k,popupMatchSelectWidth:j,popupOverflow:G,select:F}=g.useContext(kn),[,N]=qr(),A=h??(N==null?void 0:N.controlHeight),z=O("select",i),B=O(),U=S??D,{compactSize:W,compactItemClassnames:Y}=OO(z,U),re=Lb(z),[se,ge,ae]=$ee(z,re),J=g.useMemo(()=>{const{mode:$e}=I;if($e!=="combobox")return $e===VL?"combobox":$e},[I.mode]),q=J==="multiple"||J==="tags",Z=Uee(I.suffixIcon,I.showArrow),ue=(n=w??b)!==null&&n!==void 0?n:j,{status:ie,hasFeedback:Q,isFormItemInput:oe,feedbackIcon:Ie}=g.useContext(py),Le=vee(ie,m);let Te;_!==void 0?Te=_:J==="combobox"?Te=null:Te=(R==null?void 0:R("Select"))||g.createElement(Tee,{componentName:"Select"});const{suffixIcon:Fe,itemIcon:ce,removeIcon:Pe,clearIcon:fe}=Vee(Object.assign(Object.assign({},I),{multiple:q,hasFeedback:Q,feedbackIcon:Ie,showSuffixIcon:Z,prefixCls:z,showArrow:I.showArrow,componentName:"Select"})),le=E===!0?{clearIcon:fe}:E,De=_b(I,["suffixIcon","itemIcon"]),tt=Ee(c||u,{[`${z}-dropdown-${U}`]:U==="rtl"},a,ae,re,ge),He=IO($e=>{var Tt;return(Tt=p??W)!==null&&Tt!==void 0?Tt:$e}),Me=g.useContext(Ab),pt=v??Me,mt=Ee({[`${z}-lg`]:He==="large",[`${z}-sm`]:He==="small",[`${z}-rtl`]:U==="rtl",[`${z}-borderless`]:!o,[`${z}-in-form-item`]:oe},mee(z,Le,Q),Y,F==null?void 0:F.className,s,a,ae,re,ge),Ye=g.useMemo(()=>d!==void 0?d:U==="rtl"?"bottomRight":"bottomLeft",[d,U]),[Ze]=Nb("SelectLike",(r=I.dropdownStyle)===null||r===void 0?void 0:r.zIndex);return se(g.createElement(Ub,Object.assign({ref:e,virtual:k,showSearch:F==null?void 0:F.showSearch},De,{style:Object.assign(Object.assign({},F==null?void 0:F.style),x),dropdownMatchSelectWidth:ue,builtinPlacements:Aee(y,G),transitionName:Qs(B,"slide-up",I.transitionName),listHeight:f,listItemHeight:A,mode:J,prefixCls:z,placement:Ye,direction:U,suffixIcon:Fe,menuItemSelectedIcon:ce,removeIcon:Pe,allowClear:le,notFoundContent:Te,className:mt,getPopupContainer:l||M,dropdownClassName:tt,disabled:pt,dropdownStyle:Object.assign(Object.assign({},I==null?void 0:I.dropdownStyle),{zIndex:Ze})})))},Vl=g.forwardRef(Wee),Gee=VQ(Vl);Vl.SECRET_COMBOBOX_MODE_DO_NOT_USE=VL;Vl.Option=Vb;Vl.OptGroup=$b;Vl._InternalPanelDoNotUseOrYouWillBeFired=Gee;const qee=Vl;var NC=g.createContext(null),UL=g.createContext({}),Xee=function(e){var n=e.prefixCls,r=e.className,i=e.style,o=e.children,s=e.containerRef,a=e.id,l=e.onMouseEnter,c=e.onMouseOver,u=e.onMouseLeave,f=e.onClick,d=e.onKeyDown,h=e.onKeyUp,p={onMouseEnter:l,onMouseOver:c,onMouseLeave:u,onClick:f,onKeyDown:d,onKeyUp:h},v=g.useContext(UL),_=v.panel,m=Dl(_,s);return g.createElement(g.Fragment,null,g.createElement("div",Be({id:a,className:Ee("".concat(n,"-content"),r),style:$({},i),"aria-modal":"true",role:"dialog",ref:m},p),o))};function kC(t){return typeof t=="string"&&String(Number(t))===t?(fr(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(t)):t}var FC={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Kee(t,e){var n,r,i,o,s=t.prefixCls,a=t.open,l=t.placement,c=t.inline,u=t.push,f=t.forceRender,d=t.autoFocus,h=t.keyboard,p=t.classNames,v=t.rootClassName,_=t.rootStyle,m=t.zIndex,y=t.className,b=t.id,w=t.style,S=t.motion,x=t.width,E=t.height,I=t.children,M=t.contentWrapperStyle,O=t.mask,R=t.maskClosable,D=t.maskMotion,k=t.maskClassName,j=t.maskStyle,G=t.afterOpenChange,F=t.onClose,N=t.onMouseEnter,A=t.onMouseOver,z=t.onMouseLeave,B=t.onClick,U=t.onKeyDown,W=t.onKeyUp,Y=t.styles,re=g.useRef(),se=g.useRef(),ge=g.useRef();g.useImperativeHandle(e,function(){return re.current});var ae=function(De){var tt=De.keyCode,He=De.shiftKey;switch(tt){case te.TAB:{if(tt===te.TAB){if(!He&&document.activeElement===ge.current){var Me;(Me=se.current)===null||Me===void 0||Me.focus({preventScroll:!0})}else if(He&&document.activeElement===se.current){var pt;(pt=ge.current)===null||pt===void 0||pt.focus({preventScroll:!0})}}break}case te.ESC:{F&&h&&(De.stopPropagation(),F(De));break}}};g.useEffect(function(){if(a&&d){var le;(le=re.current)===null||le===void 0||le.focus({preventScroll:!0})}},[a]);var J=g.useState(!1),q=X(J,2),Z=q[0],ue=q[1],ie=g.useContext(NC),Q;u===!1?Q={distance:0}:u===!0?Q={}:Q=u||{};var oe=(n=(r=(i=Q)===null||i===void 0?void 0:i.distance)!==null&&r!==void 0?r:ie==null?void 0:ie.pushDistance)!==null&&n!==void 0?n:180,Ie=g.useMemo(function(){return{pushDistance:oe,push:function(){ue(!0)},pull:function(){ue(!1)}}},[oe]);g.useEffect(function(){if(a){var le;ie==null||(le=ie.push)===null||le===void 0||le.call(ie)}else{var De;ie==null||(De=ie.pull)===null||De===void 0||De.call(ie)}},[a]),g.useEffect(function(){return function(){var le;ie==null||(le=ie.pull)===null||le===void 0||le.call(ie)}},[]);var Le=O&&g.createElement(vo,Be({key:"mask"},D,{visible:a}),function(le,De){var tt=le.className,He=le.style;return g.createElement("div",{className:Ee("".concat(s,"-mask"),tt,p==null?void 0:p.mask,k),style:$($($({},He),j),Y==null?void 0:Y.mask),onClick:R&&a?F:void 0,ref:De})}),Te=typeof S=="function"?S(l):S,Fe={};if(Z&&oe)switch(l){case"top":Fe.transform="translateY(".concat(oe,"px)");break;case"bottom":Fe.transform="translateY(".concat(-oe,"px)");break;case"left":Fe.transform="translateX(".concat(oe,"px)");break;default:Fe.transform="translateX(".concat(-oe,"px)");break}l==="left"||l==="right"?Fe.width=kC(x):Fe.height=kC(E);var ce={onMouseEnter:N,onMouseOver:A,onMouseLeave:z,onClick:B,onKeyDown:U,onKeyUp:W},Pe=g.createElement(vo,Be({key:"panel"},Te,{visible:a,forceRender:f,onVisibleChanged:function(De){G==null||G(De)},removeOnLeave:!1,leavedClassName:"".concat(s,"-content-wrapper-hidden")}),function(le,De){var tt=le.className,He=le.style;return g.createElement("div",Be({className:Ee("".concat(s,"-content-wrapper"),p==null?void 0:p.wrapper,tt),style:$($($($({},Fe),He),M),Y==null?void 0:Y.wrapper)},Pl(t,{data:!0})),g.createElement(Xee,Be({id:b,containerRef:De,prefixCls:s,className:Ee(y,p==null?void 0:p.content),style:$($({},w),Y==null?void 0:Y.content)},ce),I))}),fe=$({},_);return m&&(fe.zIndex=m),g.createElement(NC.Provider,{value:Ie},g.createElement("div",{className:Ee(s,"".concat(s,"-").concat(l),v,(o={},V(o,"".concat(s,"-open"),a),V(o,"".concat(s,"-inline"),c),o)),style:fe,tabIndex:-1,ref:re,onKeyDown:ae},Le,g.createElement("div",{tabIndex:0,ref:se,style:FC,"aria-hidden":"true","data-sentinel":"start"}),Pe,g.createElement("div",{tabIndex:0,ref:ge,style:FC,"aria-hidden":"true","data-sentinel":"end"})))}var Yee=g.forwardRef(Kee),Zee=function(e){var n=e.open,r=n===void 0?!1:n,i=e.prefixCls,o=i===void 0?"rc-drawer":i,s=e.placement,a=s===void 0?"right":s,l=e.autoFocus,c=l===void 0?!0:l,u=e.keyboard,f=u===void 0?!0:u,d=e.width,h=d===void 0?378:d,p=e.mask,v=p===void 0?!0:p,_=e.maskClosable,m=_===void 0?!0:_,y=e.getContainer,b=e.forceRender,w=e.afterOpenChange,S=e.destroyOnClose,x=e.onMouseEnter,E=e.onMouseOver,I=e.onMouseLeave,M=e.onClick,O=e.onKeyDown,R=e.onKeyUp,D=e.panelRef,k=g.useState(!1),j=X(k,2),G=j[0],F=j[1],N=g.useState(!1),A=X(N,2),z=A[0],B=A[1];Zt(function(){B(!0)},[]);var U=z?r:!1,W=g.useRef(),Y=g.useRef();Zt(function(){U&&(Y.current=document.activeElement)},[U]);var re=function(q){var Z;if(F(q),w==null||w(q),!q&&Y.current&&!((Z=W.current)!==null&&Z!==void 0&&Z.contains(Y.current))){var ue;(ue=Y.current)===null||ue===void 0||ue.focus({preventScroll:!0})}},se=g.useMemo(function(){return{panel:D}},[D]);if(!b&&!G&&!U&&S)return null;var ge={onMouseEnter:x,onMouseOver:E,onMouseLeave:I,onClick:M,onKeyDown:O,onKeyUp:R},ae=$($({},e),{},{open:U,prefixCls:o,placement:a,autoFocus:c,keyboard:f,width:h,mask:v,maskClosable:m,inline:y===!1,afterOpenChange:re,ref:W},ge);return g.createElement(UL.Provider,{value:se},g.createElement(ep,{open:U||b||G,autoDestroy:!1,getContainer:y,autoLock:v&&(U||G)},g.createElement(Yee,ae)))};const Qee=t=>{var e,n;const{prefixCls:r,title:i,footer:o,extra:s,closeIcon:a,closable:l,onClose:c,headerStyle:u,drawerStyle:f,bodyStyle:d,footerStyle:h,children:p,classNames:v,styles:_}=t,{drawer:m}=g.useContext(kn),y=g.useCallback(E=>g.createElement("button",{type:"button",onClick:c,"aria-label":"Close",className:`${r}-close`},E),[c]),[b,w]=KO(l,a,y,void 0,!0),S=g.useMemo(()=>{var E,I;return!i&&!b?null:g.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(E=m==null?void 0:m.styles)===null||E===void 0?void 0:E.header),u),_==null?void 0:_.header),className:Ee(`${r}-header`,{[`${r}-header-close-only`]:b&&!i&&!s},(I=m==null?void 0:m.classNames)===null||I===void 0?void 0:I.header,v==null?void 0:v.header)},g.createElement("div",{className:`${r}-header-title`},w,i&&g.createElement("div",{className:`${r}-title`},i)),s&&g.createElement("div",{className:`${r}-extra`},s))},[b,w,s,u,r,i]),x=g.useMemo(()=>{var E,I;if(!o)return null;const M=`${r}-footer`;return g.createElement("div",{className:Ee(M,(E=m==null?void 0:m.classNames)===null||E===void 0?void 0:E.footer,v==null?void 0:v.footer),style:Object.assign(Object.assign(Object.assign({},(I=m==null?void 0:m.styles)===null||I===void 0?void 0:I.footer),h),_==null?void 0:_.footer)},o)},[o,h,r]);return g.createElement("div",{className:`${r}-wrapper-body`,style:f},S,g.createElement("div",{className:Ee(`${r}-body`,v==null?void 0:v.body,(e=m==null?void 0:m.classNames)===null||e===void 0?void 0:e.body),style:Object.assign(Object.assign(Object.assign({},(n=m==null?void 0:m.styles)===null||n===void 0?void 0:n.body),d),_==null?void 0:_.body)},p),x)},HL=Qee,Jee=t=>{const{componentCls:e,motionDurationSlow:n}=t,r={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}}};return{[e]:{[`${e}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${n}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${e}-panel-motion`]:{"&-left":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}},ete=Jee,tte=t=>{const{componentCls:e,zIndexPopup:n,colorBgMask:r,colorBgElevated:i,motionDurationSlow:o,motionDurationMid:s,padding:a,paddingLG:l,fontSizeLG:c,lineHeightLG:u,lineWidth:f,lineType:d,colorSplit:h,marginSM:p,colorIcon:v,colorIconHover:_,colorText:m,fontWeightStrong:y,footerPaddingBlock:b,footerPaddingInline:w}=t,S=`${e}-content-wrapper`;return{[e]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none","&-pure":{position:"relative",background:i,[`&${e}-left`]:{boxShadow:t.boxShadowDrawerLeft},[`&${e}-right`]:{boxShadow:t.boxShadowDrawerRight},[`&${e}-top`]:{boxShadow:t.boxShadowDrawerUp},[`&${e}-bottom`]:{boxShadow:t.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${e}-mask`]:{position:"absolute",inset:0,zIndex:n,background:r,pointerEvents:"auto"},[S]:{position:"absolute",zIndex:n,maxWidth:"100vw",transition:`all ${o}`,"&-hidden":{display:"none"}},[`&-left > ${S}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:t.boxShadowDrawerLeft},[`&-right > ${S}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:t.boxShadowDrawerRight},[`&-top > ${S}`]:{top:0,insetInline:0,boxShadow:t.boxShadowDrawerUp},[`&-bottom > ${S}`]:{bottom:0,insetInline:0,boxShadow:t.boxShadowDrawerDown},[`${e}-content`]:{width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${e}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${e}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${We(a)} ${We(l)}`,fontSize:c,lineHeight:u,borderBottom:`${We(f)} ${d} ${h}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${e}-extra`]:{flex:"none"},[`${e}-close`]:{display:"inline-block",marginInlineEnd:p,color:v,fontWeight:y,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${s}`,textRendering:"auto","&:focus, &:hover":{color:_,textDecoration:"none"}},[`${e}-title`]:{flex:1,margin:0,color:m,fontWeight:t.fontWeightStrong,fontSize:c,lineHeight:u},[`${e}-body`]:{flex:1,minWidth:0,minHeight:0,padding:l,overflow:"auto"},[`${e}-footer`]:{flexShrink:0,padding:`${We(b)} ${We(w)}`,borderTop:`${We(f)} ${d} ${h}`},"&-rtl":{direction:"rtl"}}}},nte=t=>({zIndexPopup:t.zIndexPopupBase,footerPaddingBlock:t.paddingXS,footerPaddingInline:t.padding}),WL=Qu("Drawer",t=>{const e=Un(t,{});return[tte(e),ete(e)]},nte);var GL=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rte={distance:180},qL=t=>{var e,n,r,i,o,s,a,l;const{rootClassName:c,width:u,height:f,size:d="default",mask:h=!0,push:p=rte,open:v,afterOpenChange:_,onClose:m,prefixCls:y,getContainer:b,style:w,className:S,visible:x,afterVisibleChange:E}=t,I=GL(t,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange"]),{getPopupContainer:M,getPrefixCls:O,direction:R,drawer:D}=g.useContext(kn),k=O("drawer",y),[j,G,F]=WL(k),N=b===void 0&&M?()=>M(document.body):b,A=Ee({"no-mask":!h,[`${k}-rtl`]:R==="rtl"},c,G,F),z=g.useMemo(()=>u??(d==="large"?736:378),[u,d]),B=g.useMemo(()=>f??(d==="large"?736:378),[f,d]),U={motionName:Qs(k,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},W=ge=>({motionName:Qs(k,`panel-motion-${ge}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),Y=rL(),[re,se]=Nb("Drawer",I.zIndex);return j(g.createElement(LO,null,g.createElement(nL,{status:!0,override:!0},g.createElement(Rb.Provider,{value:se},g.createElement(Zee,Object.assign({prefixCls:k,onClose:m,maskMotion:U,motion:W},I,{classNames:{mask:Ee((e=I.classNames)===null||e===void 0?void 0:e.mask,(n=D==null?void 0:D.classNames)===null||n===void 0?void 0:n.mask),content:Ee((r=I.classNames)===null||r===void 0?void 0:r.content,(i=D==null?void 0:D.classNames)===null||i===void 0?void 0:i.content)},styles:{mask:Object.assign(Object.assign({},(o=I.styles)===null||o===void 0?void 0:o.mask),(s=D==null?void 0:D.styles)===null||s===void 0?void 0:s.mask),content:Object.assign(Object.assign({},(a=I.styles)===null||a===void 0?void 0:a.content),(l=D==null?void 0:D.styles)===null||l===void 0?void 0:l.content)},open:v??x,mask:h,push:p,width:z,height:B,style:Object.assign(Object.assign({},D==null?void 0:D.style),w),className:Ee(D==null?void 0:D.className,S),rootClassName:A,getContainer:N,afterOpenChange:_??E,panelRef:Y,zIndex:re}),g.createElement(HL,Object.assign({prefixCls:k},I,{onClose:m})))))))},ite=t=>{const{prefixCls:e,style:n,className:r,placement:i="right"}=t,o=GL(t,["prefixCls","style","className","placement"]),{getPrefixCls:s}=g.useContext(kn),a=s("drawer",e),[l,c,u]=WL(a),f=Ee(a,`${a}-pure`,`${a}-${i}`,c,u,r);return l(g.createElement("div",{className:f,style:n},g.createElement(HL,Object.assign({prefixCls:a},o))))};qL._InternalPanelDoNotUseOrYouWillBeFired=ite;const ote=qL;var ste=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ate=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:i,type:o,title:s,children:a,footer:l}=t,c=ste(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=g.useContext(kn),f=u(),d=e||u("modal"),h=Lb(f),[p,v,_]=dL(d,h),m=`${d}-confirm`;let y={};return o?y={closable:i??!1,title:"",footer:"",children:g.createElement(gL,Object.assign({},t,{prefixCls:d,confirmPrefixCls:m,rootPrefixCls:f,content:a}))}:y={closable:i??!0,title:s,footer:l!==null&&g.createElement(oL,Object.assign({},t)),children:a},p(g.createElement(GO,Object.assign({prefixCls:d,className:Ee(v,`${d}-pure-panel`,o&&m,o&&`${m}-${o}`,n,_,h)},c,{closeIcon:iL(d,r),closable:i},y)))},lte=SL(ate);function XL(t){return rf(vL(t))}const Li=hL;Li.useModal=jQ;Li.info=function(e){return rf(yL(e))};Li.success=function(e){return rf(bL(e))};Li.error=function(e){return rf(_L(e))};Li.warning=XL;Li.warn=XL;Li.confirm=function(e){return rf(wL(e))};Li.destroyAll=function(){for(;As.length;){const e=As.pop();e&&e()}};Li.config=kQ;Li._InternalPanelDoNotUseOrYouWillBeFired=lte;const cte=Li,ute=t=>t.reduce((e,n)=>(e[n.id]=n,e),{}),DC=t=>Number(t)<0?`${t} BCE`:`${t} CE`,fte=Wn(ote)`
  .customer-drawer-header {
    padding: 2vh 1vw;
  }
  color: black;

  h2 {
    font-size: 16px;
    margin-bottom: 0px;
  }

  p {
    margin-top: 0px;
  }

  section {
    padding-top: 20px;
  }
`,dte=({landmark:t,active:e,onClose:n})=>{var o,s;const r=((o=t.attribution)==null?void 0:o.split(","))??[],i=((s=t.description)==null?void 0:s.split("/n"))??[];return Ge.jsxs(fte,{title:t.name??"",placement:"right",onClose:n,open:e,className:"custom-drawer-content",closeIcon:Ge.jsx(eW,{style:{padding:"0px",fontSize:"22px"}}),classNames:{header:"customer-drawer-header"},children:[Ge.jsxs("h2",{children:[t.bengaliName,", ",DC(t.timeStart)," -"," ",DC(t.timeEnd)]}),Ge.jsx("p",{children:t.location??""}),Ge.jsx(sG,{images:t.images??[]}),Ge.jsx("section",{children:i.map((a,l)=>Ge.jsx("p",{children:a},l))}),(r==null?void 0:r.length)>0?"further readings | source: ":"",r==null?void 0:r.map((a,l)=>Ge.jsx("a",{href:a,children:""},l))]})},hte=Wn.div`
  background-color: white;
  border-radius: 10px;
  border-top-left-radius: 0px;
  width: 12vw;
  height: auto;
  padding: 10px;
  margin-top: 20px;

  h2 {
    font-size: 12px;
    padding: 0;
    color: rgba(0, 0, 0, 0.7);
  }
`,gte=Wn.img`
  width: 100%;
  height: auto;
`,pte=({landmark:t})=>Ge.jsxs(hte,{children:[Ge.jsx("h2",{children:t.name}),Ge.jsx(gte,{src:t.images[0].src??""})]}),mte=Wn.div`
  position: absolute;
  right: 0;
  bottom: 0;
  backgroundcolor: hsla(0, 0%, 100%, 0.5);
  padding: 0 5px;
  font: 12px/20px Helvetica Neue, Arial, Helvetica, sans-serif;
`,vte=Wn.a`
  textdecoration: none;
  color: rgba(0, 0, 0, 0.75);
  cursor: grab;
`,yte=Wn.div`
  cursor: pointer;
`,bte=Wn.div`
  color: ${t=>t.$active?"#0096ff":"rgba(0,0,0,0.3)"};
`,_te=Wn.div`
  position: absolute;
  right: 2vw;
  bottom: 5vh;

  display: flex;
  flex-direction: column;
  justify-content: space-between;

  cursor: pointer;
  font-size: 26px;
  font-style: bolder;
  color: #0096ff;

  > span {
    margin: 4px 0px;
  }
`,wte=Wn.div`
  width: 100%;
  height: 100%;
`,Ste=Wn.div`
  position: absolute;
  left: 26vw;
  top: 4vh;
  display: flex;
  flex-direction: row;
  align-items: center;
`,Ete=Wn.div`
  border-radius: 50%;
  width: 20px;
  height: 20px;
  background-color: #0096ff;
  color: rgba(255, 255, 255, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 6px;
  margin: 0 10px;
`,zC=5,BC=12,KL={latitude:23.961111,longitude:90.342778,zoom:6,minZoom:4,maxZoom:12,maxPitch:89,bearing:0};var zs=(t=>(t.TOGGLE_ANIMATION="toggleAnimation",t.HOME_PRESSED="homePressed",t.UPDATE_VIEWSTATE="updateViewState",t))(zs||{});const xte=(t,e)=>{switch(e.type){case"toggleAnimation":const n=t.animationOn;return{...t,animationOn:!n};case"updateViewState":return{...t,viewState:e.viewState};case"homePressed":return t;default:return t}},YL=g.createContext(void 0),Cte=()=>{const[t,e]=g.useState(!1),n=g.useContext(YL);if(!n)throw new Error("MapController must be used within a MapContext.Provider");const{state:r,dispatch:i}=n,o=()=>{e(!1)},s=()=>{const c=r.viewState,u=c.zoom-1<zC?zC:c.zoom-1;i({type:zs.UPDATE_VIEWSTATE,viewState:{...c,zoom:u}})},a=()=>{const c=r.viewState,u=c.zoom+1>BC?BC:c.zoom+1;i({type:zs.UPDATE_VIEWSTATE,viewState:{...c,zoom:u}})},l=()=>{i({type:zs.TOGGLE_ANIMATION,viewState:{...r.viewState}})};return Ge.jsxs(_te,{children:[Ge.jsx(bte,{$active:r.animationOn,onClick:()=>l(),children:Ge.jsx(jW,{title:"toggle animation",onClick:()=>s()})}),Ge.jsx(HW,{title:"zoom in",onClick:()=>a()}),Ge.jsx(FW,{title:"zoom out",onClick:()=>s()}),Ge.jsx(UI,{onClick:()=>e(!0)}),Ge.jsxs(cte,{title:"Disclaimer",open:t,footer:null,onCancel:o,children:[Ge.jsx("p",{children:"The text content on this website is generated by AI, and users should be mindful of its limitations. Articles and papers used for the text content are provided with links for further readings. Images are credited with links to their owners. This site is a work in progress, seeking contributors."}),Ge.jsx("p",{children:" Author: Tahasun Tarannum"})]})]})};function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function Tte(t,e){if(Mu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pte(t){var e=Tte(t,"string");return Mu(e)==="symbol"?e:String(e)}function Xe(t,e,n){return e=Pte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ate{constructor(e){Xe(this,"index",void 0),Xe(this,"isVisible",void 0),Xe(this,"isSelected",void 0),Xe(this,"parent",void 0),Xe(this,"children",void 0),Xe(this,"content",void 0),Xe(this,"state",void 0),Xe(this,"layers",void 0),Xe(this,"id",void 0),Xe(this,"zoom",void 0),Xe(this,"userData",void 0),Xe(this,"boundingBox",void 0),Xe(this,"_abortController",void 0),Xe(this,"_loader",void 0),Xe(this,"_loaderId",void 0),Xe(this,"_isLoaded",void 0),Xe(this,"_isCancelled",void 0),Xe(this,"_needsReload",void 0),Xe(this,"_bbox",void 0),this.index=e,this.isVisible=!1,this.isSelected=!1,this.parent=null,this.children=[],this.content=null,this._loader=void 0,this._abortController=null,this._loaderId=0,this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1}get bbox(){return this._bbox}set bbox(e){this._bbox||(this._bbox=e,"west"in e?this.boundingBox=[[e.west,e.south],[e.east,e.north]]:this.boundingBox=[[e.left,e.top],[e.right,e.bottom]])}get data(){return this.isLoading&&this._loader?this._loader.then(()=>this.data):this.content}get isLoaded(){return this._isLoaded&&!this._needsReload}get isLoading(){return!!this._loader&&!this._isCancelled}get needsReload(){return this._needsReload||this._isCancelled}get byteLength(){const e=this.content?this.content.byteLength:0;return Number.isFinite(e)||console.error("byteLength not defined in tile data"),e}async _loadData({getData:e,requestScheduler:n,onLoad:r,onError:i}){const{index:o,id:s,bbox:a,userData:l,zoom:c}=this,u=this._loaderId;this._abortController=new AbortController;const{signal:f}=this._abortController,d=await n.scheduleRequest(this,v=>v.isSelected?1:-1);if(!d){this._isCancelled=!0;return}if(this._isCancelled){d.done();return}let h=null,p;try{h=await e({index:o,id:s,bbox:a,userData:l,zoom:c,signal:f})}catch(v){p=v||!0}finally{d.done()}if(u===this._loaderId){if(this._loader=void 0,this.content=h,this._isCancelled&&!h){this._isLoaded=!1;return}this._isLoaded=!0,this._isCancelled=!1,p?i(p,this):r(this)}}loadData(e){return this._isLoaded=!1,this._isCancelled=!1,this._needsReload=!1,this._loaderId++,this._loader=this._loadData(e),this._loader}setNeedsReload(){this.isLoading&&(this.abort(),this._loader=void 0),this._needsReload=!0}abort(){var e;this.isLoaded||(this._isCancelled=!0,(e=this._abortController)===null||e===void 0||e.abort())}}const tr={OUTSIDE:-1,INTERSECTING:0,INSIDE:1};function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Ite(t,e){if(Ou(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ou(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mte(t){var e=Ite(t,"string");return Ou(e)==="symbol"?e:String(e)}function Sr(t,e,n){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const jC=new _e,Ote=new _e;class Wb{constructor(e=[0,0,0],n=[0,0,0],r){Sr(this,"center",void 0),Sr(this,"halfDiagonal",void 0),Sr(this,"minimum",void 0),Sr(this,"maximum",void 0),r=r||jC.copy(e).add(n).scale(.5),this.center=new _e(r),this.halfDiagonal=new _e(n).subtract(this.center),this.minimum=new _e(e),this.maximum=new _e(n)}clone(){return new Wb(this.minimum,this.maximum,this.center)}equals(e){return this===e||!!e&&this.minimum.equals(e.minimum)&&this.maximum.equals(e.maximum)}transform(e){return this.center.transformAsPoint(e),this.halfDiagonal.transform(e),this.minimum.transform(e),this.maximum.transform(e),this}intersectPlane(e){const{halfDiagonal:n}=this,r=Ote.from(e.normal),i=n.x*Math.abs(r.x)+n.y*Math.abs(r.y)+n.z*Math.abs(r.z),o=this.center.dot(r)+e.distance;return o-i>0?tr.INSIDE:o+i<0?tr.OUTSIDE:tr.INTERSECTING}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const n=jC.from(e).subtract(this.center),{halfDiagonal:r}=this;let i=0,o;return o=Math.abs(n.x)-r.x,o>0&&(i+=o*o),o=Math.abs(n.y)-r.y,o>0&&(i+=o*o),o=Math.abs(n.z)-r.z,o>0&&(i+=o*o),i}}const uc=new _e,$C=new _e;class Gb{constructor(e=[0,0,0],n=0){Sr(this,"center",void 0),Sr(this,"radius",void 0),this.radius=-0,this.center=new _e,this.fromCenterRadius(e,n)}fromCenterRadius(e,n){return this.center.from(e),this.radius=n,this}fromCornerPoints(e,n){return n=uc.from(n),this.center=new _e().from(e).add(n).scale(.5),this.radius=this.center.distance(n),this}equals(e){return this===e||!!e&&this.center.equals(e.center)&&this.radius===e.radius}clone(){return new Gb(this.center,this.radius)}union(e){const n=this.center,r=this.radius,i=e.center,o=e.radius,s=uc.copy(i).subtract(n),a=s.magnitude();if(r>=a+o)return this.clone();if(o>=a+r)return e.clone();const l=(r+a+o)*.5;return $C.copy(s).scale((-r+l)/a).add(n),this.center.copy($C),this.radius=l,this}expand(e){const r=uc.from(e).subtract(this.center).magnitude();return r>this.radius&&(this.radius=r),this}transform(e){this.center.transform(e);const n=V5(uc,e);return this.radius=Math.max(n[0],Math.max(n[1],n[2]))*this.radius,this}distanceSquaredTo(e){const n=this.distanceTo(e);return n*n}distanceTo(e){const r=uc.from(e).subtract(this.center);return Math.max(0,r.len()-this.radius)}intersectPlane(e){const n=this.center,r=this.radius,o=e.normal.dot(n)+e.distance;return o<-r?tr.OUTSIDE:o<r?tr.INTERSECTING:tr.INSIDE}}const Lte=new _e,Rte=new _e,sd=new _e,ad=new _e,ld=new _e,Nte=new _e,kte=new _e,Qi={COLUMN0ROW0:0,COLUMN0ROW1:1,COLUMN0ROW2:2,COLUMN1ROW0:3,COLUMN1ROW1:4,COLUMN1ROW2:5,COLUMN2ROW0:6,COLUMN2ROW1:7,COLUMN2ROW2:8};class qb{constructor(e=[0,0,0],n=[0,0,0,0,0,0,0,0,0]){Sr(this,"center",void 0),Sr(this,"halfAxes",void 0),this.center=new _e().from(e),this.halfAxes=new Bn(n)}get halfSize(){const e=this.halfAxes.getColumn(0),n=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new _e(e).len(),new _e(n).len(),new _e(r).len()]}get quaternion(){const e=this.halfAxes.getColumn(0),n=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),i=new _e(e).normalize(),o=new _e(n).normalize(),s=new _e(r).normalize();return new CS().fromMatrix3(new Bn([...i,...o,...s]))}fromCenterHalfSizeQuaternion(e,n,r){const i=new CS(r),o=new Bn().fromQuaternion(i);return o[0]=o[0]*n[0],o[1]=o[1]*n[0],o[2]=o[2]*n[0],o[3]=o[3]*n[1],o[4]=o[4]*n[1],o[5]=o[5]*n[1],o[6]=o[6]*n[2],o[7]=o[7]*n[2],o[8]=o[8]*n[2],this.center=new _e().from(e),this.halfAxes=o,this}clone(){return new qb(this.center,this.halfAxes)}equals(e){return this===e||!!e&&this.center.equals(e.center)&&this.halfAxes.equals(e.halfAxes)}getBoundingSphere(e=new Gb){const n=this.halfAxes,r=n.getColumn(0,sd),i=n.getColumn(1,ad),o=n.getColumn(2,ld),s=Lte.copy(r).add(i).add(o);return e.center.copy(this.center),e.radius=s.magnitude(),e}intersectPlane(e){const n=this.center,r=e.normal,i=this.halfAxes,o=r.x,s=r.y,a=r.z,l=Math.abs(o*i[Qi.COLUMN0ROW0]+s*i[Qi.COLUMN0ROW1]+a*i[Qi.COLUMN0ROW2])+Math.abs(o*i[Qi.COLUMN1ROW0]+s*i[Qi.COLUMN1ROW1]+a*i[Qi.COLUMN1ROW2])+Math.abs(o*i[Qi.COLUMN2ROW0]+s*i[Qi.COLUMN2ROW1]+a*i[Qi.COLUMN2ROW2]),c=r.dot(n)+e.distance;return c<=-l?tr.OUTSIDE:c>=l?tr.INSIDE:tr.INTERSECTING}distanceTo(e){return Math.sqrt(this.distanceSquaredTo(e))}distanceSquaredTo(e){const n=Rte.from(e).subtract(this.center),r=this.halfAxes,i=r.getColumn(0,sd),o=r.getColumn(1,ad),s=r.getColumn(2,ld),a=i.magnitude(),l=o.magnitude(),c=s.magnitude();i.normalize(),o.normalize(),s.normalize();let u=0,f;return f=Math.abs(n.dot(i))-a,f>0&&(u+=f*f),f=Math.abs(n.dot(o))-l,f>0&&(u+=f*f),f=Math.abs(n.dot(s))-c,f>0&&(u+=f*f),u}computePlaneDistances(e,n,r=[-0,-0]){let i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;const s=this.center,a=this.halfAxes,l=a.getColumn(0,sd),c=a.getColumn(1,ad),u=a.getColumn(2,ld),f=Nte.copy(l).add(c).add(u).add(s),d=kte.copy(f).subtract(e);let h=n.dot(d);return i=Math.min(h,i),o=Math.max(h,o),f.copy(s).add(l).add(c).subtract(u),d.copy(f).subtract(e),h=n.dot(d),i=Math.min(h,i),o=Math.max(h,o),f.copy(s).add(l).subtract(c).add(u),d.copy(f).subtract(e),h=n.dot(d),i=Math.min(h,i),o=Math.max(h,o),f.copy(s).add(l).subtract(c).subtract(u),d.copy(f).subtract(e),h=n.dot(d),i=Math.min(h,i),o=Math.max(h,o),s.copy(f).subtract(l).add(c).add(u),d.copy(f).subtract(e),h=n.dot(d),i=Math.min(h,i),o=Math.max(h,o),s.copy(f).subtract(l).add(c).subtract(u),d.copy(f).subtract(e),h=n.dot(d),i=Math.min(h,i),o=Math.max(h,o),s.copy(f).subtract(l).subtract(c).add(u),d.copy(f).subtract(e),h=n.dot(d),i=Math.min(h,i),o=Math.max(h,o),s.copy(f).subtract(l).subtract(c).subtract(u),d.copy(f).subtract(e),h=n.dot(d),i=Math.min(h,i),o=Math.max(h,o),r[0]=i,r[1]=o,r}transform(e){this.center.transformAsPoint(e);const n=this.halfAxes.getColumn(0,sd);n.transformAsPoint(e);const r=this.halfAxes.getColumn(1,ad);r.transformAsPoint(e);const i=this.halfAxes.getColumn(2,ld);return i.transformAsPoint(e),this.halfAxes=new Bn([...n,...r,...i]),this}getTransform(){throw new Error("not implemented")}}const VC=new _e,UC=new _e;class Il{constructor(e=[0,0,1],n=0){Sr(this,"normal",void 0),Sr(this,"distance",void 0),this.normal=new _e,this.distance=-0,this.fromNormalDistance(e,n)}fromNormalDistance(e,n){return gu(Number.isFinite(n)),this.normal.from(e).normalize(),this.distance=n,this}fromPointNormal(e,n){e=VC.from(e),this.normal.from(n).normalize();const r=-this.normal.dot(e);return this.distance=r,this}fromCoefficients(e,n,r,i){return this.normal.set(e,n,r),gu(lo(this.normal.len(),1)),this.distance=i,this}clone(){return new Il(this.normal,this.distance)}equals(e){return lo(this.distance,e.distance)&&lo(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const n=UC.copy(this.normal).transformAsVector(e).normalize(),r=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(r,n)}projectPointOntoPlane(e,n=[0,0,0]){e=VC.from(e);const r=this.getPointDistance(e),i=UC.copy(this.normal).scale(r);return e.subtract(i).to(n)}}const HC=[new _e([1,0,0]),new _e([0,1,0]),new _e([0,0,1])],WC=new _e,Fte=new _e;new Il(new _e(1,0,0),0);class so{constructor(e=[]){Sr(this,"planes",void 0),this.planes=e}fromBoundingSphere(e){this.planes.length=2*HC.length;const n=e.center,r=e.radius;let i=0;for(const o of HC){let s=this.planes[i],a=this.planes[i+1];s||(s=this.planes[i]=new Il),a||(a=this.planes[i+1]=new Il);const l=WC.copy(o).scale(-r).add(n);-o.dot(l),s.fromPointNormal(l,o);const c=WC.copy(o).scale(r).add(n),u=Fte.copy(o).negate();-u.dot(c),a.fromPointNormal(c,u),i+=2}return this}computeVisibility(e){let n=tr.INSIDE;for(const r of this.planes)switch(e.intersectPlane(r)){case tr.OUTSIDE:return tr.OUTSIDE;case tr.INTERSECTING:n=tr.INTERSECTING;break}return n}computeVisibilityWithPlaneMask(e,n){if(gu(Number.isFinite(n),"parentPlaneMask is required."),n===so.MASK_OUTSIDE||n===so.MASK_INSIDE)return n;let r=so.MASK_INSIDE;const i=this.planes;for(let o=0;o<this.planes.length;++o){const s=o<31?1<<o:0;if(o<31&&!(n&s))continue;const a=i[o],l=e.intersectPlane(a);if(l===tr.OUTSIDE)return so.MASK_OUTSIDE;l===tr.INTERSECTING&&(r|=s)}return r}}Sr(so,"MASK_OUTSIDE",4294967295);Sr(so,"MASK_INSIDE",0);Sr(so,"MASK_INDETERMINATE",2147483647);new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;new _e;const zi=new Bn,Dte=new Bn,zte=new Bn,cd=new Bn,GC=new Bn;function Bte(t,e={}){const n=CA.EPSILON20,r=10;let i=0,o=0;const s=Dte,a=zte;s.identity(),a.copy(t);const l=n*jte(a);for(;o<r&&$te(a)>l;)Vte(a,cd),GC.copy(cd).transpose(),a.multiplyRight(cd),a.multiplyLeft(GC),s.multiplyRight(cd),++i>2&&(++o,i=0);return e.unitary=s.toTarget(e.unitary),e.diagonal=a.toTarget(e.diagonal),e}function jte(t){let e=0;for(let n=0;n<9;++n){const r=t[n];e+=r*r}return Math.sqrt(e)}const _y=[1,0,0],wy=[2,2,1];function $te(t){let e=0;for(let n=0;n<3;++n){const r=t[zi.getElementIndex(wy[n],_y[n])];e+=2*r*r}return Math.sqrt(e)}function Vte(t,e){const n=CA.EPSILON15;let r=0,i=1;for(let c=0;c<3;++c){const u=Math.abs(t[zi.getElementIndex(wy[c],_y[c])]);u>r&&(i=c,r=u)}const o=_y[i],s=wy[i];let a=1,l=0;if(Math.abs(t[zi.getElementIndex(s,o)])>n){const c=t[zi.getElementIndex(s,s)],u=t[zi.getElementIndex(o,o)],f=t[zi.getElementIndex(s,o)],d=(c-u)/2/f;let h;d<0?h=-1/(-d+Math.sqrt(1+d*d)):h=1/(d+Math.sqrt(1+d*d)),a=1/Math.sqrt(1+h*h),l=h*a}return Bn.IDENTITY.to(e),e[zi.getElementIndex(o,o)]=e[zi.getElementIndex(s,s)]=a,e[zi.getElementIndex(s,o)]=l,e[zi.getElementIndex(o,s)]=-l,e}const Oo=new _e,Ute=new _e,Hte=new _e,Wte=new _e,Gte=new _e,qte=new Bn,Xte={diagonal:new Bn,unitary:new Bn};function Kte(t,e=new qb){if(!t||t.length===0)return e.halfAxes=new Bn([0,0,0,0,0,0,0,0,0]),e.center=new _e,e;const n=t.length,r=new _e(0,0,0);for(const M of t)r.add(M);const i=1/n;r.multiplyByScalar(i);let o=0,s=0,a=0,l=0,c=0,u=0;for(const M of t){const O=Oo.copy(M).subtract(r);o+=O.x*O.x,s+=O.x*O.y,a+=O.x*O.z,l+=O.y*O.y,c+=O.y*O.z,u+=O.z*O.z}o*=i,s*=i,a*=i,l*=i,c*=i,u*=i;const f=qte;f[0]=o,f[1]=s,f[2]=a,f[3]=s,f[4]=l,f[5]=c,f[6]=a,f[7]=c,f[8]=u;const{unitary:d}=Bte(f,Xte),h=e.halfAxes.copy(d);let p=h.getColumn(0,Hte),v=h.getColumn(1,Wte),_=h.getColumn(2,Gte),m=-Number.MAX_VALUE,y=-Number.MAX_VALUE,b=-Number.MAX_VALUE,w=Number.MAX_VALUE,S=Number.MAX_VALUE,x=Number.MAX_VALUE;for(const M of t)Oo.copy(M),m=Math.max(Oo.dot(p),m),y=Math.max(Oo.dot(v),y),b=Math.max(Oo.dot(_),b),w=Math.min(Oo.dot(p),w),S=Math.min(Oo.dot(v),S),x=Math.min(Oo.dot(_),x);p=p.multiplyByScalar(.5*(w+m)),v=v.multiplyByScalar(.5*(S+y)),_=_.multiplyByScalar(.5*(x+b)),e.center.copy(p).add(v).add(_);const E=Ute.set(m-w,y-S,b-x).multiplyByScalar(.5),I=new Bn([E[0],0,0,0,E[1],0,0,0,E[2]]);return e.halfAxes.multiplyRight(I),e}const qa=512,qC=3,ZL=[[.5,.5],[0,0],[0,1],[1,0],[1,1]],QL=ZL.concat([[0,.5],[.5,0],[1,.5],[.5,1]]),Yte=QL.concat([[.25,.5],[.75,.5]]);class Xa{constructor(e,n,r){Xe(this,"x",void 0),Xe(this,"y",void 0),Xe(this,"z",void 0),Xe(this,"childVisible",void 0),Xe(this,"selected",void 0),Xe(this,"_children",void 0),this.x=e,this.y=n,this.z=r}get children(){if(!this._children){const e=this.x*2,n=this.y*2,r=this.z+1;this._children=[new Xa(e,n,r),new Xa(e,n+1,r),new Xa(e+1,n,r),new Xa(e+1,n+1,r)]}return this._children}update(e){const{viewport:n,cullingVolume:r,elevationBounds:i,minZ:o,maxZ:s,bounds:a,offset:l,project:c}=e,u=this.getBoundingVolume(i,l,c);if(a&&!this.insideBounds(a)||r.computeVisibility(u)<0)return!1;if(!this.childVisible){let{z:d}=this;if(d<s&&d>=o){const h=u.distanceTo(n.cameraPosition)*n.scale/n.height;d+=Math.floor(Math.log2(h))}if(d>=s)return this.selected=!0,!0}this.selected=!1,this.childVisible=!0;for(const d of this.children)d.update(e);return!0}getSelected(e=[]){if(this.selected&&e.push(this),this._children)for(const n of this._children)n.getSelected(e);return e}insideBounds([e,n,r,i]){const o=Math.pow(2,this.z),s=qa/o;return this.x*s<r&&this.y*s<i&&(this.x+1)*s>e&&(this.y+1)*s>n}getBoundingVolume(e,n,r){if(r){const l=this.z<1?Yte:this.z<2?QL:ZL,c=[];for(const u of l){const f=Ey(this.x+u[0],this.y+u[1],this.z);f[2]=e[0],c.push(r(f)),e[0]!==e[1]&&(f[2]=e[1],c.push(r(f)))}return Kte(c)}const i=Math.pow(2,this.z),o=qa/i,s=this.x*o+n*qa,a=qa-(this.y+1)*o;return new Wb([s,a,e[0]],[s+o,a+o,e[1]])}}function Zte(t,e,n,r){const i=t instanceof JU&&t.resolution?t.projectPosition:null,o=Object.values(t.getFrustumPlanes()).map(({normal:h,distance:p})=>new Il(h.clone().negate(),p)),s=new so(o),a=t.distanceScales.unitsPerMeter[2],l=n&&n[0]*a||0,c=n&&n[1]*a||0,u=t instanceof ss&&t.pitch<=60?e:0;if(r){const[h,p,v,_]=r,m=os([h,_]),y=os([v,p]);r=[m[0],qa-m[1],y[0],qa-y[1]]}const f=new Xa(0,0,0),d={viewport:t,project:i,cullingVolume:s,elevationBounds:[l,c],minZ:u,maxZ:e,bounds:r,offset:0};if(f.update(d),t instanceof ss&&t.subViewports&&t.subViewports.length>1){for(d.offset=-1;f.update(d)&&!(--d.offset<-qC););for(d.offset=1;f.update(d)&&!(++d.offset>qC););}return f.getSelected()}const bo=512,Qte=[-1/0,-1/0,1/0,1/0],Jte={type:"object",value:null,validate:(t,e)=>e.optional&&t===null||typeof t=="string"||Array.isArray(t)&&t.every(n=>typeof n=="string"),equal:(t,e)=>{if(t===e)return!0;if(!Array.isArray(t)||!Array.isArray(e))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}};function JL(t,e){const n=[e.transformAsPoint([t[0],t[1]]),e.transformAsPoint([t[2],t[1]]),e.transformAsPoint([t[0],t[3]]),e.transformAsPoint([t[2],t[3]])];return[Math.min(...n.map(i=>i[0])),Math.min(...n.map(i=>i[1])),Math.max(...n.map(i=>i[0])),Math.max(...n.map(i=>i[1]))]}function ene(t){return Math.abs(t.split("").reduce((e,n)=>(e<<5)-e+n.charCodeAt(0)|0,0))}function tne(t,e){if(!t||!t.length)return null;const{index:n,id:r}=e;if(Array.isArray(t)){const o=ene(r)%t.length;t=t[o]}let i=t;for(const o of Object.keys(n)){const s=new RegExp("{".concat(o,"}"),"g");i=i.replace(s,String(n[o]))}return Number.isInteger(n.y)&&Number.isInteger(n.z)&&(i=i.replace(/\{-y\}/g,String(Math.pow(2,n.z)-n.y-1))),i}function nne(t,e,n){let r;if(e&&e.length===2){const[i,o]=e,s=t.getBounds({z:i}),a=t.getBounds({z:o});r=[Math.min(s[0],a[0]),Math.min(s[1],a[1]),Math.max(s[2],a[2]),Math.max(s[3],a[3])]}else r=t.getBounds();return t.isGeospatial?[Math.max(r[0],n[0]),Math.max(r[1],n[1]),Math.min(r[2],n[2]),Math.min(r[3],n[3])]:[Math.max(Math.min(r[0],n[2]),n[0]),Math.max(Math.min(r[1],n[3]),n[1]),Math.min(Math.max(r[2],n[0]),n[2]),Math.min(Math.max(r[3],n[1]),n[3])]}function rne({viewport:t,z:e=0,cullRect:n}){return(t.subViewports||[t]).map(i=>Sy(i,e,n))}function Sy(t,e,n){if(!Array.isArray(e)){const o=n.x-t.x,s=n.y-t.y,{width:a,height:l}=n,c={targetZ:e},u=t.unproject([o,s],c),f=t.unproject([o+a,s],c),d=t.unproject([o,s+l],c),h=t.unproject([o+a,s+l],c);return[Math.min(u[0],f[0],d[0],h[0]),Math.min(u[1],f[1],d[1],h[1]),Math.max(u[0],f[0],d[0],h[0]),Math.max(u[1],f[1],d[1],h[1])]}const r=Sy(t,e[0],n),i=Sy(t,e[1],n);return[Math.min(r[0],i[0]),Math.min(r[1],i[1]),Math.max(r[2],i[2]),Math.max(r[3],i[3])]}function ine(t,e,n){return n?JL(t,n).map(i=>i*e/bo):t.map(r=>r*e/bo)}function Xb(t,e){return Math.pow(2,t)*bo/e}function Ey(t,e,n){const r=Xb(n,bo),i=t/r*360-180,o=Math.PI-2*Math.PI*e/r,s=180/Math.PI*Math.atan(.5*(Math.exp(o)-Math.exp(-o)));return[i,s]}function XC(t,e,n,r){const i=Xb(n,r);return[t/i*bo,e/i*bo]}function one(t,e,n,r,i=bo){if(t.isGeospatial){const[c,u]=Ey(e,n,r),[f,d]=Ey(e+1,n+1,r);return{west:c,north:u,east:f,south:d}}const[o,s]=XC(e,n,r,i),[a,l]=XC(e+1,n+1,r,i);return{left:o,top:s,right:a,bottom:l}}function sne(t,e,n,r,i){const o=nne(t,null,r),s=Xb(e,n),[a,l,c,u]=ine(o,s,i),f=[];for(let d=Math.floor(a);d<c;d++)for(let h=Math.floor(l);h<u;h++)f.push({x:d,y:h,z:e});return f}function ane({viewport:t,maxZoom:e,minZoom:n,zRange:r,extent:i,tileSize:o=bo,modelMatrix:s,modelMatrixInverse:a,zoomOffset:l=0}){let c=t.isGeospatial?Math.round(t.zoom+Math.log2(bo/o))+l:Math.ceil(t.zoom)+l;if(typeof n=="number"&&Number.isFinite(n)&&c<n){if(!i)return[];c=n}typeof e=="number"&&Number.isFinite(e)&&c>e&&(c=e);let u=i;return s&&a&&i&&!t.isGeospatial&&(u=JL(i,s)),t.isGeospatial?Zte(t,c,r,i):sne(t,c,o,u||Qte,a)}function lne(t){let e={},n;return r=>{for(const i in r)if(!cne(r[i],e[i])){n=t(r),e=r;break}return n}}function cne(t,e){if(t===e)return!0;if(Array.isArray(t)){const n=t.length;if(!e||e.length!==n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}return!1}const KC=1,rp=2,une="never",fne="no-overlap",Kb="best-available",dne=5,hne={[Kb]:mne,[fne]:vne,[une]:()=>{}},gne={extent:null,tileSize:512,maxZoom:null,minZoom:null,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:"best-available",zRange:null,maxRequests:6,zoomOffset:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{}};class pne{constructor(e){Xe(this,"opts",void 0),Xe(this,"_requestScheduler",void 0),Xe(this,"_cache",void 0),Xe(this,"_dirty",void 0),Xe(this,"_tiles",void 0),Xe(this,"_cacheByteSize",void 0),Xe(this,"_viewport",void 0),Xe(this,"_zRange",void 0),Xe(this,"_selectedTiles",void 0),Xe(this,"_frameNumber",void 0),Xe(this,"_modelMatrix",void 0),Xe(this,"_modelMatrixInverse",void 0),Xe(this,"_maxZoom",void 0),Xe(this,"_minZoom",void 0),Xe(this,"onTileLoad",void 0),Xe(this,"_getCullBounds",lne(rne)),this.opts={...gne,...e},this.onTileLoad=n=>{var r,i;(r=(i=this.opts).onTileLoad)===null||r===void 0||r.call(i,n),this.opts.maxCacheByteSize&&(this._cacheByteSize+=n.byteLength,this._resizeCache())},this._requestScheduler=new ek({maxRequests:e.maxRequests,throttleRequests:!!(e.maxRequests&&e.maxRequests>0)}),this._cache=new Map,this._tiles=[],this._dirty=!1,this._cacheByteSize=0,this._viewport=null,this._selectedTiles=null,this._frameNumber=0,this._modelMatrix=new Tr,this._modelMatrixInverse=new Tr,this.setOptions(e)}get tiles(){return this._tiles}get selectedTiles(){return this._selectedTiles}get isLoaded(){return this._selectedTiles!==null&&this._selectedTiles.every(e=>e.isLoaded)}get needsReload(){return this._selectedTiles!==null&&this._selectedTiles.some(e=>e.needsReload)}setOptions(e){Object.assign(this.opts,e),Number.isFinite(e.maxZoom)&&(this._maxZoom=Math.floor(e.maxZoom)),Number.isFinite(e.minZoom)&&(this._minZoom=Math.ceil(e.minZoom))}finalize(){for(const e of this._cache.values())e.isLoading&&e.abort();this._cache.clear(),this._tiles=[],this._selectedTiles=null}reloadAll(){for(const e of this._cache.keys()){const n=this._cache.get(e);!this._selectedTiles||!this._selectedTiles.includes(n)?this._cache.delete(e):n.setNeedsReload()}}update(e,{zRange:n,modelMatrix:r}={}){const i=new Tr(r),o=!i.equals(this._modelMatrix);if(!this._viewport||!e.equals(this._viewport)||!lo(this._zRange,n)||o){o&&(this._modelMatrixInverse=i.clone().invert(),this._modelMatrix=i),this._viewport=e,this._zRange=n;const a=this.getTileIndices({viewport:e,maxZoom:this._maxZoom,minZoom:this._minZoom,zRange:n,modelMatrix:this._modelMatrix,modelMatrixInverse:this._modelMatrixInverse});this._selectedTiles=a.map(l=>this._getTile(l,!0)),this._dirty&&this._rebuildTree()}else this.needsReload&&(this._selectedTiles=this._selectedTiles.map(a=>this._getTile(a.index,!0)));const s=this.updateTileStates();return this._pruneRequests(),this._dirty&&this._resizeCache(),s&&this._frameNumber++,this._frameNumber}isTileVisible(e,n){if(!e.isVisible)return!1;if(n&&this._viewport){const r=this._getCullBounds({viewport:this._viewport,z:this._zRange,cullRect:n}),{bbox:i}=e;for(const[o,s,a,l]of r){let c;if("west"in i)c=i.west<a&&i.east>o&&i.south<l&&i.north>s;else{const u=Math.min(i.top,i.bottom),f=Math.max(i.top,i.bottom);c=i.left<a&&i.right>o&&u<l&&f>s}if(c)return!0}return!1}return!0}getTileIndices({viewport:e,maxZoom:n,minZoom:r,zRange:i,modelMatrix:o,modelMatrixInverse:s}){const{tileSize:a,extent:l,zoomOffset:c}=this.opts;return ane({viewport:e,maxZoom:n,minZoom:r,zRange:i,tileSize:a,extent:l,modelMatrix:o,modelMatrixInverse:s,zoomOffset:c})}getTileId(e){return"".concat(e.x,"-").concat(e.y,"-").concat(e.z)}getTileZoom(e){return e.z}getTileMetadata(e){const{tileSize:n}=this.opts;return{bbox:one(this._viewport,e.x,e.y,e.z,n)}}getParentIndex(e){const n=Math.floor(e.x/2),r=Math.floor(e.y/2),i=e.z-1;return{x:n,y:r,z:i}}updateTileStates(){const e=this.opts.refinementStrategy||Kb,n=new Array(this._cache.size);let r=0;for(const i of this._cache.values())n[r++]=i.isVisible,i.isSelected=!1,i.isVisible=!1;for(const i of this._selectedTiles)i.isSelected=!0,i.isVisible=!0;(typeof e=="function"?e:hne[e])(Array.from(this._cache.values())),r=0;for(const i of this._cache.values())if(n[r++]!==i.isVisible)return!0;return!1}_pruneRequests(){const{maxRequests:e=0}=this.opts,n=[];let r=0;for(const i of this._cache.values())i.isLoading&&(r++,!i.isSelected&&!i.isVisible&&n.push(i));for(;e>0&&r>e&&n.length>0;)n.shift().abort(),r--}_rebuildTree(){const{_cache:e}=this;for(const n of e.values())n.parent=null,n.children&&(n.children.length=0);for(const n of e.values()){const r=this._getNearestAncestor(n);n.parent=r,r!=null&&r.children&&r.children.push(n)}}_resizeCache(){const{_cache:e,opts:n}=this,r=n.maxCacheSize||(n.maxCacheByteSize?1/0:dne*this.selectedTiles.length),i=n.maxCacheByteSize||1/0;if(e.size>r||this._cacheByteSize>i){for(const[l,c]of e){if(!c.isVisible&&!c.isSelected){var s,a;this._cacheByteSize-=n.maxCacheByteSize?c.byteLength:0,e.delete(l),(s=(a=this.opts).onTileUnload)===null||s===void 0||s.call(a,c)}if(e.size<=r&&this._cacheByteSize<=i)break}this._rebuildTree(),this._dirty=!0}this._dirty&&(this._tiles=Array.from(this._cache.values()).sort((l,c)=>l.zoom-c.zoom),this._dirty=!1)}_getTile(e,n){const r=this.getTileId(e);let i=this._cache.get(r),o=!1;return!i&&n?(i=new Ate(e),Object.assign(i,this.getTileMetadata(i.index)),Object.assign(i,{id:r,zoom:this.getTileZoom(i.index)}),o=!0,this._cache.set(r,i),this._dirty=!0):i&&i.needsReload&&(o=!0),i&&o&&i.loadData({getData:this.opts.getTileData,requestScheduler:this._requestScheduler,onLoad:this.onTileLoad,onError:this.opts.onTileError}),i}_getNearestAncestor(e){const{_minZoom:n=0}=this;let r=e.index;for(;this.getTileZoom(r)>n;){r=this.getParentIndex(r);const i=this._getTile(r);if(i)return i}return null}}function mne(t){for(const e of t)e.state=0;for(const e of t)e.isSelected&&!eR(e)&&Yb(e);for(const e of t)e.isVisible=!!(e.state&rp)}function vne(t){for(const n of t)n.state=0;for(const n of t)n.isSelected&&eR(n);const e=Array.from(t).sort((n,r)=>n.zoom-r.zoom);for(const n of e)if(n.isVisible=!!(n.state&rp),n.children&&(n.isVisible||n.state&KC))for(const r of n.children)r.state=KC;else n.isSelected&&Yb(n)}function eR(t){let e=t;for(;e;){if(e.isLoaded||e.content)return e.state|=rp,!0;e=e.parent}return!1}function Yb(t){for(const e of t.children)e.isLoaded||e.content?e.state|=rp:Yb(e)}const yne={TilesetClass:pne,data:{type:"data",value:[]},dataComparator:Jte.equal,renderSubLayers:{type:"function",value:t=>new lb(t)},getTileData:{type:"function",optional:!0,value:null},onViewportLoad:{type:"function",optional:!0,value:null},onTileLoad:{type:"function",value:t=>{}},onTileUnload:{type:"function",value:t=>{}},onTileError:{type:"function",value:t=>console.error(t)},extent:{type:"array",optional:!0,value:null,compare:!0},tileSize:512,maxZoom:null,minZoom:0,maxCacheSize:null,maxCacheByteSize:null,refinementStrategy:Kb,zRange:null,maxRequests:6,zoomOffset:0};class Zb extends Sg{initializeState(){this.state={tileset:null,isLoaded:!1}}finalizeState(){var e,n;(e=this.state)===null||e===void 0||(n=e.tileset)===null||n===void 0||n.finalize()}get isLoaded(){var e,n,r;return(e=this.state)===null||e===void 0||(n=e.tileset)===null||n===void 0||(r=n.selectedTiles)===null||r===void 0?void 0:r.every(i=>i.isLoaded&&i.layers&&i.layers.every(o=>o.isLoaded))}shouldUpdateState({changeFlags:e}){return e.somethingChanged}updateState({changeFlags:e}){let{tileset:n}=this.state;const r=e.propsOrDataChanged||e.updateTriggersChanged,i=e.dataChanged||e.updateTriggersChanged&&(e.updateTriggersChanged.all||e.updateTriggersChanged.getTileData);n?r&&(n.setOptions(this._getTilesetOptions()),i?n.reloadAll():this.state.tileset.tiles.forEach(o=>{o.layers=null})):(n=new this.props.TilesetClass(this._getTilesetOptions()),this.setState({tileset:n})),this._updateTileset()}_getTilesetOptions(){const{tileSize:e,maxCacheSize:n,maxCacheByteSize:r,refinementStrategy:i,extent:o,maxZoom:s,minZoom:a,maxRequests:l,zoomOffset:c}=this.props;return{maxCacheSize:n,maxCacheByteSize:r,maxZoom:s,minZoom:a,tileSize:e,refinementStrategy:i,extent:o,maxRequests:l,zoomOffset:c,getTileData:this.getTileData.bind(this),onTileLoad:this._onTileLoad.bind(this),onTileError:this._onTileError.bind(this),onTileUnload:this._onTileUnload.bind(this)}}_updateTileset(){const{tileset:e}=this.state,{zRange:n,modelMatrix:r}=this.props,i=e.update(this.context.viewport,{zRange:n,modelMatrix:r}),{isLoaded:o}=e,s=this.state.isLoaded!==o,a=this.state.frameNumber!==i;o&&(s||a)&&this._onViewportLoad(),a&&this.setState({frameNumber:i}),this.state.isLoaded=o}_onViewportLoad(){const{tileset:e}=this.state,{onViewportLoad:n}=this.props;n&&n(e.selectedTiles)}_onTileLoad(e){this.props.onTileLoad(e),e.layers=null,this.setNeedsUpdate()}_onTileError(e,n){this.props.onTileError(e),n.layers=null,this.setNeedsUpdate()}_onTileUnload(e){this.props.onTileUnload(e)}getTileData(e){const{data:n,getTileData:r,fetch:i}=this.props,{signal:o}=e;return e.url=typeof n=="string"||Array.isArray(n)?tne(n,e):null,r?r(e):i&&e.url?i(e.url,{propName:"data",layer:this,signal:o}):null}renderSubLayers(e){return this.props.renderSubLayers(e)}getSubLayerPropsByTile(e){return null}getPickingInfo({info:e,sourceLayer:n}){const r=n.props.tile;return e.picked&&(e.tile=r),e.sourceTile=r,e}_updateAutoHighlight(e){const n=e.sourceTile;if(n&&n.layers)for(const r of n.layers)r.updateAutoHighlight(e)}renderLayers(){return this.state.tileset.tiles.map(e=>{const n=this.getSubLayerPropsByTile(e);if(!(!e.isLoaded&&!e.content))if(e.layers)n&&e.layers[0]&&Object.keys(n).some(r=>e.layers[0].props[r]!==n[r])&&(e.layers=e.layers.map(r=>r.clone(n)));else{const r=this.renderSubLayers({...this.props,...this.getSubLayerProps({id:e.id,updateTriggers:this.props.updateTriggers}),data:e.content,_offset:0,tile:e});e.layers=yg(r,Boolean).map(i=>i.clone({tile:e,...n}))}return e.layers})}filterSubLayer({layer:e,cullRect:n}){const{tile:r}=e.props;return this.state.tileset.isTileVisible(r,n)}}Xe(Zb,"defaultProps",yne);Xe(Zb,"layerName","TileLayer");const bne=new Zb({data:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],maxRequests:20,pickable:!0,onViewportLoad:null,autoHighlight:!1,highlightColor:[60,60,60,40],minZoom:0,maxZoom:19,tileSize:256,zoomOffset:devicePixelRatio===1?-1:0,renderSubLayers:t=>{const e=t.tile.boundingBox[0][0],n=t.tile.boundingBox[0][1],r=t.tile.boundingBox[1][0],i=t.tile.boundingBox[1][1];return[new eb(t,{data:void 0,image:t.data,bounds:[e,n,r,i]})]}}),_ne=kd.map(t=>({value:t.id,label:t.name})),wne=({resetCameraHandler:t,selectLandmarkHandler:e,searchVal:n})=>Ge.jsxs(Ste,{children:[Ge.jsx(Ete,{children:Ge.jsx(CW,{onClick:t})}),Ge.jsx(qee,{showSearch:!0,style:{width:600},placeholder:"Search for a landmark...",optionFilterProp:"children",filterOption:(r,i)=>((i==null?void 0:i.label)??"").toLowerCase().includes(r.toLowerCase()),filterSort:(r,i)=>((r==null?void 0:r.label)??"").toLowerCase().localeCompare(((i==null?void 0:i.label)??"").toLowerCase()),options:_ne,onSelect:r=>e(r),value:n})]}),Sne={marker:{x:0,y:0,width:260,height:280,anchor:260,mask:!0}},Ene={viewState:KL,animationOn:!1},xne=()=>{const[t,e]=g.useState(),[n,r]=g.useState(!1),[i,o]=g.useState(kd),[s,a]=g.useState(""),[l,c]=g.useReducer(xte,Ene),u=g.useMemo(()=>{const b=kd.filter(w=>w.selected).map(w=>w.id);return b.length<1?null:b[0]},[i]),f=b=>{if(u){const S=m[u];S.selected=!1,o(x=>[...x,S])}r(!n);const w=m[b.object.id];w.selected=!0,o(S=>[...S,w])},d=b=>{if(a(b),u){const S=m[u];S.selected=!1,o(x=>[...x,S])}const w=m[b];if(w.selected=!0,o(S=>[...S,w]),l.animationOn){const S=m[b].coordinates;c({type:zs.UPDATE_VIEWSTATE,viewState:{transitionDuration:2e3,latitude:S[1],longitude:S[0],zoom:10,minZoom:4,maxZoom:12,maxPitch:89,bearing:0}})}},h=()=>{if(a(""),u){const b=m[u];b.selected=!1,o(w=>[...w,b])}c({type:zs.UPDATE_VIEWSTATE,viewState:{...KL,transitionDuration:l.animationOn?1600:1e3}})},p=b=>{c({type:zs.UPDATE_VIEWSTATE,viewState:b})},v=()=>{if(r(!1),u){const b=m[u];b.selected=!1,o(w=>[...w,b])}},_=new Xu({id:"icon-layer",data:i,pickable:!0,iconAtlas:"/StoriesOfOurLand/icons/pin.png",iconMapping:Sne,getIcon:()=>"marker",sizeScale:10,getPosition:b=>b.coordinates,getSize:()=>5,getColor:b=>b.selected?[210,77,87]:[90,34,139],onHover:b=>e(b),highlightColor:[210,77,87],onClick:b=>f(b)}),m=ute(kd),y=g.useMemo(()=>m[u??0]??{},[u]);return Ge.jsx(wte,{children:Ge.jsxs(d8,{layers:[bne,_],views:new X1({repeat:!0}),initialViewState:l.viewState,controller:!0,onViewStateChange:({viewState:b})=>p(b),children:[Ge.jsx(wne,{resetCameraHandler:h,selectLandmarkHandler:d,searchVal:s}),Ge.jsx(dte,{landmark:y,active:n,onClose:v}),(t==null?void 0:t.object)&&Ge.jsx(yte,{style:{position:"absolute",left:t.x,top:t.y},children:Ge.jsx(pte,{landmark:t.object})}),Ge.jsx(YL.Provider,{value:{state:l,dispatch:c},children:Ge.jsx(Cte,{})}),Ge.jsxs(mte,{children:[" ",Ge.jsx(vte,{href:"http://www.openstreetmap.org/copyright",target:"blank",children:"OpenStreetMap contributors"})]})]})})};function Cne(){return Ge.jsx(Ge.Fragment,{children:Ge.jsx(xne,{})})}Xm.createRoot(document.getElementById("root")).render(Ge.jsx(de.StrictMode,{children:Ge.jsx(Cne,{})}));
